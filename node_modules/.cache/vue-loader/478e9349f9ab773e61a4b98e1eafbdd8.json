{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/system/maintain/systemCleardata/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/system/maintain/systemCleardata/index.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlcGxhY2VTaXRlVXJsQXBpIH0gZnJvbSAnQC9hcGkvc3lzdGVtJwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnc3lzdGVtQ2xlYXJkYXRhJywKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZhbHVlNjogJycsCiAgICAgICAgICAgIG1vZGFsczogZmFsc2UsCiAgICAgICAgICAgIGdyaWQ6IHsKICAgICAgICAgICAgICAgIHhsOiA2LAogICAgICAgICAgICAgICAgbGc6IDgsCiAgICAgICAgICAgICAgICBtZDogMTIsCiAgICAgICAgICAgICAgICBzbTogMjQsCiAgICAgICAgICAgICAgICB4czogMjQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGFiTGlzdDogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5pu05o2i5Z+f5ZCNJywKICAgICAgICAgICAgICAgICAgICB0bHQ6ICfmm7/mjaLmiYDmnInmnKzlnLDkuIrkvKDnmoTlm77niYfln5/lkI0nLAogICAgICAgICAgICAgICAgICAgIHR5cGVOYW1lOiAncHJpbWFyeScsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJzExJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+a4hemZpOeUqOaIt+eUn+aIkOeahOS4tOaXtumZhOS7ticsCiAgICAgICAgICAgICAgICAgICAgdGx0OiAn5riF6Zmk55So5oi355Sf5oiQ55qE5Li05pe26ZmE5Lu277yM5LiN5Lya5b2x5ZON5ZWG5ZOB5Zu+JywKICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGVtcCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmuIXpmaTlm57mlLbnq5nllYblk4EnLAogICAgICAgICAgICAgICAgICAgIHRsdDogJ+a4hemZpOWbnuaUtuermeWVhuWTge+8jOiwqOaFjuaTjeS9nCcsCiAgICAgICAgICAgICAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlY3ljbGUnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgLy8gewogICAgICAgICAgICAgICAgLy8gICAgIHRpdGxlOiAn5riF6Zmk55So5oi35pWw5o2uJywKICAgICAgICAgICAgICAgIC8vICAgICB0bHQ6ICfnlKjmiLfnm7jlhbPnmoTmiYDmnInooajpg73lsIbooqvmuIXpmaTvvIzosKjmhY7mk43kvZwnLAogICAgICAgICAgICAgICAgLy8gICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgICAgICAgICAgLy8gICAgIHR5cGU6ICd1c2VyJwogICAgICAgICAgICAgICAgLy8gfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+a4hemZpOWVhuWfjuaVsOaNricsCiAgICAgICAgICAgICAgICAgICAgdGx0OiAn5riF6Zmk5ZWG5Z+O5pWw5o2u77yM6LCo5oWO5pON5L2cJywKICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3RvcmUnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5riF6Zmk5ZWG5ZOB5YiG57G7JywKICAgICAgICAgICAgICAgICAgICB0bHQ6ICfkvJrmuIXpmaTmiYDmnInllYblk4HliIbnsbvvvIzosKjmhY7mk43kvZwnLAogICAgICAgICAgICAgICAgICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmuIXpmaTorqLljZXmlbDmja4nLAogICAgICAgICAgICAgICAgICAgIHRsdDogJ+a4hemZpOeUqOaIt+aJgOacieiuouWNleaVsOaNru+8jOiwqOaFjuaTjeS9nCcsCiAgICAgICAgICAgICAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ29yZGVyJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+a4hemZpOWuouacjeaVsOaNricsCiAgICAgICAgICAgICAgICAgICAgdGx0OiAn5riF6Zmk5re75Yqg55qE5a6i5pyN5pWw5o2u77yM6LCo5oWO5pON5L2cJywKICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAna2VmdScKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmuIXpmaTlvq7kv6HmlbDmja4nLAogICAgICAgICAgICAgICAgICAgIHRsdDogJ+a4hemZpOW+ruS/oeiPnOWNleS/neWtmOaVsOaNru+8jOW+ruS/oeWFs+mUruWtl+aXoOaViOWbnuWkjScsCiAgICAgICAgICAgICAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dlY2hhdCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAvLyB7CiAgICAgICAgICAgICAgICAvLyAgICAgdGl0bGU6ICfmuIXpmaTlvq7kv6HnlKjmiLcnLAogICAgICAgICAgICAgICAgLy8gICAgIHRsdDogJ+a4hemZpOeUqOaIt+ihqOWSjOW+ruS/oeeUqOaIt+ihqCzosKjmhY7mk43kvZwnLAogICAgICAgICAgICAgICAgLy8gICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgICAgICAgICAgLy8gICAgIHR5cGU6ICd3ZWNoYXR1c2VyJwogICAgICAgICAgICAgICAgLy8gfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+a4hemZpOWGheWuueWIhuexuycsCiAgICAgICAgICAgICAgICAgICAgdGx0OiAn5riF6Zmk5re75Yqg55qE5paH56ug5ZKM5paH56ug5YiG57G7LOiwqOaFjuaTjeS9nCcsCiAgICAgICAgICAgICAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2FydGljbGUnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5riF6Zmk5omA5pyJ6ZmE5Lu2JywKICAgICAgICAgICAgICAgICAgICB0bHQ6ICfmuIXpmaTmiYDmnInpmYTku7bnlKjmiLfnlJ/miJDlkozlkI7lj7DkuIrkvKAs6LCo5oWO5pON5L2cJywKICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYXR0YWNobWVudCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmuIXpmaTns7vnu5/orrDlvZUnLAogICAgICAgICAgICAgICAgICAgIHRsdDogJ+a4hemZpOezu+e7n+iusOW9lSzosKjmhY7mk43kvZwnLAogICAgICAgICAgICAgICAgICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzeXN0ZW0nCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8vIOa4hemZpOaVsOaNrgogICAgICAgIG9uQ2hhbmdlIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICcxMScpIHsKICAgICAgICAgICAgICAgIHRoaXMubW9kYWxzID0gdHJ1ZQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5jbGVhckZyb21zKGl0ZW0pCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNsZWFyRnJvbXMgKGl0ZW0pIHsKICAgICAgICAgICAgbGV0IGRlbGZyb21EYXRhID0gewogICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsCiAgICAgICAgICAgICAgICB1cmw6IGBzeXN0ZW0vY2xlYXIvJHtpdGVtLnR5cGV9YCwKICAgICAgICAgICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgICAgICAgICBpZHM6ICcnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy4kbW9kYWxTdXJlKGRlbGZyb21EYXRhKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKQogICAgICAgICAgICB9KS5jYXRjaChyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8g5pu05o2i5Z+f5ZCNCiAgICAgICAgY2hhbmdlWVUgKCkgewogICAgICAgICAgICByZXBsYWNlU2l0ZVVybEFwaSh7IHVybDogdGhpcy52YWx1ZTYgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy5tb2RhbHMgPSBmYWxzZQogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpCiAgICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/system/maintain/systemCleardata","sourcesContent":["<template>\n    <div>\n        <div class=\"i-layout-page-header\">\n          <div class=\"i-layout-page-header\">\n            <span class=\"ivu-page-header-title\">{{$route.meta.title}}</span>\n            <div class=\"clear_tit\">\n              <Icon type=\"md-information-circle\" color=\"#ED4014\"/>\n              <span>清除数据请谨慎，清除就无法恢复哦！</span>\n            </div>\n          </div>\n        </div>\n        <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n            <Row type=\"flex\" :gutter=\"24\">\n                <Col v-bind=\"grid\" class=\"mb20\" v-for=\"(item, index) in tabList\" :key=\"index\">\n                    <div class=\"clear_box\">\n                        <span class=\"clear_box_sp1\" v-text=\"item.title\"></span>\n                        <span class=\"clear_box_sp2\" v-text=\"item.tlt\"></span>\n                        <Button :type=\"item.typeName\" v-text=\"item.typeName === 'primary'?'立即更换': '立即清理'\" @click=\"onChange(item)\"></Button>\n                    </div>\n                </Col>\n            </Row>\n        </Card>\n       <!-- 更换域名-->\n        <Modal v-model=\"modals\" class=\"tableBox\" scrollable  closable title=\"更换域名\" :mask-closable=\"false\">\n            <div class=\"acea-row row-column\">\n                <span>请输入需要替换的域名，格式为：http://域名。</span>\n                <span>替换规则：会使用当前[设置]里面的[网站域名]去替换成当前您输入的域名。</span>\n                <span class=\"mb15\">替换成功后再去更换[网站域名]。</span>\n                <Input v-model=\"value6\" type=\"textarea\" :rows=\"4\" placeholder=\"请输入网站域名...\" />\n            </div>\n            <div slot=\"footer\">\n                <Button type=\"primary\" size=\"large\" long  @click=\"changeYU\">确定</Button>\n            </div>\n        </Modal>\n    </div>\n</template>\n\n<script>\n    import { replaceSiteUrlApi } from '@/api/system'\n    export default {\n        name: 'systemCleardata',\n        data () {\n            return {\n                value6: '',\n                modals: false,\n                grid: {\n                    xl: 6,\n                    lg: 8,\n                    md: 12,\n                    sm: 24,\n                    xs: 24\n                },\n                tabList: [\n                    {\n                        title: '更换域名',\n                        tlt: '替换所有本地上传的图片域名',\n                        typeName: 'primary',\n                        type: '11'\n                    },\n                    {\n                        title: '清除用户生成的临时附件',\n                        tlt: '清除用户生成的临时附件，不会影响商品图',\n                        typeName: 'error',\n                        type: 'temp'\n                    },\n                    {\n                        title: '清除回收站商品',\n                        tlt: '清除回收站商品，谨慎操作',\n                        typeName: 'error',\n                        type: 'recycle'\n                    },\n                    // {\n                    //     title: '清除用户数据',\n                    //     tlt: '用户相关的所有表都将被清除，谨慎操作',\n                    //     typeName: 'error',\n                    //     type: 'user'\n                    // },\n                    {\n                        title: '清除商城数据',\n                        tlt: '清除商城数据，谨慎操作',\n                        typeName: 'error',\n                        type: 'store'\n                    },\n                    {\n                        title: '清除商品分类',\n                        tlt: '会清除所有商品分类，谨慎操作',\n                        typeName: 'error',\n                        type: 'category'\n                    },\n                    {\n                        title: '清除订单数据',\n                        tlt: '清除用户所有订单数据，谨慎操作',\n                        typeName: 'error',\n                        type: 'order'\n                    },\n                    {\n                        title: '清除客服数据',\n                        tlt: '清除添加的客服数据，谨慎操作',\n                        typeName: 'error',\n                        type: 'kefu'\n                    },\n                    {\n                        title: '清除微信数据',\n                        tlt: '清除微信菜单保存数据，微信关键字无效回复',\n                        typeName: 'error',\n                        type: 'wechat'\n                    },\n                    // {\n                    //     title: '清除微信用户',\n                    //     tlt: '清除用户表和微信用户表,谨慎操作',\n                    //     typeName: 'error',\n                    //     type: 'wechatuser'\n                    // },\n                    {\n                        title: '清除内容分类',\n                        tlt: '清除添加的文章和文章分类,谨慎操作',\n                        typeName: 'error',\n                        type: 'article'\n                    },\n                    {\n                        title: '清除所有附件',\n                        tlt: '清除所有附件用户生成和后台上传,谨慎操作',\n                        typeName: 'error',\n                        type: 'attachment'\n                    },\n                    {\n                        title: '清除系统记录',\n                        tlt: '清除系统记录,谨慎操作',\n                        typeName: 'error',\n                        type: 'system'\n                    }\n                ]\n            }\n        },\n        methods: {\n            // 清除数据\n            onChange (item) {\n                if (item.type === '11') {\n                    this.modals = true\n                } else {\n                    this.clearFroms(item)\n                }\n            },\n            clearFroms (item) {\n                let delfromData = {\n                    title: item.title,\n                    url: `system/clear/${item.type}`,\n                    method: 'get',\n                    ids: ''\n                }\n                this.$modalSure(delfromData).then((res) => {\n                    this.$Message.success(res.msg)\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 更换域名\n            changeYU () {\n                replaceSiteUrlApi({ url: this.value6 }).then(res => {\n                    this.modals = false\n                    this.$Message.success(res.msg)\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n    .clear_tit\n        display flex\n        align-items center\n        span\n            font-size 14px\n            color #ED4014\n            margin: 15px 0\n    .clear_box\n        border 1px solid #DADFE6\n        border-radius 3px\n        display flex\n        flex-direction column\n        align-items: center\n        padding 30px 10px\n        box-sizing border-box\n        .clear_box_sp1\n            font-size 16px\n            color #000000\n            display block\n        .clear_box_sp2\n            font-size 14px\n            color #808695\n            display block\n            margin: 12px 0\n    .clear_box >>> .ivu-btn-error\n        color: #fff;\n        background-color: #ED4014;\n        border-color: #ED4014;\n    .product_tabs >>> .ivu-page-header-title\n        margin-bottom 0!important\n</style>\n"]}]}