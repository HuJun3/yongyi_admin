{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/components/uploadPictures/widgetImg.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/components/uploadPictures/widgetImg.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1cGxvYWRGcm9tIGZyb20gJy4vaW5kZXgnCmltcG9ydCAnLi4vLi4vLi4vcHVibGljL1VFZGl0b3IvZGlhbG9ncy9pbnRlcm5hbCcKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd3aWRnZXRJbWcnLAogIGNvbXBvbmVudHM6IHsgdXBsb2FkRnJvbSB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNDaG9pY2U6ICfljZXpgIknLAogICAgICBpc0Nob2ljZUQ6ICflpJrpgIknLAogICAgICBncmlkUGljOiB7CiAgICAgICAgeGw6IDQsCiAgICAgICAgbGc6IDQsCiAgICAgICAgbWQ6IDgsCiAgICAgICAgc206IDEyLAogICAgICAgIHhzOiAxMgogICAgICB9LAogICAgICBncmlkQnRuOiB7CiAgICAgICAgeGw6IDQsCiAgICAgICAgbGc6IDQsCiAgICAgICAgbWQ6IDQsCiAgICAgICAgc206IDgsCiAgICAgICAgeHM6IDgKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5xdWVyeS5mb2RkZXIpCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRQaWNEIChwYykgewogICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuZm9kZGVyID09PSAnZGlhbG9nJykgewogICAgICAgIGxldCBzdHIgPSAnJwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgbm93RWRpdG9yLmVkaXRvci5leGVjQ29tbWFuZCgnaW5zZXJ0aW1hZ2UnLCB7IHNyYzogcGNbaV0uYXR0X2RpciB9KQogICAgICAgIH0KICAgICAgICBub3dFZGl0b3IuZGlhbG9nLmNsb3NlKHRydWUpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IHBjcyA9IHdpbmRvdy5mb3JtX2NyZWF0ZV9oZWxwZXIuZ2V0KHRoaXMuJHJvdXRlLnF1ZXJ5LmZvZGRlcikgfHwgW107CiAgICAgICAgcGMgPSBwYy5tYXAoIGl0ZW0gPT4gewogICAgICAgICAgcmV0dXJuIGl0ZW0uYXR0X2RpcjsKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZyhwYyk7CiAgICAgICAgbGV0IGNvbmNhdFBjID0gcGNzLmNvbmNhdChwYyk7CiAgICAgICAgbGV0IHBjTGlzdCA9IEFycmF5LmZyb20obmV3IFNldChjb25jYXRQYykpOwogICAgICAgIGZvcm1fY3JlYXRlX2hlbHBlci5zZXQodGhpcy4kcm91dGUucXVlcnkuZm9kZGVyLHBjTGlzdCk7CiAgICAgICAgZm9ybV9jcmVhdGVfaGVscGVyLmNsb3NlKHRoaXMuJHJvdXRlLnF1ZXJ5LmZvZGRlcikKICAgICAgfQogICAgfSwKICAgIGdldFBpYyAocGMpIHsKICAgICAgZm9ybV9jcmVhdGVfaGVscGVyLnNldCh0aGlzLiRyb3V0ZS5xdWVyeS5mb2RkZXIsIHBjLnNhdHRfZGlyKQogICAgICBmb3JtX2NyZWF0ZV9oZWxwZXIuY2xvc2UodGhpcy4kcm91dGUucXVlcnkuZm9kZGVyKQogICAgfQogICAgLy8gZ2V0UGljIChwYykgewogICAgLy8gICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5mb2RkZXIgPT09ICdkaWFsb2cnKSB7CiAgICAvLyAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlICovCiAgICAvLyAgICAgICAgIG5vd0VkaXRvci5kaWFsb2cuY2xvc2UodHJ1ZSk7CiAgICAvLyAgICAgICAgIG5vd0VkaXRvci5lZGl0b3Iuc2V0Q29udGVudCgnPGltZyBzcmM9IicrcGMuYXR0X2RpcisnIj4nLHRydWUpOwogICAgLy8gICAgIH0KICAgIC8vICAgICBlbHNlIHsKICAgIC8vICAgICAgICAgZm9ybV9jcmVhdGVfaGVscGVyLnNldCh0aGlzLiRyb3V0ZS5xdWVyeS5mb2RkZXIsIHBjLnNhdHRfZGlyKQogICAgLy8gICAgICAgICBmb3JtX2NyZWF0ZV9oZWxwZXIuY2xvc2UodGhpcy4kcm91dGUucXVlcnkuZm9kZGVyKTsKICAgIC8vICAgICB9CiAgICAvLyB9CiAgfQp9Cg=="},{"version":3,"sources":["widgetImg.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"widgetImg.vue","sourceRoot":"src/components/uploadPictures","sourcesContent":["<template>\n    <div class=\"box\">\n        <upload-from :isChoice=\"isChoiceD\" @getPicD = \"getPicD\" :gridPic=\"gridPic\" :gridBtn=\"gridBtn\" v-if=\"this.$route.query.fodder === 'dialog' || this.$route.query.type === 'many'\"></upload-from>\n        <upload-from :isChoice=\"isChoice\" @getPic=\"getPic\" :gridPic=\"gridPic\" :gridBtn=\"gridBtn\" v-else></upload-from>\n    </div>\n</template>\n\n<script>\nimport uploadFrom from './index'\nimport '../../../public/UEditor/dialogs/internal'\nexport default {\n  name: 'widgetImg',\n  components: { uploadFrom },\n  data () {\n    return {\n      isChoice: '单选',\n      isChoiceD: '多选',\n      gridPic: {\n        xl: 4,\n        lg: 4,\n        md: 8,\n        sm: 12,\n        xs: 12\n      },\n      gridBtn: {\n        xl: 4,\n        lg: 4,\n        md: 4,\n        sm: 8,\n        xs: 8\n      }\n    }\n  },\n  mounted () {\n    console.log(this.$route.query.fodder)\n  },\n  methods: {\n    getPicD (pc) {\n      if (this.$route.query.fodder === 'dialog') {\n        let str = ''\n        for (let i = 0; i < pc.length; i++) {\n            nowEditor.editor.execCommand('insertimage', { src: pc[i].att_dir })\n        }\n        nowEditor.dialog.close(true)\n      } else {\n        let pcs = window.form_create_helper.get(this.$route.query.fodder) || [];\n        pc = pc.map( item => {\n          return item.att_dir;\n        });\n        console.log(pc);\n        let concatPc = pcs.concat(pc);\n        let pcList = Array.from(new Set(concatPc));\n        form_create_helper.set(this.$route.query.fodder,pcList);\n        form_create_helper.close(this.$route.query.fodder)\n      }\n    },\n    getPic (pc) {\n      form_create_helper.set(this.$route.query.fodder, pc.satt_dir)\n      form_create_helper.close(this.$route.query.fodder)\n    }\n    // getPic (pc) {\n    //     if (this.$route.query.fodder === 'dialog') {\n    //         /* eslint-disable */\n    //         nowEditor.dialog.close(true);\n    //         nowEditor.editor.setContent('<img src=\"'+pc.att_dir+'\">',true);\n    //     }\n    //     else {\n    //         form_create_helper.set(this.$route.query.fodder, pc.satt_dir)\n    //         form_create_helper.close(this.$route.query.fodder);\n    //     }\n    // }\n  }\n}\n</script>\n\n<style scoped lang=\"stylus\">\n .box\n    width 100%\n    background #fff\n</style>\n"]}]}