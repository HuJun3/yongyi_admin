{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/cms/addArticle/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/cms/addArticle/index.vue","mtime":1611019614000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKaW1wb3J0IHVwbG9hZFBpY3R1cmVzIGZyb20gJ0AvY29tcG9uZW50cy91cGxvYWRQaWN0dXJlcycKaW1wb3J0IFZ1ZVVlZGl0b3JXcmFwIGZyb20gJ3Z1ZS11ZWRpdG9yLXdyYXAnCmltcG9ydCB7IGNtc0FkZEFwaSwgY3JlYXRlQXBpLCBjYXRlZ29yeUxpc3RBcGkgfSBmcm9tICdAL2FwaS9jbXMnCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdhZGRBcnRpY2xlJywKICAgIGNvbXBvbmVudHM6IHsgdXBsb2FkUGljdHVyZXMsIFZ1ZVVlZGl0b3JXcmFwIH0sCiAgICBkYXRhICgpIHsKICAgICAgICBjb25zdCB2YWxpZGF0ZVVwbG9hZCA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgICAgICAgaWYgKHRoaXMuZm9ybVZhbGlkYXRlLmltYWdlX2lucHV0KSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+S4iuS8oOWbvuaWh+WwgemdoicpKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNvbnN0IHZhbGlkYXRlVXBsb2FkMiA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgICAgICAgaWYgKCF0aGlzLmZvcm1WYWxpZGF0ZS5jaWQpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36YCJ5oup5paH56ug5YiG57G7JykpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZGlhbG9nOiB7fSwKICAgICAgICAgICAgaXNDaG9pY2U6ICfljZXpgIknLAogICAgICAgICAgICBncmlkOiB7CiAgICAgICAgICAgICAgICB4bDogOCwKICAgICAgICAgICAgICAgIGxnOiA4LAogICAgICAgICAgICAgICAgbWQ6IDEyLAogICAgICAgICAgICAgICAgc206IDI0LAogICAgICAgICAgICAgICAgeHM6IDI0CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdyaWRQaWM6IHsKICAgICAgICAgICAgICAgIHhsOiA2LAogICAgICAgICAgICAgICAgbGc6IDgsCiAgICAgICAgICAgICAgICBtZDogMTIsCiAgICAgICAgICAgICAgICBzbTogMTIsCiAgICAgICAgICAgICAgICB4czogMTIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ3JpZEJ0bjogewogICAgICAgICAgICAgICAgeGw6IDQsCiAgICAgICAgICAgICAgICBsZzogOCwKICAgICAgICAgICAgICAgIG1kOiA4LAogICAgICAgICAgICAgICAgc206IDgsCiAgICAgICAgICAgICAgICB4czogOAogICAgICAgICAgICB9LAogICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgZm9ybVZhbGlkYXRlOiB7CiAgICAgICAgICAgICAgICBpZDogMCwKICAgICAgICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgICAgICAgIGF1dGhvcjogJycsCiAgICAgICAgICAgICAgICBpbWFnZV9pbnB1dDogJycsCiAgICAgICAgICAgICAgICBjb250ZW50OiAnJywKICAgICAgICAgICAgICAgIHN5bm9wc2lzOiAnJywKICAgICAgICAgICAgICAgIHVybDogJycsCiAgICAgICAgICAgICAgICBpc19ob3Q6IDAsCiAgICAgICAgICAgICAgICBpc19iYW5uZXI6IDAsCiAgICAgICAgICAgICAgICBjaWQ6ICcnLAogICAgICAgICAgICAgICAgdmlzaXQ6IDAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcnVsZVZhbGlkYXRlOiB7CiAgICAgICAgICAgICAgICB0aXRsZTogWwogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXmoIfpopgnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGNpZDogWwogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIHZhbGlkYXRvcjogdmFsaWRhdGVVcGxvYWQyLCB0cmlnZ2VyOiAnY2hhbmdlJywgdHlwZTogJ251bWJlcicgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGltYWdlX2lucHV0OiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgdmFsaWRhdG9yOiB2YWxpZGF0ZVVwbG9hZCwgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5paH56ug5YaF5a65JywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9LAogICAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICAgIG1vZGFsUGljOiBmYWxzZSwKICAgICAgICAgICAgdGVtcGxhdGU6IGZhbHNlLAogICAgICAgICAgICB0cmVlRGF0YTogW10sCiAgICAgICAgICAgIGZvcm1WYWxpZGF0ZTI6IHsKICAgICAgICAgICAgICAgIHR5cGU6IDEKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbXlDb25maWc6IHsKICAgICAgICAgICAgICAgIGF1dG9IZWlnaHRFbmFibGVkOiBmYWxzZSwgLy8g57yW6L6R5Zmo5LiN6Ieq5Yqo6KKr5YaF5a655pKR6auYCiAgICAgICAgICAgICAgICBpbml0aWFsRnJhbWVIZWlnaHQ6IDUwMCwgLy8g5Yid5aeL5a655Zmo6auY5bqmCiAgICAgICAgICAgICAgICBpbml0aWFsRnJhbWVXaWR0aDogJzEwMCUnLCAvLyDliJ3lp4vlrrnlmajlrr3luqYKICAgICAgICAgICAgICAgIFVFRElUT1JfSE9NRV9VUkw6ICcvYWRtaW4vVUVkaXRvci8nLAogICAgICAgICAgICAgICAgc2VydmVyVXJsOiAnJwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwU3RhdGUoJ21lZGlhJywgWwogICAgICAgICAgICAnaXNNb2JpbGUnCiAgICAgICAgXSksCiAgICAgICAgbGFiZWxXaWR0aCAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gdW5kZWZpbmVkIDogMTIwCiAgICAgICAgfSwKICAgICAgICBsYWJlbFBvc2l0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyAndG9wJyA6ICdyaWdodCcKICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICAkcm91dGUgKHRvLCBmcm9tKSB7CiAgICAgICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGV0YWlscygpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZSA9IHsKICAgICAgICAgICAgICAgICAgICBpZDogMCwKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsCiAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiAnJywKICAgICAgICAgICAgICAgICAgICBpbWFnZV9pbnB1dDogJycsCiAgICAgICAgICAgICAgICAgICAgY29udGVudDogJycsCiAgICAgICAgICAgICAgICAgICAgc3lub3BzaXM6ICcnLAogICAgICAgICAgICAgICAgICAgIHVybDogJycsCiAgICAgICAgICAgICAgICAgICAgaXNfaG90OiAwLAogICAgICAgICAgICAgICAgICAgIGlzX2Jhbm5lcjogMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvLyAuLi5tYXBBY3Rpb25zKCdhZG1pbi9wYWdlJywgWwogICAgICAgIC8vICAgJ2Nsb3NlJwogICAgICAgIC8vIF0pLAogICAgICAgIGdldENvbnRlbnQgKHZhbCkgewogICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5jb250ZW50ID0gdmFsCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybVZhbGlkYXRlLmNvbnRlbnQpCiAgICAgICAgfSwKICAgICAgICAvLyDpgInmi6nlm77niYcKICAgICAgICBtb2RhbFBpY1RhcCAoKSB7CiAgICAgICAgICAgIHRoaXMubW9kYWxQaWMgPSB0cnVlCiAgICAgICAgfSwKICAgICAgICAvLyDpgInkuK3lm77niYcKICAgICAgICBnZXRQaWMgKHBjKSB7CiAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmltYWdlX2lucHV0ID0gcGMuYXR0X2RpcgogICAgICAgICAgICB0aGlzLm1vZGFsUGljID0gZmFsc2UKICAgICAgICB9LAogICAgICAgIC8vIOWIhuexuwogICAgICAgIGdldENsYXNzICgpIHsKICAgICAgICAgICAgY2F0ZWdvcnlMaXN0QXBpKHRoaXMuZm9ybVZhbGlkYXRlMikudGhlbihhc3luYyByZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy50cmVlRGF0YSA9IHJlcy5kYXRhCiAgICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvLyDmj5DkuqTmlbDmja4KICAgICAgICBvbnN1Ym1pdCAobmFtZSkgewogICAgICAgICAgICB0aGlzLiRyZWZzW25hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgY21zQWRkQXBpKHRoaXMuZm9ybVZhbGlkYXRlKS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKQogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9hZG1pbi9jbXMvYXJ0aWNsZS9pbmRleCcgfSkKICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZykKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOaWh+eroOivpuaDhQogICAgICAgIGdldERldGFpbHMgKCkgewogICAgICAgICAgICBjcmVhdGVBcGkodGhpcy4kcm91dGUucGFyYW1zLmlkID8gdGhpcy4kcm91dGUucGFyYW1zLmlkIDogMCkudGhlbihhc3luYyByZXMgPT4gewogICAgICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YQogICAgICAgICAgICAgICAgbGV0IG5ld3MgPSBkYXRhLmluZm8KICAgICAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlID0gewogICAgICAgICAgICAgICAgICAgIGlkOiBuZXdzLmlkLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiBuZXdzLnRpdGxlLAogICAgICAgICAgICAgICAgICAgIGF1dGhvcjogbmV3cy5hdXRob3IsCiAgICAgICAgICAgICAgICAgICAgaW1hZ2VfaW5wdXQ6IG5ld3MuaW1hZ2VfaW5wdXQsCiAgICAgICAgICAgICAgICAgICAgY29udGVudDogbmV3cy5jb250ZW50LAogICAgICAgICAgICAgICAgICAgIHN5bm9wc2lzOiBuZXdzLnN5bm9wc2lzLAogICAgICAgICAgICAgICAgICAgIHVybDogbmV3cy51cmwsCiAgICAgICAgICAgICAgICAgICAgaXNfaG90OiBuZXdzLmlzX2hvdCwKICAgICAgICAgICAgICAgICAgICBpc19iYW5uZXI6IG5ld3MuaXNfYmFubmVyLAogICAgICAgICAgICAgICAgICAgIGNpZDogbmV3cy5jaWQsCiAgICAgICAgICAgICAgICAgICAgdmlzaXQ6IG5ld3MudmlzaXQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvLyDmt7vliqDoh6rlrprkuYnlvLnnqpcKICAgICAgICBhZGRDdXN0b21EaWFsb2cgKGVkaXRvcklkKSB7CiAgICAgICAgICAgIHdpbmRvdy5VRS5yZWdpc3RlclVJKCd0ZXN0LWRpYWxvZycsIGZ1bmN0aW9uIChlZGl0b3IsIHVpTmFtZSkgewogICAgICAgICAgICAgICAgLy8g5Yib5bu6IGRpYWxvZwogICAgICAgICAgICAgICAgbGV0IGRpYWxvZyA9IG5ldyB3aW5kb3cuVUUudWkuRGlhbG9nKHsKICAgICAgICAgICAgICAgICAgICAvLyDmjIflrprlvLnlh7rlsYLkuK3pobXpnaLnmoTot6/lvoTvvIzov5nph4zlj6rog73mlK/mjIHpobXpnaLvvIzot6/lvoTlj4LogIPluLjop4Hpl67popggMgogICAgICAgICAgICAgICAgICAgIGlmcmFtZVVybDogJy9hZG1pbi93aWRnZXQuaW1hZ2VzL2luZGV4Lmh0bWw/Zm9kZGVyPWRpYWxvZycsCiAgICAgICAgICAgICAgICAgICAgLy8g6ZyA6KaB5oyH5a6a5b2T5YmN55qE57yW6L6R5Zmo5a6e5L6LCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yOiBlZGl0b3IsCiAgICAgICAgICAgICAgICAgICAgLy8g5oyH5a6aIGRpYWxvZyDnmoTlkI3lrZcKICAgICAgICAgICAgICAgICAgICBuYW1lOiB1aU5hbWUsCiAgICAgICAgICAgICAgICAgICAgLy8gZGlhbG9nIOeahOagh+mimAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5LiK5Lyg5Zu+54mHJywKICAgICAgICAgICAgICAgICAgICAvLyDmjIflrpogZGlhbG9nIOeahOWkluWbtOagt+W8jwogICAgICAgICAgICAgICAgICAgIGNzc1J1bGVzOiAnd2lkdGg6MTIwMHB4O2hlaWdodDo1MDBweDtwYWRkaW5nOjIwcHg7JwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nID0gZGlhbG9nCiAgICAgICAgICAgICAgICB2YXIgYnRuID0gbmV3IHdpbmRvdy5VRS51aS5CdXR0b24oewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdkaWFsb2ctYnV0dG9uJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S4iuS8oOWbvueJhycsCiAgICAgICAgICAgICAgICAgICAgY3NzUnVsZXM6IGBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy9pY29ucy5wbmcpO2JhY2tncm91bmQtcG9zaXRpb246IC03MjZweCAtNzdweDtgLAogICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5riy5p+TZGlhbG9nCiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5yZW5kZXIoKQogICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cub3BlbigpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIHJldHVybiBidG4KICAgICAgICAgICAgfSwgMzcpCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQgKCkgewogICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgdGhpcy5nZXREZXRhaWxzKCkKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCAoKSB7CiAgICAgICAgdGhpcy5nZXRDbGFzcygpCiAgICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/cms/addArticle","sourcesContent":["<template>\n    <div class=\"article-manager\">\n        <div class=\"i-layout-page-header\">\n          <div class=\"i-layout-page-header\">\n            <router-link :to=\"{path:'/admin/cms/article/index'}\"><Button icon=\"ios-arrow-back\" size=\"small\"  class=\"mr20\">返回</Button></router-link>\n            <span class=\"ivu-page-header-title mr20\" v-text=\"$route.params.id?'编辑文章':'添加文章'\"></span>\n          </div>\n        </div>\n        <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n            <Form class=\"form\" ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\"  :label-width=\"labelWidth\" :label-position=\"labelPosition\" @submit.native.prevent>\n                <div class=\"goodsTitle acea-row\">\n                    <div class=\"title\">文章信息</div>\n                </div>\n                <Row :gutter=\"24\" type=\"flex\">\n                    <Col v-bind=\"grid\" class=\"mr50\">\n                        <FormItem label=\"标题：\" prop=\"title\" label-for=\"title\">\n                            <Input v-model=\"formValidate.title\" placeholder=\"请输入\" element-id=\"title\" style=\"width: 90%\"/>\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid\" class=\"mr50\">\n                        <FormItem label=\"作者：\" prop=\"author\" label-for=\"author\">\n                            <Input v-model=\"formValidate.author\" placeholder=\"请输入\" element-id=\"author\" style=\"width: 90%\"/>\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid\" class=\"mr50\">\n                        <FormItem label=\"文章分类：\"  label-for=\"cid\" prop=\"cid\">\n                            <div class=\"perW90\">\n                                <Select v-model=\"formValidate.cid\">\n                                    <Option v-for=\"item in treeData\" :value=\"item.id\" :key=\"item.id\">{{ item.title }}</Option>\n                                </Select>\n                            </div>\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid\" class=\"mr50\">\n                        <FormItem label=\"文章简介：\" prop=\"synopsis\" label-for=\"synopsis\">\n                            <Input v-model=\"formValidate.synopsis\" type=\"textarea\" placeholder=\"请输入\"  style=\"width: 90%\"/>\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid\" class=\"mr50\">\n                        <FormItem label=\"图文封面：\" prop=\"image_input\">\n                            <div class=\"picBox\" @click=\"modalPicTap('单选')\">\n                                <div class=\"pictrue\" v-if=\"formValidate.image_input\"><img :src=\"formValidate.image_input\"></div>\n                                <div class=\"upLoad acea-row row-center-wrapper\"   v-else>\n                                    <Icon type=\"ios-camera-outline\" size=\"26\" class=\"iconfont\"/>\n                                </div>\n                            </div>\n                        </FormItem>\n                    </Col>\n                </Row>\n                <div class=\"goodsTitle acea-row\">\n                    <div class=\"title\">文章内容</div>\n                </div>\n                <FormItem label=\"文章内容：\" prop=\"content\">\n                    <vue-ueditor-wrap v-model=\"formValidate.content\"  @beforeInit=\"addCustomDialog\"  :config=\"myConfig\"  style=\"width: 90%;\"></vue-ueditor-wrap>\n                </FormItem>\n                <div class=\"goodsTitle acea-row\">\n                    <div class=\"title\">其他设置</div>\n                </div>\n                <Row :gutter=\"24\" type=\"flex\">\n<!--                    <Col span=\"24\">-->\n<!--                        <FormItem label=\"原文链接：\">-->\n<!--                            <Input v-model=\"formValidate.url\" placeholder=\"请输入\" element-id=\"url\" style=\"width: 60%\"/>-->\n<!--                        </FormItem>-->\n<!--                    </Col>-->\n                    <Col span=\"24\">\n                        <FormItem label=\"banner显示：\"  label-for=\"is_banner\">\n                            <RadioGroup v-model=\"formValidate.is_banner\" element-id=\"is_banner\">\n                                <Radio :label=\"1\" class=\"radio\">显示</Radio>\n                                <Radio :label=\"0\">不显示</Radio>\n                            </RadioGroup>\n                        </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                        <FormItem label=\"热门文章：\"  label-for=\"is_hot\">\n                            <RadioGroup v-model=\"formValidate.is_hot\" element-id=\"is_hot\">\n                                <Radio :label=1 class=\"radio\">显示</Radio>\n                                <Radio :label=0>不显示</Radio>\n                            </RadioGroup>\n                        </FormItem>\n                    </Col>\n                </Row>\n                <Button type=\"primary\" class=\"submission\" @click=\"onsubmit('formValidate')\">提交</Button>\n            </Form>\n            <Modal v-model=\"modalPic\" width=\"950px\" scrollable  footer-hide closable title='上传商品图' :mask-closable=\"false\" :z-index=\"888\">\n                <uploadPictures :isChoice=\"isChoice\" @getPic=\"getPic\" :gridBtn=\"gridBtn\" :gridPic=\"gridPic\" v-if=\"modalPic\"></uploadPictures>\n            </Modal>\n        </Card>\n    </div>\n</template>\n\n<script>\n    import { mapState } from 'vuex'\n    import uploadPictures from '@/components/uploadPictures'\n    import VueUeditorWrap from 'vue-ueditor-wrap'\n    import { cmsAddApi, createApi, categoryListApi } from '@/api/cms'\n    export default {\n        name: 'addArticle',\n        components: { uploadPictures, VueUeditorWrap },\n        data () {\n            const validateUpload = (rule, value, callback) => {\n                if (this.formValidate.image_input) {\n                    callback()\n                } else {\n                    callback(new Error('请上传图文封面'))\n                }\n            }\n            const validateUpload2 = (rule, value, callback) => {\n                if (!this.formValidate.cid) {\n                    callback(new Error('请选择文章分类'))\n                } else {\n                    callback()\n                }\n            }\n            return {\n                dialog: {},\n                isChoice: '单选',\n                grid: {\n                    xl: 8,\n                    lg: 8,\n                    md: 12,\n                    sm: 24,\n                    xs: 24\n                },\n                gridPic: {\n                    xl: 6,\n                    lg: 8,\n                    md: 12,\n                    sm: 12,\n                    xs: 12\n                },\n                gridBtn: {\n                    xl: 4,\n                    lg: 8,\n                    md: 8,\n                    sm: 8,\n                    xs: 8\n                },\n                loading: false,\n                formValidate: {\n                    id: 0,\n                    title: '',\n                    author: '',\n                    image_input: '',\n                    content: '',\n                    synopsis: '',\n                    url: '',\n                    is_hot: 0,\n                    is_banner: 0,\n                    cid: '',\n                    visit: 0\n                },\n                ruleValidate: {\n                    title: [\n                        { required: true, message: '请输入标题', trigger: 'blur' }\n                    ],\n                    cid: [\n                        { required: true, validator: validateUpload2, trigger: 'change', type: 'number' }\n                    ],\n                    image_input: [\n                        { required: true, validator: validateUpload, trigger: 'change' }\n                    ],\n                    content: [\n                        { required: true, message: '请输入文章内容', trigger: 'change' }\n                    ]\n                },\n                value: '',\n                modalPic: false,\n                template: false,\n                treeData: [],\n                formValidate2: {\n                    type: 1\n                },\n                myConfig: {\n                    autoHeightEnabled: false, // 编辑器不自动被内容撑高\n                    initialFrameHeight: 500, // 初始容器高度\n                    initialFrameWidth: '100%', // 初始容器宽度\n                    UEDITOR_HOME_URL: '/admin/UEditor/',\n                    serverUrl: ''\n                }\n            }\n        },\n        computed: {\n            ...mapState('media', [\n                'isMobile'\n            ]),\n            labelWidth () {\n                return this.isMobile ? undefined : 120\n            },\n            labelPosition () {\n                return this.isMobile ? 'top' : 'right'\n            }\n        },\n        watch: {\n            $route (to, from) {\n                if (this.$route.params.id) {\n                    this.getDetails()\n                } else {\n                    this.formValidate = {\n                        id: 0,\n                        title: '',\n                        author: '',\n                        image_input: '',\n                        content: '',\n                        synopsis: '',\n                        url: '',\n                        is_hot: 0,\n                        is_banner: 0\n                    }\n                }\n            }\n        },\n        methods: {\n            // ...mapActions('admin/page', [\n            //   'close'\n            // ]),\n            getContent (val) {\n                this.formValidate.content = val\n                console.log(this.formValidate.content)\n            },\n            // 选择图片\n            modalPicTap () {\n                this.modalPic = true\n            },\n            // 选中图片\n            getPic (pc) {\n                this.formValidate.image_input = pc.att_dir\n                this.modalPic = false\n            },\n            // 分类\n            getClass () {\n                categoryListApi(this.formValidate2).then(async res => {\n                    this.treeData = res.data\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 提交数据\n            onsubmit (name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        cmsAddApi(this.formValidate).then(async res => {\n                            this.$Message.success(res.msg)\n                            setTimeout(() => {\n                                this.$router.push({ path: '/admin/cms/article/index' })\n                            }, 500)\n                        }).catch(res => {\n                            this.$Message.error(res.msg)\n                        })\n                    } else {\n                        return false\n                    }\n                })\n            },\n            // 文章详情\n            getDetails () {\n                createApi(this.$route.params.id ? this.$route.params.id : 0).then(async res => {\n                    let data = res.data\n                    let news = data.info\n                    this.formValidate = {\n                        id: news.id,\n                        title: news.title,\n                        author: news.author,\n                        image_input: news.image_input,\n                        content: news.content,\n                        synopsis: news.synopsis,\n                        url: news.url,\n                        is_hot: news.is_hot,\n                        is_banner: news.is_banner,\n                        cid: news.cid,\n                        visit: news.visit\n                    }\n                }).catch(res => {\n                    this.loading = false\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 添加自定义弹窗\n            addCustomDialog (editorId) {\n                window.UE.registerUI('test-dialog', function (editor, uiName) {\n                    // 创建 dialog\n                    let dialog = new window.UE.ui.Dialog({\n                        // 指定弹出层中页面的路径，这里只能支持页面，路径参考常见问题 2\n                        iframeUrl: '/admin/widget.images/index.html?fodder=dialog',\n                        // 需要指定当前的编辑器实例\n                        editor: editor,\n                        // 指定 dialog 的名字\n                        name: uiName,\n                        // dialog 的标题\n                        title: '上传图片',\n                        // 指定 dialog 的外围样式\n                        cssRules: 'width:1200px;height:500px;padding:20px;'\n                    })\n                    this.dialog = dialog\n                    var btn = new window.UE.ui.Button({\n                        name: 'dialog-button',\n                        title: '上传图片',\n                        cssRules: `background-image: url(../../../assets/images/icons.png);background-position: -726px -77px;`,\n                        onclick: function () {\n                            // 渲染dialog\n                            dialog.render()\n                            dialog.open()\n                        }\n                    })\n                    return btn\n                }, 37)\n            }\n        },\n        mounted () {\n            if (this.$route.params.id) {\n                this.getDetails()\n            }\n        },\n        created () {\n            this.getClass()\n        }\n    }\n</script>\n<style scoped>\n    .picBox {\n        display: inline-block;\n        cursor: pointer;\n    }\n\n    .form .goodsTitle {\n        border-bottom: 1px solid rgba(0, 0, 0, 0.09);\n        margin-bottom: 25px;\n    }\n\n    .form .goodsTitle ~ .goodsTitle {\n        margin-top: 20px;\n    }\n\n    .form .goodsTitle .title {\n        border-bottom: 2px solid #1890FF;\n        padding: 0 8px 12px 5px;\n        color: #000;\n        font-size: 14px;\n    }\n\n    .form .goodsTitle .icons {\n        font-size: 15px;\n        margin-right: 8px;\n        color: #999;\n    }\n\n    .form .add {\n        font-size: 12px;\n        color: #1890FF;\n        padding: 0 12px;\n        cursor: pointer;\n    }\n\n    .form .radio {\n        margin-right: 20px;\n    }\n\n    .form .submission {\n        width: 10%;\n        margin-left: 27px;\n    }\n\n    .form .upLoad {\n        width: 58px;\n        height: 58px;\n        line-height: 58px;\n        border: 1px dotted rgba(0, 0, 0, 0.1);\n        border-radius: 4px;\n        background: rgba(0, 0, 0, 0.02);\n    }\n\n    .form .iconfont {\n        color: #898989;\n    }\n\n    .form .pictrue {\n        width: 60px;\n        height: 60px;\n        border: 1px dotted rgba(0, 0, 0, 0.1);\n        margin-right: 10px;\n    }\n\n    .form .pictrue img {\n        width: 100%;\n        height: 100%;\n    }\n\n    .Modals .address {\n        width: 90%;\n    }\n\n    .Modals .address .iconfont {\n        font-size: 20px;\n    }\n</style>\n"]}]}