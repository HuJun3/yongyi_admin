{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/notify/smsConfig/components/loginFrom.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/notify/smsConfig/components/loginFrom.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNvbmZpZ0FwaSB9IGZyb20gJ0AvYXBpL3NldHRpbmcnOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnbG9naW4nLAogICAgZGF0YSAoKSB7CiAgICAgICAgY29uc3QgdmFsaWRhdGVQaG9uZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcign6K+35aGr5YaZ5omL5py65Y+3JykpOwogICAgICAgICAgICB9IGVsc2UgaWYgKCEvXjFbMzQ1Njc4OV1cZHs5fSQvLnRlc3QodmFsdWUpKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+aJi+acuuWPt+agvOW8j+S4jeato+ehriEnKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBmb3JtSW5saW5lOiB7CiAgICAgICAgICAgICAgICBhY2NvdW50OiAnJywKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAnJwogICAgICAgICAgICB9LAogICAgICAgICAgICBydWxlSW5saW5lOiB7CiAgICAgICAgICAgICAgICBhY2NvdW50OiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgdmFsaWRhdG9yOiB2YWxpZGF0ZVBob25lLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggScsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCAoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICBkb2N1bWVudC5vbmtleWRvd24gPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBsZXQga2V5ID0gd2luZG93LmV2ZW50LmtleUNvZGU7CiAgICAgICAgICAgIGlmIChrZXkgPT09IDEzKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVTdWJtaXQoJ2Zvcm1JbmxpbmUnKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGhhbmRsZVN1Ym1pdCAobmFtZSkgewogICAgICAgICAgICB0aGlzLiRyZWZzW25hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgY29uZmlnQXBpKHRoaXMuZm9ybUlubGluZSkudGhlbihhc3luYyByZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoJ+eZu+W9leaIkOWKnyEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb24tTG9naW4nKTsKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOS8keaUueWvhueggQogICAgICAgIGNoYW5nZVBhc3N3b3JkICgpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnb24tY2hhbmdlJykKICAgICAgICB9LAogICAgICAgIGNoYW5nZVJlZyAoKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29uLWNoYW5nZXMnKQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["loginFrom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"loginFrom.vue","sourceRoot":"src/pages/notify/smsConfig/components","sourcesContent":["<template>\n    <Row type=\"flex\">\n        <Col span=\"24\">\n            <div class=\"index_from page-account-container\">\n                <div class=\"page-account-top \">\n                    <span class=\"page-account-top-tit\">一号通账户登录</span>\n                </div>\n                <Form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\" @submit.native.prevent @keyup.enter=\"handleSubmit('formInline')\">\n                    <FormItem prop=\"sms_account\"  class=\"maxInpt\">\n                        <Input type=\"text\" v-model=\"formInline.account\" prefix=\"ios-contact-outline\"\n                               placeholder=\"请输入手机号\"/>\n                    </FormItem>\n                    <FormItem prop=\"sms_token\"  class=\"maxInpt\">\n                        <Input type=\"password\" v-model=\"formInline.password\" prefix=\"ios-lock-outline\"\n                               placeholder=\"请输入密码\"/>\n                    </FormItem>\n                    <FormItem  class=\"maxInpt\">\n                        <Button type=\"primary\" long size=\"large\" @click=\"handleSubmit('formInline')\" class=\"btn\">登录</Button>\n                    </FormItem>\n                </Form>\n                <div class=\"page-account-other\">\n                    <span  @click=\"changePassword\">忘记密码  |</span>\n                    <span  @click=\"changeReg\">   注册账户</span>\n                </div>\n            </div>\n        </Col>\n    </Row>\n</template>\n\n<script>\n    import { configApi } from '@/api/setting';\n    export default {\n        name: 'login',\n        data () {\n            const validatePhone = (rule, value, callback) => {\n                if (!value) {\n                    return callback(new Error('请填写手机号'));\n                } else if (!/^1[3456789]\\d{9}$/.test(value)) {\n                    callback(new Error('手机号格式不正确!'));\n                } else {\n                    callback();\n                }\n            };\n            return {\n                formInline: {\n                    account: '',\n                    password: ''\n                },\n                ruleInline: {\n                    account: [\n                        { required: true, validator: validatePhone, trigger: 'blur' }\n                    ],\n                    password: [\n                        { required: true, message: '请输入密码', trigger: 'blur' }\n                    ]\n                }\n            }\n        },\n        created () {\n            var _this = this;\n            document.onkeydown = function (e) {\n                let key = window.event.keyCode;\n                if (key === 13) {\n                    _this.handleSubmit('formInline');\n                }\n            };\n        },\n        methods: {\n            handleSubmit (name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        configApi(this.formInline).then(async res => {\n                            this.$Message.success('登录成功!');\n                            this.$emit('on-Login');\n                        }).catch(res => {\n                            this.$Message.error(res.msg);\n                        })\n                    } else {\n                        return false;\n                    }\n                })\n            },\n            // 休改密码\n            changePassword () {\n                this.$emit('on-change')\n            },\n            changeReg () {\n                this.$emit('on-changes')\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n    .maxInpt{\n        max-width 400px\n        margin-left auto\n        margin-right auto\n    }\n    .page-account-container{\n        text-align center\n        padding 50px 0\n    }\n    .page-account-top{\n        margin-bottom 20px\n    }\n    .page-account-top-tit\n        font-size 21px\n        color #1890FF\n    .page-account-other\n        text-align center\n        color #1890FF\n        font-size 12px\n        span\n            cursor pointer\n</style>\n"]}]}