{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/user/level/handle/task.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/user/level/handle/task.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JwppbXBvcnQgeyB0YXNrTGlzdEFwaSwgc2V0VGFza1Nob3dBcGksIHNldFRhc2tNdXN0QXBpLCBjcmVhdGVUYXNrQXBpIH0gZnJvbSAnQC9hcGkvdXNlcicKaW1wb3J0IGVkaXRGcm9tIGZyb20gJ0AvY29tcG9uZW50cy9mcm9tL2Zyb20nCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICd0YXNrJywKICAgIGNvbXBvbmVudHM6IHsgZWRpdEZyb20gfSwKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vIGxldmVsSWRzOiB0aGlzLmxldmVsSWQsCiAgICAgICAgICAgIGdyaWQ6IHsKICAgICAgICAgICAgICAgIHhsOiAxMCwKICAgICAgICAgICAgICAgIGxnOiAxMCwKICAgICAgICAgICAgICAgIG1kOiAxMiwKICAgICAgICAgICAgICAgIHNtOiAyNCwKICAgICAgICAgICAgICAgIHhzOiAyNAogICAgICAgICAgICB9LAogICAgICAgICAgICBtb2RhbHM6IGZhbHNlLAogICAgICAgICAgICBsZXZlbEZyb206IHsKICAgICAgICAgICAgICAgIGlzX3Nob3c6ICcnLAogICAgICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgICAgICAgbGltaXQ6IDIwCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiAwLAogICAgICAgICAgICBsZXZlbExpc3RzOiBbXSwKICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgIGNvbHVtbnMxOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdJRCcsCiAgICAgICAgICAgICAgICAgICAga2V5OiAnaWQnLAogICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHdpZHRoOiA4MAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+etiee6p+WQjeensCcsCiAgICAgICAgICAgICAgICAgICAga2V5OiAnbGV2ZWxfbmFtZScsCiAgICAgICAgICAgICAgICAgICAgbWluV2lkdGg6IDEwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S7u+WKoeWQjeensCcsCiAgICAgICAgICAgICAgICAgICAga2V5OiAnbmFtZScsCiAgICAgICAgICAgICAgICAgICAgbWluV2lkdGg6IDEyMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+aOkuW6jycsCiAgICAgICAgICAgICAgICAgICAgc29ydDogJ2dyYWRlJywKICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogMTAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5piv5ZCm5pi+56S6JywKICAgICAgICAgICAgICAgICAgICBzbG90OiAnaXNfc2hvd3MnLAogICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAxMTAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfliqHlv4Xovr7miJAnLAogICAgICAgICAgICAgICAgICAgIHNsb3Q6ICdpc19tdXN0cycsCiAgICAgICAgICAgICAgICAgICAgbWluV2lkdGg6IDEzNQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S7u+WKoeivtOaYjicsCiAgICAgICAgICAgICAgICAgICAga2V5OiAnaWxsdXN0cmF0ZScsCiAgICAgICAgICAgICAgICAgICAgbWluV2lkdGg6IDEyMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+aTjeS9nCcsCiAgICAgICAgICAgICAgICAgICAgc2xvdDogJ2FjdGlvbicsCiAgICAgICAgICAgICAgICAgICAgZml4ZWQ6ICdyaWdodCcsCiAgICAgICAgICAgICAgICAgICAgbWluV2lkdGg6IDEyMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdLAogICAgICAgICAgICBGcm9tRGF0YTogbnVsbCwKICAgICAgICAgICAgaWRzOiAwLAogICAgICAgICAgICBtb2RhbFRpdGxlU3M6ICcnLAogICAgICAgICAgICB0aXRsZVR5cGU6ICd0YXNrJwogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlKCdtZWRpYScsIFsKICAgICAgICAgICAgJ2lzTW9iaWxlJwogICAgICAgIF0pLAogICAgICAgIC4uLm1hcFN0YXRlKCd1c2VyTGV2ZWwnLCBbCiAgICAgICAgICAgICdsZXZlbElkJwogICAgICAgIF0pLAogICAgICAgIGxhYmVsV2lkdGggKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/IHVuZGVmaW5lZCA6IDc1CiAgICAgICAgfSwKICAgICAgICBsYWJlbFBvc2l0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyAndG9wJyA6ICdyaWdodCcKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcE11dGF0aW9ucygndXNlckxldmVsJywgWwogICAgICAgICAgICAnZ2V0VGFza0lkJywKICAgICAgICAgICAgJ2dldGxldmVsSWQnCiAgICAgICAgXSksCiAgICAgICAgLy8g5re75YqgCiAgICAgICAgYWRkICgpIHsKICAgICAgICAgICAgdGhpcy5pZHMgPSAnJwogICAgICAgICAgICB0aGlzLmdldEZyb20oKQogICAgICAgIH0sCiAgICAgICAgLy8g5paw5bu6IOe8lui+keihqOWNlQogICAgICAgIGdldEZyb20gKCkgewogICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkcywKICAgICAgICAgICAgICAgIGxldmVsX2lkOiB0aGlzLmxldmVsSWQKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRtb2RhbEZvcm0oY3JlYXRlVGFza0FwaShkYXRhKSkudGhlbigKICAgICAgICAgICAgICAgICgpID0+IHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgICAgICkKICAgICAgICB9LAogICAgICAgIC8vIOe8lui+kQogICAgICAgIGVkaXQgKHJvdykgewogICAgICAgICAgICB0aGlzLmlkcyA9IHJvdy5pZAogICAgICAgICAgICB0aGlzLmdldEZyb20oKQogICAgICAgIH0sCiAgICAgICAgLy8g5YWz6Zet5qih5oCB5qGGCiAgICAgICAgaGFuZGxlUmVzZXQgKCkgewogICAgICAgICAgICB0aGlzLm1vZGFscyA9IGZhbHNlCiAgICAgICAgfSwKICAgICAgICAvLyDooajmoLzmkJzntKIKICAgICAgICB1c2VyU2VhcmNocyAoKSB7CiAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgfSwKICAgICAgICAvLyDku7vliqHliJfooagKICAgICAgICBnZXRMaXN0ICgpIHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICB0aGlzLmxldmVsRnJvbS5pc19zaG93ID0gdGhpcy5sZXZlbEZyb20uaXNfc2hvdyB8fCAnJwogICAgICAgICAgICB0YXNrTGlzdEFwaSh0aGlzLmxldmVsSWQsIHRoaXMubGV2ZWxGcm9tKS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgICB0aGlzLmxldmVsTGlzdHMgPSBkYXRhLmxpc3QKICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5jb3VudAogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBwYWdlQ2hhbmdlIChpbmRleCkgewogICAgICAgICAgICB0aGlzLmxldmVsRnJvbS5wYWdlID0gaW5kZXgKICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICB9LAogICAgICAgIC8vIOS/ruaUueaYvuekuumakOiXjwogICAgICAgIG9uY2hhbmdlSXNTaG93IChyb3cpIHsKICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICBpZDogcm93LmlkLAogICAgICAgICAgICAgICAgaXNfc2hvdzogcm93LmlzX3Nob3cKICAgICAgICAgICAgfQogICAgICAgICAgICBzZXRUYXNrU2hvd0FwaShkYXRhKS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZykKICAgICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZykKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOiuvue9ruS7u+WKoeaYr+WQpui+vuaIkAogICAgICAgIG9uY2hhbmdlSXNNdXN0IChyb3cpIHsKICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICBpZDogcm93LmlkLAogICAgICAgICAgICAgICAgaXNfbXVzdDogcm93LmlzX211c3QKICAgICAgICAgICAgfQogICAgICAgICAgICBzZXRUYXNrTXVzdEFwaShkYXRhKS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZykKICAgICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZykKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOaWsOW7uue8lui+keaPkOS6pOaIkOWKnwogICAgICAgIHN1Ym1pdEZhaWwgKCkgewogICAgICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgIH0sCiAgICAgICAgLy8g5Yig6Zmk5Lu75YqhCiAgICAgICAgZGVsIChyb3csIHRpdCwgbnVtKSB7CiAgICAgICAgICAgIGxldCBkZWxmcm9tRGF0YSA9IHsKICAgICAgICAgICAgICAgIHRpdGxlOiB0aXQsCiAgICAgICAgICAgICAgICBudW06IG51bSwKICAgICAgICAgICAgICAgIHVybDogYHVzZXIvdXNlcl9sZXZlbC9kZWxldGVfdGFzay8ke3Jvdy5pZH1gLAogICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJywKICAgICAgICAgICAgICAgIGlkczogJycKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRtb2RhbFN1cmUoZGVsZnJvbURhdGEpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpCiAgICAgICAgICAgICAgICB0aGlzLmxldmVsTGlzdHMuc3BsaWNlKG51bSwgMSkKICAgICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZykKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["task.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"task.vue","sourceRoot":"src/pages/user/level/handle","sourcesContent":["<template>\n    <Modal v-model=\"modals\" :z-index=\"1\"  scrollable  footer-hide closable title=\"等级任务\" :mask-closable=\"false\" width=\"950\" @on-cancel=\"handleReset\">\n        <Form ref=\"levelFrom\" :model=\"levelFrom\"  :label-width=\"labelWidth\" :label-position=\"labelPosition\" @submit.native.prevent>\n            <Row type=\"flex\" :gutter=\"24\">\n                <Col v-bind=\"grid\">\n                    <FormItem label=\"状态：\">\n                        <Select v-model=\"levelFrom.is_show\" placeholder=\"是否显示\" clearable @on-change=\"userSearchs\">\n                            <Option value=\"1\">显示</Option>\n                            <Option value=\"0\">不显示</Option>\n                        </Select>\n                    </FormItem>\n                </Col>\n                <Col v-bind=\"grid\">\n                    <FormItem label=\"任务名称：\" prop=\"status2\" label-for=\"status2\">\n                        <Input search enter-button  v-model=\"levelFrom.name\" placeholder=\"请输入任务名称\" @on-search=\"userSearchs\" style=\"width: 100%\"/>\n                    </FormItem>\n                </Col>\n            </Row>\n        </Form>\n        <Divider dashed />\n        <Row type=\"flex\">\n            <Col v-bind=\"grid\" class=\"mb15\">\n                <Button type=\"primary\"  icon=\"md-add\" @click=\"add\">添加等级任务</Button>\n            </Col>\n            <Col span=\"24\" class=\"userAlert\">\n                <Alert show-icon closable>添加等级任务,任务类型中的{$num}会自动替换成限定数量+系统预设的单位生成任务名</Alert>\n            </Col>\n        </Row>\n        <Divider dashed />\n        <Table :columns=\"columns1\" :data=\"levelLists\" ref=\"table\"\n               :loading=\"loading\"\n               no-userFrom-text=\"暂无数据\"\n               no-filtered-userFrom-text=\"暂无筛选结果\">\n            <template slot-scope=\"{ row, index }\" slot=\"is_shows\">\n                <i-switch v-model=\"row.is_show\" :value=\"row.is_show\" :true-value=\"1\" :false-value=\"0\"  size=\"large\" @on-change=\"onchangeIsShow(row)\">\n                    <span slot=\"open\">显示</span>\n                    <span slot=\"close\">隐藏</span>\n                </i-switch>\n            </template>\n            <template slot-scope=\"{ row, index }\" slot=\"is_musts\">\n                <i-switch v-model=\"row.is_must\" :value=\"row.is_must\" :true-value=\"1\" :false-value=\"0\"  size=\"large\" @on-change=\"onchangeIsMust(row)\">\n                    <span slot=\"open\">全部完成</span>\n                    <span slot=\"close\">达成其一</span>\n                </i-switch>\n            </template>\n            <template slot-scope=\"{ row, index }\" slot=\"action\">\n                <a @click=\"edit(row)\">编辑  | </a>\n                <a @click=\"del(row,'删除等级任务',index)\">  删除</a>\n            </template>\n        </Table>\n        <div class=\"acea-row row-right page\">\n            <Page :total=\"total\" show-elevator show-total @on-change=\"pageChange\"\n                  :page-size=\"levelFrom.limit\"/>\n        </div>\n        <!-- 新建 编辑表单-->\n        <edit-from ref=\"edits\" :FromData=\"FromData\" @submitFail=\"submitFail\" :titleType=\"titleType\"></edit-from>\n    </Modal>\n</template>\n\n<script>\n    import { mapState, mapMutations } from 'vuex'\n    import { taskListApi, setTaskShowApi, setTaskMustApi, createTaskApi } from '@/api/user'\n    import editFrom from '@/components/from/from'\n    export default {\n        name: 'task',\n        components: { editFrom },\n        data () {\n            return {\n                // levelIds: this.levelId,\n                grid: {\n                    xl: 10,\n                    lg: 10,\n                    md: 12,\n                    sm: 24,\n                    xs: 24\n                },\n                modals: false,\n                levelFrom: {\n                    is_show: '',\n                    name: '',\n                    page: 1,\n                    limit: 20\n                },\n                total: 0,\n                levelLists: [],\n                loading: false,\n                columns1: [\n                    {\n                        title: 'ID',\n                        key: 'id',\n                        sortable: true,\n                        width: 80\n                    },\n                    {\n                        title: '等级名称',\n                        key: 'level_name',\n                        minWidth: 100\n                    },\n                    {\n                        title: '任务名称',\n                        key: 'name',\n                        minWidth: 120\n                    },\n                    {\n                        title: '排序',\n                        sort: 'grade',\n                        sortable: true,\n                        minWidth: 100\n                    },\n                    {\n                        title: '是否显示',\n                        slot: 'is_shows',\n                        minWidth: 110\n                    },\n                    {\n                        title: '务必达成',\n                        slot: 'is_musts',\n                        minWidth: 135\n                    },\n                    {\n                        title: '任务说明',\n                        key: 'illustrate',\n                        minWidth: 120\n                    },\n                    {\n                        title: '操作',\n                        slot: 'action',\n                        fixed: 'right',\n                        minWidth: 120\n                    }\n                ],\n                FromData: null,\n                ids: 0,\n                modalTitleSs: '',\n                titleType: 'task'\n            }\n        },\n        computed: {\n            ...mapState('media', [\n                'isMobile'\n            ]),\n            ...mapState('userLevel', [\n                'levelId'\n            ]),\n            labelWidth () {\n                return this.isMobile ? undefined : 75\n            },\n            labelPosition () {\n                return this.isMobile ? 'top' : 'right'\n            }\n        },\n        methods: {\n            ...mapMutations('userLevel', [\n                'getTaskId',\n                'getlevelId'\n            ]),\n            // 添加\n            add () {\n                this.ids = ''\n                this.getFrom()\n            },\n            // 新建 编辑表单\n            getFrom () {\n                let data = {\n                    id: this.ids,\n                    level_id: this.levelId\n                }\n                this.$modalForm(createTaskApi(data)).then(\n                    () => this.getList()\n                )\n            },\n            // 编辑\n            edit (row) {\n                this.ids = row.id\n                this.getFrom()\n            },\n            // 关闭模态框\n            handleReset () {\n                this.modals = false\n            },\n            // 表格搜索\n            userSearchs () {\n                this.getList()\n            },\n            // 任务列表\n            getList () {\n                this.loading = true\n                this.levelFrom.is_show = this.levelFrom.is_show || ''\n                taskListApi(this.levelId, this.levelFrom).then(async res => {\n                    let data = res.data\n                    this.levelLists = data.list\n                    this.total = res.data.count\n                    this.loading = false\n                }).catch(res => {\n                    this.loading = false\n                    this.$Message.error(res.msg)\n                })\n            },\n            pageChange (index) {\n                this.levelFrom.page = index\n                this.getList()\n            },\n            // 修改显示隐藏\n            onchangeIsShow (row) {\n                let data = {\n                    id: row.id,\n                    is_show: row.is_show\n                }\n                setTaskShowApi(data).then(async res => {\n                    this.$Message.success(res.msg)\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 设置任务是否达成\n            onchangeIsMust (row) {\n                let data = {\n                    id: row.id,\n                    is_must: row.is_must\n                }\n                setTaskMustApi(data).then(async res => {\n                    this.$Message.success(res.msg)\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 新建编辑提交成功\n            submitFail () {\n                this.getList()\n            },\n            // 删除任务\n            del (row, tit, num) {\n                let delfromData = {\n                    title: tit,\n                    num: num,\n                    url: `user/user_level/delete_task/${row.id}`,\n                    method: 'DELETE',\n                    ids: ''\n                }\n                this.$modalSure(delfromData).then((res) => {\n                    this.$Message.success(res.msg)\n                    this.levelLists.splice(num, 1)\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}