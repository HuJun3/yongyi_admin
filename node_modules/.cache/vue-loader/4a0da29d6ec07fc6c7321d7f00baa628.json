{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/account/login/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/account/login/index.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEFjY291bnRMb2dpbiwgbG9naW5JbmZvQXBpIH0gZnJvbSAnQC9hcGkvYWNjb3VudCcKLy8gaW1wb3J0IG1peGlucyBmcm9tICcuLi9taXhpbnMnCmltcG9ydCBTZXR0aW5nIGZyb20gJ0Avc2V0dGluZycKaW1wb3J0IHsgc2V0Q29va2llcyB9IGZyb20gJ0AvbGlicy91dGlsJwppbXBvcnQgJy4uLy4uLy4uL2Fzc2V0cy9qcy9jYW52YXMtbmVzdC5taW4nCmltcG9ydCAnLi4vLi4vLi4vYXNzZXRzL2pzL2ppZ3Nhdy5qcycKZXhwb3J0IGRlZmF1bHQgewogICAgLy8gbWl4aW5zOiBbbWl4aW5zXSwKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGZ1bGxXaWR0aDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLAogICAgICAgICAgICBzd2lwZXJPcHRpb246IHsKICAgICAgICAgICAgICAgIHBhZ2luYXRpb246ICcuc3dpcGVyLXBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgICAgICAgYXV0b0xvZ2luOiB0cnVlLAogICAgICAgICAgICBpbWdjb2RlOiAnJywKICAgICAgICAgICAgZm9ybUlubGluZTogewogICAgICAgICAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgICAgICAgY29kZTogJycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcnVsZUlubGluZTogewogICAgICAgICAgICAgICAgdXNlcm5hbWU6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBwYXNzd29yZDogWwogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGNvZGU6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6aqM6K+B56CBJywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXJyb3JOdW06IDAsCiAgICAgICAgICAgIGppZ3NhdzogbnVsbCwKICAgICAgICAgICAgbG9naW5fbG9nbzogJycsCiAgICAgICAgICAgIHN3aXBlckxpc3Q6IFtdLAogICAgICAgICAgICBkZWZhdWx0U3dpcGVyTGlzdDogcmVxdWlyZSgnQC9hc3NldHMvaW1hZ2VzL3N3LmpwZycpCiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQgKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXMKICAgICAgICB0b3AgIT0gd2luZG93ICYmICh0b3AubG9jYXRpb24uaHJlZiA9IGxvY2F0aW9uLmhyZWYpCiAgICAgICAgZG9jdW1lbnQub25rZXlkb3duID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKF90aGlzLiRyb3V0ZS5uYW1lID09PSAnbG9naW4nKSB7CiAgICAgICAgICAgICAgICBsZXQga2V5ID0gd2luZG93LmV2ZW50LmtleUNvZGUKICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IDEzKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlU3VibWl0KCdmb3JtSW5saW5lJykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUpCiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICBmdWxsV2lkdGggKHZhbCkgewogICAgICAgICAgICAvLyDkuLrkuobpgb/lhY3popHnuYHop6blj5FyZXNpemXlh73mlbDlr7zoh7TpobXpnaLljaHpob/vvIzkvb/nlKjlrprml7blmagKICAgICAgICAgICAgaWYgKCF0aGlzLnRpbWVyKSB7CiAgICAgICAgICAgICAgICAvLyDkuIDml6bnm5HlkKzliLDnmoRzY3JlZW5XaWR0aOWAvOaUueWPmO+8jOWwseWwhuWFtumHjeaWsOi1i+e7mWRhdGHph4znmoRzY3JlZW5XaWR0aAogICAgICAgICAgICAgICAgdGhpcy5zY3JlZW5XaWR0aCA9IHZhbAogICAgICAgICAgICAgICAgdGhpcy50aW1lciA9IHRydWUKICAgICAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpcwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g5omT5Y2wc2NyZWVuV2lkdGjlj5jljJbnmoTlgLwKICAgICAgICAgICAgICAgICAgICB0aGF0LnRpbWVyID0gZmFsc2UKICAgICAgICAgICAgICAgIH0sIDQwMCkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgJHJvdXRlIChuKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKG4pCiAgICAgICAgICAgIHRoaXMuY2FwdGNoYXMoKQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAvLyAvKiBlc2xpbnQtZGlzYWJsZSAqLwogICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXMKICAgICAgICAgICAgdGhpcy5qaWdzYXcgPSBqaWdzYXcuaW5pdCh7CiAgICAgICAgICAgICAgICBlbDogdGhpcy4kcmVmcy5jYXB0Y2hhLAogICAgICAgICAgICAgICAgb25TdWNjZXNzICgpIHsKICAgICAgICAgICAgICAgICAgICB0aGF0Lm1vZGFscyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZU1vZGVsKCkKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbkZhaWw6IHRoaXMuY2xvc2VmYWlsLAogICAgICAgICAgICAgICAgb25SZWZyZXNoICgpIHsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgaWYgKHRoaXMuc2NyZWVuV2lkdGggPCA3NjgpIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYW52YXMnKVswXS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJywgJ2luZGV4X2JnJykKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYW52YXMnKVswXS5jbGFzc05hbWUgPSAnaW5kZXhfYmcnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5zd2lwZXJEYXRhKCkKICAgICAgICB9KQogICAgICAgIHRoaXMuY2FwdGNoYXMoKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBzd2lwZXJEYXRhICgpIHsKICAgICAgICAgICAgbG9naW5JbmZvQXBpKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YSB8fCB7fQogICAgICAgICAgICAgICAgdGhpcy5sb2dpbl9sb2dvID0gZGF0YS5sb2dpbl9sb2dvID8gZGF0YS5sb2dpbl9sb2dvIDogcmVxdWlyZSgnQC9hc3NldHMvaW1hZ2VzL2xvZ28ucG5nJykKICAgICAgICAgICAgICAgIHRoaXMuc3dpcGVyTGlzdCA9IGRhdGEuc2xpZGUubGVuZ3RoID8gZGF0YS5zbGlkZSA6IFt7IHNsaWRlOiB0aGlzLmRlZmF1bHRTd2lwZXJMaXN0IH1dCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKGVycikKICAgICAgICAgICAgICB0aGlzLmxvZ2luX2xvZ28gPSByZXF1aXJlKCdAL2Fzc2V0cy9pbWFnZXMvbG9nby5wbmcnKQogICAgICAgICAgICAgIHRoaXMuc3dpcGVyTGlzdCA9ICBbeyBzbGlkZTogdGhpcy5kZWZhdWx0U3dpcGVyTGlzdCB9XQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8g5YWz6Zet5qih5oCB5qGGCiAgICAgICAgY2xvc2VNb2RlbCAoKSB7CiAgICAgICAgICAgIGxldCBtc2cgPSB0aGlzLiRNZXNzYWdlLmxvYWRpbmcoewogICAgICAgICAgICAgICAgY29udGVudDogJ+eZu+W9leS4rS4uLicsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMAogICAgICAgICAgICB9KQogICAgICAgICAgICBBY2NvdW50TG9naW4oewogICAgICAgICAgICAgICAgYWNjb3VudDogdGhpcy5mb3JtSW5saW5lLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgcHdkOiB0aGlzLmZvcm1JbmxpbmUucGFzc3dvcmQsCiAgICAgICAgICAgICAgICBpbWdjb2RlOiB0aGlzLmZvcm1JbmxpbmUuY29kZQogICAgICAgICAgICB9KS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgICAgICAgICAgICBtc2coKQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+W3sueZu+mZhicpCiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgICBsZXQgZXhwaXJlcyA9IHRoaXMuZ2V0RXhwaXJlc1RpbWUoZGF0YS5leHBpcmVzX3RpbWUpCiAgICAgICAgICAgICAgICAvLyDorrDlvZXnlKjmiLfnmbvpmYbkv6Hmga8KICAgICAgICAgICAgICAgIHNldENvb2tpZXMoJ3V1aWQnLCBkYXRhLnVzZXJfaW5mby5pZCwgZXhwaXJlcykKICAgICAgICAgICAgICAgIHNldENvb2tpZXMoJ3Rva2VuJywgZGF0YS50b2tlbiwgZXhwaXJlcykKICAgICAgICAgICAgICAgIHNldENvb2tpZXMoJ2V4cGlyZXNfdGltZScsIGRhdGEuZXhwaXJlc190aW1lLCBleHBpcmVzKQoKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXNlckluZm8vdW5pcXVlQXV0aCcsIGRhdGEudW5pcXVlX2F1dGgpCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VzZXJJbmZvL3VzZXJJbmZvJywgZGF0YS51c2VyX2luZm8pCiAgICAgICAgICAgICAgICAvLyDkv53lrZjoj5zljZXkv6Hmga8KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbWVudXMvc2V0b3Blbk1lbnVzJywgW10pCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21lbnVzL2dldG1lbnVzTmF2JywgZGF0YS5tZW51cykKCiAgICAgICAgICAgICAgICAvLyDorrDlvZXnlKjmiLfkv6Hmga8KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXNlckluZm8vbmFtZScsIGRhdGEudXNlcl9pbmZvLmFjY291bnQpCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VzZXJJbmZvL2F2YXRhcicsIGRhdGEudXNlcl9pbmZvLmhlYWRfcGljKQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1c2VySW5mby9hY2Nlc3MnLCBkYXRhLnVuaXF1ZV9hdXRoKQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1c2VySW5mby9sb2dvJywgZGF0YS5sb2dvKQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1c2VySW5mby9sb2dvU21hbGwnLCBkYXRhLmxvZ29fc3F1YXJlKQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1c2VySW5mby92ZXJzaW9uJywgZGF0YS52ZXJzaW9uKQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1c2VySW5mby9uZXdPcmRlckF1ZGlvTGluaycsIGRhdGEubmV3T3JkZXJBdWRpb0xpbmspCgogICAgICAgICAgICAgICAgaWYgKHRoaXMuamlnc2F3KSB0aGlzLmppZ3Nhdy5yZXNldCgpCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBwYXRoOiAnL2FkbWluL2hvbWUvJyB8fCAnL2FkbWluLycgfSkKICAgICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgICAgIG1zZygpCiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHJlcyA9PT0gdW5kZWZpbmVkID8ge30gOiByZXMKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JOdW0rKwogICAgICAgICAgICAgICAgdGhpcy5jYXB0Y2hhcygpCiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKGRhdGEubXNnIHx8ICfnmbvlvZXlpLHotKUnKQogICAgICAgICAgICAgICAgaWYgKHRoaXMuamlnc2F3KSB0aGlzLmppZ3Nhdy5yZXNldCgpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBnZXRFeHBpcmVzVGltZSAoZXhwaXJlc1RpbWUpIHsKICAgICAgICAgICAgbGV0IG5vd1RpbWVOdW0gPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkgLyAxMDAwKQogICAgICAgICAgICBsZXQgZXhwaXJlc1RpbWVOdW0gPSBleHBpcmVzVGltZSAtIG5vd1RpbWVOdW0KICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocGFyc2VGbG9hdChwYXJzZUZsb2F0KGV4cGlyZXNUaW1lTnVtIC8gNjApIC8gNjApIC8gMjQpCiAgICAgICAgfSwKICAgICAgICBjbG9zZWZhaWwgKCkgewogICAgICAgICAgICBpZiAodGhpcy5qaWdzYXcpIHRoaXMuamlnc2F3LnJlc2V0KCkKICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcign5qCh6aqM6ZSZ6K+vJykKICAgICAgICB9LAogICAgICAgIGhhbmRsZVJlc2l6ZSAoZXZlbnQpIHsKICAgICAgICAgICAgdGhpcy5mdWxsV2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgKICAgICAgICAgICAgaWYgKHRoaXMuZnVsbFdpZHRoIDwgNzY4KSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2FudmFzJylbMF0ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycsICdpbmRleF9iZycpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2FudmFzJylbMF0uY2xhc3NOYW1lID0gJ2luZGV4X2JnJwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjYXB0Y2hhczogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLmltZ2NvZGUgPSBTZXR0aW5nLmFwaUJhc2VVUkwgKyAnL2NhcHRjaGFfcHJvPycgKyBEYXRlLnBhcnNlKG5ldyBEYXRlKCkpCiAgICAgICAgfSwKICAgICAgICBoYW5kbGVTdWJtaXQgKG5hbWUpIHsKICAgICAgICAgICAgdGhpcy4kcmVmc1tuYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVycm9yTnVtID49IDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RhbHMgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZU1vZGVsKCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfSwKICAgIGJlZm9yZUNyZWF0ZSAoKSB7CiAgICAgICAgaWYgKHRoaXMuZnVsbFdpZHRoIDwgNzY4KSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYW52YXMnKVswXS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJywgJ2luZGV4X2JnJykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2FudmFzJylbMF0uY2xhc3NOYW1lID0gJ2luZGV4X2JnJwogICAgICAgIH0KICAgIH0sCiAgICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYW52YXMnKVswXS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJywgJ2luZGV4X2JnJykKICAgIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/account/login","sourcesContent":["<template>\n    <div class=\"page-account\">\n        <div class=\"container\" :class=\"[ fullWidth > 768 ? 'containerSamll':'containerBig']\">\n            <swiper :options=\"swiperOption\" class=\"swiperPross\" v-if=\"fullWidth>768\">\n                <swiper-slide class=\"swiperPic\" v-for=\"(item,index) in swiperList\" :key=\"index\">\n                    <img :src=\"item.slide\">\n                </swiper-slide>\n                <div class=\"swiper-pagination\" slot=\"pagination\"></div>\n            </swiper>\n            <div class=\"index_from page-account-container\">\n                <div class=\"page-account-top \">\n                    <div class=\"page-account-top-logo\">\n                        <img :src=\"login_logo\" alt=\"logo\" style=\"width:271px;height:74px;\">\n                    </div>\n                </div>\n                <Form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\"\n                      @keyup.enter=\"handleSubmit('formInline')\">\n                    <FormItem prop=\"username\">\n                        <Input type=\"text\" v-model=\"formInline.username\" prefix=\"ios-contact-outline\"\n                               placeholder=\"请输入用户名\" size=\"large\"/>\n                    </FormItem>\n                    <FormItem prop=\"password\">\n                        <Input type=\"password\" v-model=\"formInline.password\" prefix=\"ios-lock-outline\"\n                               placeholder=\"请输入密码\" size=\"large\"/>\n                    </FormItem>\n                    <FormItem prop=\"code\">\n                        <div class=\"code\">\n                            <Input type=\"text\" v-model=\"formInline.code\" prefix=\"ios-keypad-outline\"\n                                   placeholder=\"请输入验证码\" size=\"large\"/>\n                            <img :src=\"imgcode\" class=\"pictrue\" @click=\"captchas\"/>\n                        </div>\n                    </FormItem>\n                    <FormItem>\n                        <Button type=\"primary\" long size=\"large\" @click=\"handleSubmit('formInline')\" class=\"btn\">登录</Button>\n                    </FormItem>\n                </Form>\n            </div>\n        </div>\n        <Modal v-model=\"modals\" scrollable footer-hide closable title=\"请完成安全校验\" :mask-closable=\"false\" :z-index=\"2\"\n               width=\"342\">\n            <div class=\"captchaBox\">\n                <div id=\"captcha\" style=\"position: relative\" ref=\"captcha\"></div>\n                <div id=\"msg\"></div>\n            </div>\n        </Modal>\n    </div>\n</template>\n<script>\n    import { AccountLogin, loginInfoApi } from '@/api/account'\n    // import mixins from '../mixins'\n    import Setting from '@/setting'\n    import { setCookies } from '@/libs/util'\n    import '../../../assets/js/canvas-nest.min'\n    import '../../../assets/js/jigsaw.js'\n    export default {\n        // mixins: [mixins],\n        data () {\n            return {\n                fullWidth: document.documentElement.clientWidth,\n                swiperOption: {\n                    pagination: '.swiper-pagination',\n                    autoplay: true\n                },\n                modals: false,\n                autoLogin: true,\n                imgcode: '',\n                formInline: {\n                    username: '',\n                    password: '',\n                    code: ''\n                },\n                ruleInline: {\n                    username: [\n                        { required: true, message: '请输入用户名', trigger: 'blur' }\n                    ],\n                    password: [\n                        { required: true, message: '请输入密码', trigger: 'blur' }\n                    ],\n                    code: [\n                        { required: true, message: '请输入验证码', trigger: 'blur' }\n                    ]\n                },\n                errorNum: 0,\n                jigsaw: null,\n                login_logo: '',\n                swiperList: [],\n                defaultSwiperList: require('@/assets/images/sw.jpg')\n            }\n        },\n        created () {\n            var _this = this\n            top != window && (top.location.href = location.href)\n            document.onkeydown = function (e) {\n                if (_this.$route.name === 'login') {\n                    let key = window.event.keyCode\n                    if (key === 13) {\n                        _this.handleSubmit('formInline')\n                    }\n                }\n            }\n            window.addEventListener('resize', this.handleResize)\n        },\n        watch: {\n            fullWidth (val) {\n                // 为了避免频繁触发resize函数导致页面卡顿，使用定时器\n                if (!this.timer) {\n                    // 一旦监听到的screenWidth值改变，就将其重新赋给data里的screenWidth\n                    this.screenWidth = val\n                    this.timer = true\n                    let that = this\n                    setTimeout(function () {\n                        // 打印screenWidth变化的值\n                        that.timer = false\n                    }, 400)\n                }\n            },\n            $route (n) {\n                console.log(n)\n                this.captchas()\n            }\n        },\n        mounted: function () {\n            this.$nextTick(() => {\n                // /* eslint-disable */\n                let that = this\n                this.jigsaw = jigsaw.init({\n                    el: this.$refs.captcha,\n                    onSuccess () {\n                        that.modals = false\n                        that.closeModel()\n                    },\n                    onFail: this.closefail,\n                    onRefresh () {\n                    }\n                })\n                if (this.screenWidth < 768) {\n                    document.getElementsByTagName('canvas')[0].removeAttribute('class', 'index_bg')\n                } else {\n                    document.getElementsByTagName('canvas')[0].className = 'index_bg'\n                }\n                this.swiperData()\n            })\n            this.captchas()\n        },\n        methods: {\n            swiperData () {\n                loginInfoApi().then(res => {\n                    let data = res.data || {}\n                    this.login_logo = data.login_logo ? data.login_logo : require('@/assets/images/logo.png')\n                    this.swiperList = data.slide.length ? data.slide : [{ slide: this.defaultSwiperList }]\n                }).catch(err => {\n                    this.$Message.error(err)\n                  this.login_logo = require('@/assets/images/logo.png')\n                  this.swiperList =  [{ slide: this.defaultSwiperList }]\n                })\n            },\n            // 关闭模态框\n            closeModel () {\n                let msg = this.$Message.loading({\n                    content: '登录中...',\n                    duration: 0\n                })\n                AccountLogin({\n                    account: this.formInline.username,\n                    pwd: this.formInline.password,\n                    imgcode: this.formInline.code\n                }).then(async res => {\n                    msg()\n                    console.log('已登陆')\n                    let data = res.data\n                    let expires = this.getExpiresTime(data.expires_time)\n                    // 记录用户登陆信息\n                    setCookies('uuid', data.user_info.id, expires)\n                    setCookies('token', data.token, expires)\n                    setCookies('expires_time', data.expires_time, expires)\n\n                    this.$store.commit('userInfo/uniqueAuth', data.unique_auth)\n                    this.$store.commit('userInfo/userInfo', data.user_info)\n                    // 保存菜单信息\n                    this.$store.commit('menus/setopenMenus', [])\n                    this.$store.commit('menus/getmenusNav', data.menus)\n\n                    // 记录用户信息\n                    this.$store.commit('userInfo/name', data.user_info.account)\n                    this.$store.commit('userInfo/avatar', data.user_info.head_pic)\n                    this.$store.commit('userInfo/access', data.unique_auth)\n                    this.$store.commit('userInfo/logo', data.logo)\n                    this.$store.commit('userInfo/logoSmall', data.logo_square)\n                    this.$store.commit('userInfo/version', data.version)\n                    this.$store.commit('userInfo/newOrderAudioLink', data.newOrderAudioLink)\n\n                    if (this.jigsaw) this.jigsaw.reset()\n                    return this.$router.replace({ path: '/admin/home/' || '/admin/' })\n                }).catch(res => {\n                    msg()\n                    let data = res === undefined ? {} : res\n                    this.errorNum++\n                    this.captchas()\n                    this.$Message.error(data.msg || '登录失败')\n                    if (this.jigsaw) this.jigsaw.reset()\n                })\n            },\n            getExpiresTime (expiresTime) {\n                let nowTimeNum = Math.round(new Date() / 1000)\n                let expiresTimeNum = expiresTime - nowTimeNum\n                return parseFloat(parseFloat(parseFloat(expiresTimeNum / 60) / 60) / 24)\n            },\n            closefail () {\n                if (this.jigsaw) this.jigsaw.reset()\n                this.$Message.error('校验错误')\n            },\n            handleResize (event) {\n                this.fullWidth = document.documentElement.clientWidth\n                if (this.fullWidth < 768) {\n                    document.getElementsByTagName('canvas')[0].removeAttribute('class', 'index_bg')\n                } else {\n                    document.getElementsByTagName('canvas')[0].className = 'index_bg'\n                }\n            },\n            captchas: function () {\n                this.imgcode = Setting.apiBaseURL + '/captcha_pro?' + Date.parse(new Date())\n            },\n            handleSubmit (name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        if (this.errorNum >= 2) {\n                            this.modals = true\n                        } else {\n                            this.closeModel()\n                        }\n                    }\n                })\n            }\n        },\n        beforeCreate () {\n            if (this.fullWidth < 768) {\n                document.getElementsByTagName('canvas')[0].removeAttribute('class', 'index_bg')\n            } else {\n                document.getElementsByTagName('canvas')[0].className = 'index_bg'\n            }\n        },\n        beforeDestroy: function () {\n            window.removeEventListener('resize', this.handleResize)\n            document.getElementsByTagName('canvas')[0].removeAttribute('class', 'index_bg')\n        }\n    }\n</script>\n<style scoped lang=\"stylus\">\n    .page-account {\n      display: flex;\n      width: 100%;\n      background-image: url('../../../assets/images/bg.jpg');\n      background-size: cover;\n      background-position: center;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      height: 100vh;\n      overflow: auto;\n    }\n    .page-account .code {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n\n    .page-account .code .pictrue {\n        height: 40px;\n    }\n\n    .swiperPross {\n        border-radius: 6px 0px 0px 6px;\n    }\n\n    .swiperPross, .swiperPic, .swiperPic img {\n        width: 510px;\n        height: 100%;\n    }\n\n    .swiperPic img {\n        width: 100%;\n        height: 100%;\n    }\n\n    .container {\n      height: 400px!important;\n      padding: 0!important;\n      border-radius: 6px;\n      z-index: 1;\n      display: flex;\n    }\n\n    .containerSamll {\n        /*width: 56% !important;*/\n        background: #fff !important;\n    }\n\n    .containerBig {\n        width: auto !important;\n        background: #f7f7f7 !important;\n    }\n\n    .index_from {\n        padding: 0 40px 32px 40px;\n        height: 400px;\n        box-sizing: border-box;\n    }\n\n    .page-account-top {\n        padding: 20px 0 !important;\n        box-sizing: border-box !important;\n        display: flex;\n        justify-content: center;\n    }\n\n    .page-account-container {\n        border-radius: 0px 6px 6px 0px;\n    }\n\n    .btn {\n        background: linear-gradient(90deg, rgba(25, 180, 241, 1) 0%, rgba(14, 115, 232, 1) 100%) !important;\n    }\n\n    .captchaBox {\n        width: 310px;\n    }\n\n    input {\n        display: block;\n        width: 290px;\n        line-height: 40px;\n        margin: 10px 0;\n        padding: 0 10px;\n        outline: none;\n        border: 1px solid #c8cccf;\n        border-radius: 4px;\n        color: #6a6f77;\n    }\n\n    #msg {\n        width: 100%;\n        line-height: 40px;\n        font-size: 14px;\n        text-align: center;\n    }\n\n    a:link, a:visited, a:hover, a:active {\n        margin-left: 100px;\n        color: #0366D6;\n    }\n\n    .index_from >>> .ivu-input-large\n        font-size:14px!important\n\n</style>\n"]}]}