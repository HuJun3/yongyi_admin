{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/notify/smsConfig/components/loginFrom.vue?vue&type=style&index=0&id=94540780&scoped=true&lang=stylus&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/notify/smsConfig/components/loginFrom.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5tYXhJbnB0ewogICAgbWF4LXdpZHRoIDQwMHB4CiAgICBtYXJnaW4tbGVmdCBhdXRvCiAgICBtYXJnaW4tcmlnaHQgYXV0bwp9Ci5wYWdlLWFjY291bnQtY29udGFpbmVyewogICAgdGV4dC1hbGlnbiBjZW50ZXIKICAgIHBhZGRpbmcgNTBweCAwCn0KLnBhZ2UtYWNjb3VudC10b3B7CiAgICBtYXJnaW4tYm90dG9tIDIwcHgKfQoucGFnZS1hY2NvdW50LXRvcC10aXQKICAgIGZvbnQtc2l6ZSAyMXB4CiAgICBjb2xvciAjMTg5MEZGCi5wYWdlLWFjY291bnQtb3RoZXIKICAgIHRleHQtYWxpZ24gY2VudGVyCiAgICBjb2xvciAjMTg5MEZGCiAgICBmb250LXNpemUgMTJweAogICAgc3BhbgogICAgICAgIGN1cnNvciBwb2ludGVyCg=="},{"version":3,"sources":["loginFrom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"loginFrom.vue","sourceRoot":"src/pages/notify/smsConfig/components","sourcesContent":["<template>\n    <Row type=\"flex\">\n        <Col span=\"24\">\n            <div class=\"index_from page-account-container\">\n                <div class=\"page-account-top \">\n                    <span class=\"page-account-top-tit\">一号通账户登录</span>\n                </div>\n                <Form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\" @submit.native.prevent @keyup.enter=\"handleSubmit('formInline')\">\n                    <FormItem prop=\"sms_account\"  class=\"maxInpt\">\n                        <Input type=\"text\" v-model=\"formInline.account\" prefix=\"ios-contact-outline\"\n                               placeholder=\"请输入手机号\"/>\n                    </FormItem>\n                    <FormItem prop=\"sms_token\"  class=\"maxInpt\">\n                        <Input type=\"password\" v-model=\"formInline.password\" prefix=\"ios-lock-outline\"\n                               placeholder=\"请输入密码\"/>\n                    </FormItem>\n                    <FormItem  class=\"maxInpt\">\n                        <Button type=\"primary\" long size=\"large\" @click=\"handleSubmit('formInline')\" class=\"btn\">登录</Button>\n                    </FormItem>\n                </Form>\n                <div class=\"page-account-other\">\n                    <span  @click=\"changePassword\">忘记密码  |</span>\n                    <span  @click=\"changeReg\">   注册账户</span>\n                </div>\n            </div>\n        </Col>\n    </Row>\n</template>\n\n<script>\n    import { configApi } from '@/api/setting';\n    export default {\n        name: 'login',\n        data () {\n            const validatePhone = (rule, value, callback) => {\n                if (!value) {\n                    return callback(new Error('请填写手机号'));\n                } else if (!/^1[3456789]\\d{9}$/.test(value)) {\n                    callback(new Error('手机号格式不正确!'));\n                } else {\n                    callback();\n                }\n            };\n            return {\n                formInline: {\n                    account: '',\n                    password: ''\n                },\n                ruleInline: {\n                    account: [\n                        { required: true, validator: validatePhone, trigger: 'blur' }\n                    ],\n                    password: [\n                        { required: true, message: '请输入密码', trigger: 'blur' }\n                    ]\n                }\n            }\n        },\n        created () {\n            var _this = this;\n            document.onkeydown = function (e) {\n                let key = window.event.keyCode;\n                if (key === 13) {\n                    _this.handleSubmit('formInline');\n                }\n            };\n        },\n        methods: {\n            handleSubmit (name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        configApi(this.formInline).then(async res => {\n                            this.$Message.success('登录成功!');\n                            this.$emit('on-Login');\n                        }).catch(res => {\n                            this.$Message.error(res.msg);\n                        })\n                    } else {\n                        return false;\n                    }\n                })\n            },\n            // 休改密码\n            changePassword () {\n                this.$emit('on-change')\n            },\n            changeReg () {\n                this.$emit('on-changes')\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n    .maxInpt{\n        max-width 400px\n        margin-left auto\n        margin-right auto\n    }\n    .page-account-container{\n        text-align center\n        padding 50px 0\n    }\n    .page-account-top{\n        margin-bottom 20px\n    }\n    .page-account-top-tit\n        font-size 21px\n        color #1890FF\n    .page-account-other\n        text-align center\n        color #1890FF\n        font-size 12px\n        span\n            cursor pointer\n</style>\n"]}]}