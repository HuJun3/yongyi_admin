{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/kefu/index.vue?vue&type=style&index=0&id=6f59cb20&scoped=true&lang=stylus&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/kefu/index.vue","mtime":1610680940000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBhZ2UtYWNjb3VudCB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgd2lkdGg6IDEwMCU7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ35AL2Fzc2V0cy9pbWFnZXMva2ZiZy5qcGcnKTsKICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgaGVpZ2h0OiAxMDB2aDsKICAgIG92ZXJmbG93OiBhdXRvOwp9Ci5jb2RlLWJveAogICAgcG9zaXRpb24gcmVsYXRpdmUKICAgIGRpc3BsYXkgZmxleAogICAgYWxpZ24taXRlbXMgY2VudGVyCiAgICBqdXN0aWZ5LWNvbnRlbnQgY2VudGVyCiAgICAucXJjb2RlCiAgICAgICAgZGlzcGxheSBmbGV4CiAgICAgICAgYWxpZ24taXRlbXMgY2VudGVyCiAgICAgICAganVzdGlmeS1jb250ZW50IGNlbnRlcgogICAgICAgIHdpZHRoIDE4MHB4CiAgICAgICAgaGVpZ2h0IDE4MHB4CiAgICAgICAgYm9yZGVyIDFweCBzb2xpZCAjRTVFNUU2CiAgICAucnhwaXJlZC1ib3gKICAgICAgICBkaXNwbGF5IGZsZXgKICAgICAgICBmbGV4LWRpcmVjdGlvbiBjb2x1bW4KICAgICAgICBhbGlnbi1pdGVtcyBjZW50ZXIKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQgY2VudGVyCiAgICAgICAgcG9zaXRpb24gYWJzb2x1dGUKICAgICAgICBsZWZ0IDUwJQogICAgICAgIHRvcCA1MCUKICAgICAgICB0cmFuc2Zvcm0gdHJhbnNsYXRlKC01MCUsLTUwJSkKICAgICAgICB3aWR0aCAxNjBweAogICAgICAgIGhlaWdodCAxNjBweAogICAgICAgIGJhY2tncm91bmQgcmdiYSgwLDAsMCwwLjYpCiAgICAgICAgcAogICAgICAgICAgICBtYXJnaW4tYm90dG9tIDEwcHgKICAgICAgICAgICAgZm9udC1zaXplIDE1cHgKICAgICAgICAgICAgY29sb3IgI2ZmZgoucGFnZS1hY2NvdW50LXRvcC1sb2dvCiAgICBjb2xvciAjMDAwMDAwCiAgICBmb250LXNpemUgMjFweAoud3JhcHBlci1ib3gKICAgIGRpc3BsYXkgZmxleAogICAgZmxleC1kaXJlY3Rpb24gY29sdW1uCiAgICBoZWlnaHQ6IDEwMHZoCiAgICAuZm9vdC1ib3gKICAgICAgICBwYWRkaW5nIDIwcHggMAogICAgICAgIGZvbnQtc2l6ZSAxNHB4CiAgICAgICAgY29sb3IgIzY2NjY2NgogICAgICAgIHRleHQtYWxpZ24gY2VudGVyCiAgICAgICAgYm94LXNpemluZyBib3JkZXItYm94Ci5wYWdlLWFjY291bnQgewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXggMQp9CgoucGFnZS1hY2NvdW50IC5jb2RlIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7Cn0KCi5wYWdlLWFjY291bnQgLmNvZGUgLnBpY3RydWUgewogICAgaGVpZ2h0OiA0MHB4Owp9Cgouc3dpcGVyUHJvc3MgewogICAgYm9yZGVyLXJhZGl1czogNnB4IDBweCAwcHggNnB4Owp9Cgouc3dpcGVyUHJvc3MsIC5zd2lwZXJQaWMsIC5zd2lwZXJQaWMgaW1nIHsKICAgIHdpZHRoOiA1MTBweDsKICAgIGhlaWdodDogMTAwJTsKfQoKLnN3aXBlclBpYyBpbWcgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7Cn0KCi5jb250YWluZXIgewogICAgaGVpZ2h0OiA0MDBweCAhaW1wb3J0YW50OwogICAgcGFkZGluZzogMCAhaW1wb3J0YW50OwogICAgLypvdmVyZmxvdzogaGlkZGVuOyovCiAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICB6LWluZGV4OiAxOwogICAgZGlzcGxheTogZmxleDsKfQoKLmNvbnRhaW5lclNhbWxsIHsKICAgIHdpZHRoOiAzODRweCAhaW1wb3J0YW50OwogICAgbWFyZ2luLWxlZnQgMzAlCiAgICBiYWNrZ3JvdW5kOiAjZmZmICFpbXBvcnRhbnQ7Cn0KCi5jb250YWluZXJCaWcgewogICAgd2lkdGg6IDkwJTsKICAgIHBhZGRpbmctYm90dG9tIDIwcHgKICAgIG1hcmdpbi10b3A6IDg0cHg7CiAgICBiYWNrZ3JvdW5kOiAjZjdmN2Y3ICFpbXBvcnRhbnQ7CiAgICBoZWlnaHQgYXV0byFpbXBvcnRhbnQKICAgIGJveC1zaGFkb3c6IDBweCAzcHggMjBweCByZ2JhKDAsIDIwLCA0MSwgMC4wNik7Cn0KCi5pbmRleF9mcm9tIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIHBhZGRpbmc6IDQwcHggNDBweCAzMnB4IDQwcHg7CiAgICBoZWlnaHQ6IDQwMHB4OwogICAgd2lkdGggMTAwJQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQouY29udGFpbmVyQmlnIC5pbmRleF9mcm9tewogICAgcGFkZGluZyAyMHB4CiAgICBoZWlnaHQgYXV0byFpbXBvcnRhbnQKfQouaW5kZXhfZnJvbSAucWhfYm94CiAgICBwb3NpdGlvbjphYnNvbHV0ZTsKICAgIHJpZ2h0IDEycHgKICAgIHRvcCAwCiAgICBjdXJzb3IgcG9pbnRlcgogICAgLmljb25mb250CiAgICAgICAgY29sb3IgIzI2NUJFRAogICAgICAgIGZvbnQtc2l6ZSAzNnB4CgoKLnBhZ2UtYWNjb3VudC10b3AgewogICAgcGFkZGluZzogMjBweCAwIDUwcHggIWltcG9ydGFudDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoKLnBhZ2UtYWNjb3VudC1jb250YWluZXIgewogICAgYm9yZGVyLXJhZGl1czogMHB4IDZweCA2cHggMHB4Owp9CgouYnRuIHsKICAgIGJhY2tncm91bmQ6ICMyNjVCRUQ7Cn0KCi5jYXB0Y2hhQm94IHsKICAgIHdpZHRoOiAzMTBweDsKfQoKaW5wdXQgewogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogMjkwcHg7CiAgICBsaW5lLWhlaWdodDogNDBweDsKICAgIG1hcmdpbjogMTBweCAwOwogICAgcGFkZGluZzogMCAxMHB4OwogICAgb3V0bGluZTogbm9uZTsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNjOGNjY2Y7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBjb2xvcjogIzZhNmY3NzsKfQoKI21zZyB7CiAgICB3aWR0aDogMTAwJTsKICAgIGxpbmUtaGVpZ2h0OiA0MHB4OwogICAgZm9udC1zaXplOiAxNHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgphOmxpbmssIGE6dmlzaXRlZCwgYTpob3ZlciwgYTphY3RpdmUgewogICAgbWFyZ2luLWxlZnQ6IDEwMHB4OwogICAgY29sb3I6ICMwMzY2RDY7Cn0KCi5pbmRleF9mcm9tID4+PiAuaXZ1LWlucHV0LWxhcmdlCiAgICBmb250LXNpemU6MTRweCFpbXBvcnRhbnQKCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/pages/kefu","sourcesContent":["<template>\n    <div class=\"wrapper-box\">\n        <div class=\"page-account kf\">\n            <div class=\"container\" :class=\"[ fullWidth > 768 ? 'containerSamll':'containerBig']\">\n                <div class=\"index_from page-account-container\">\n                    <div :style=\"{display:!loginType?'block':'none'}\">\n                        <div class=\"page-account-top\">\n                            <div class=\"page-account-top-logo\">客服登录</div>\n                        </div>\n                        <Form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\"\n                              @keyup.enter=\"handleSubmit('formInline')\">\n                            <FormItem prop=\"username\">\n                                <Input type=\"text\" v-model=\"formInline.username\"\n                                       placeholder=\"请输入用户名\" size=\"large\"/>\n                            </FormItem>\n                            <FormItem prop=\"password\">\n                                <Input type=\"password\" v-model=\"formInline.password\"\n                                       placeholder=\"请输入密码\" size=\"large\"/>\n                            </FormItem>\n                            <FormItem>\n                                <Button type=\"primary\" long size=\"large\" @click=\"handleSubmit('formInline')\" class=\"btn\">登录\n                                </Button>\n                            </FormItem>\n                        </Form>\n                        <div class=\"qh_box\" v-if=\"!isMobile\" @click=\"bindScan\"><span class=\"iconfont iconerweima2\"></span></div>\n                    </div>\n                    <div :style=\"{display:loginType?'block':'none'}\">\n                        <div class=\"page-account-top\">\n                            <div class=\"page-account-top-logo\">微信扫码登录</div>\n                        </div>\n                        <div class=\"code-box\">\n                            <div class=\"qrcode\" ref=\"qrCodeUrl\"></div>\n                            <div class=\"rxpired-box\" v-show=\"rxpired\">\n                                <p>已过期</p>\n                                <Button type=\"primary\" @click=\"bindRefresh\">点击刷新</Button>\n                            </div>\n                        </div>\n                        <div class=\"qh_box\" @click=\"loginType = 0\"><span class=\"iconfont iconzhanghaomima\"></span></div>\n                    </div>\n                </div>\n            </div>\n            <!--            <Modal v-model=\"modals\" scrollable footer-hide closable title=\"请完成安全校验\" :mask-closable=\"false\" :z-index=\"2\"-->\n            <!--                   width=\"342\">-->\n            <!--                <div class=\"captchaBox\">-->\n            <!--                    <div id=\"captcha\" style=\"position: relative\" ref=\"captcha\"></div>-->\n            <!--                    <div id=\"msg\"></div>-->\n            <!--                </div>-->\n            <!--            </Modal>-->\n        </div>\n        <div class=\"foot-box\">\n            Copyright © 2020 西安众邦网络科技有限公司 | {{version}} 客服系统\n        </div>\n    </div>\n</template>\n<script>\n    import { AccountLogin, loginInfoApi,getSanCodeKey,scanStatus,kefuConfig } from '@/api/kefu';\n    import mixins from '../account/mixins';\n    import Setting from '@/setting';\n    import util from '@/libs/util';\n    import QRCode from 'qrcodejs2'\n    import { getCookies, removeCookies,setCookies } from '@/libs/util'\n    export default {\n        mixins: [mixins],\n        data () {\n            return {\n                fullWidth: document.documentElement.clientWidth,\n                swiperOption: {\n                    pagination: '.swiper-pagination',\n                    autoplay: true\n                },\n                modals: false,\n                autoLogin: true,\n                imgcode: '',\n                formInline: {\n                    username: '',\n                    password: '',\n                    code: ''\n                },\n                ruleInline: {\n                    username: [\n                        { required: true, message: '请输入用户名', trigger: 'blur' }\n                    ],\n                    password: [\n                        { required: true, message: '请输入密码', trigger: 'blur' }\n                    ],\n                    code: [\n                        { required: true, message: '请输入验证码', trigger: 'blur' }\n                    ]\n                },\n                errorNum: 0,\n                jigsaw: null,\n                login_logo: '',\n                swiperList: [],\n                defaultSwiperList: require('@/assets/images/sw.jpg'),\n                loginType:0, // 0 账号 1 扫码\n                codeKey:'',\n                scanTime:'',\n                rxpired:false, // 扫码是否过期\n                isMobile:false,\n                version:'', //版本号\n                isScan:false,\n                timeNum:0\n            }\n        },\n        created () {\n            kefuConfig().then(res=>{\n                this.version = res.data.version\n                if(res.data.site_name){\n                  document.title = res.data.site_name;\n                }\n            })\n            this.isMobile = this.$store.state.media.isMobile\n            var _this = this;\n            top != window && (top.location.href = location.href);\n            document.onkeydown = function (e) {\n                if (_this.$route.name === 'login') {\n                    let key = window.event.keyCode;\n                    if (key === 13) {\n                        _this.handleSubmit('formInline');\n                    }\n                }\n            };\n            window.addEventListener('resize', this.handleResize)\n\n        },\n        watch: {\n            fullWidth (val) {\n                // 为了避免频繁触发resize函数导致页面卡顿，使用定时器\n                if (!this.timer) {\n                    // 一旦监听到的screenWidth值改变，就将其重新赋给data里的screenWidth\n                    this.screenWidth = val\n                    this.timer = true\n                    let that = this\n                    setTimeout(function () {\n                        // 打印screenWidth变化的值\n                        that.timer = false\n                    }, 400)\n                }\n            },\n            $route (n) {\n                console.log(n);\n                this.captchas();\n            },\n        },\n        mounted: function () {\n            this.$nextTick(() => {\n            });\n\n            this.captchas();\n        },\n        methods: {\n            // 切换扫码\n            bindScan(){\n                if(!this.isScan){\n                    this.isScan = true\n                    this.getSanCodeKey()\n                }\n                this.loginType = 1\n            },\n            // 生成二维码\n            creatQrCode() {\n                let url= `${window.location.protocol}//${window.location.host}/pages/users/scan_login/index?key=${this.codeKey}`;\n                var qrcode = new QRCode(this.$refs.qrCodeUrl, {\n                    text: url, // 需要转换为二维码的内容\n                    width: 160,\n                    height: 160,\n                    colorDark: '#000000',\n                    colorLight: '#ffffff',\n                    correctLevel: QRCode.CorrectLevel.H\n                })\n            },\n            // 关闭模态框\n            closeModel () {\n                let msg = this.$Message.loading({\n                    content: '登录中...',\n                    duration: 0\n                });\n                AccountLogin({\n                    account: this.formInline.username,\n                    password: this.formInline.password,\n                    imgcode: this.formInline.code\n                }).then(async res => {\n                    msg();\n                    let expires = this.getExpiresTime(res.data.exp_time);\n                    // 记录用户登陆信息\n                    setCookies('kefu_uuid', res.data.kefuInfo.uid, expires);\n                    setCookies('kefu_token', res.data.token, expires);\n                    setCookies('kefu_expires_time', res.data.exp_time, expires);\n                    setCookies('kefuInfo', res.data.kefuInfo, expires);\n\n                    // 记录用户信息\n                    this.$store.commit('kefu/setInfo', res.data.kefuInfo)\n\n\n\n\n                    if(this.$store.state.media.isMobile){\n                        //手机页面\n                        return this.$router.replace({ path: this.$route.query.redirect || '/kefu/mobile_list' });\n                    }else{\n                        // pc页面\n                       return this.$router.replace({ path: this.$route.query.redirect || '/kefu/pc_list' });\n                    }\n                }).catch(res => {\n\n                    msg();\n                    let data = res === undefined ? {} : res;\n                    this.errorNum++;\n                    this.captchas();\n                    this.$Message.error(data.msg || '登录失败');\n                    if (this.jigsaw) this.jigsaw.reset();\n                });\n            },\n            getExpiresTime (expiresTime) {\n                let nowTimeNum = Math.round(new Date() / 1000);\n                let expiresTimeNum = expiresTime - nowTimeNum;\n                return parseFloat(parseFloat(parseFloat(expiresTimeNum / 60) / 60) / 24);\n            },\n            closefail () {\n                if (this.jigsaw) this.jigsaw.reset();\n                this.$Message.error('校验错误');\n            },\n            handleResize (event) {\n                this.fullWidth = document.documentElement.clientWidth\n\n            },\n            captchas: function () {\n                this.imgcode = Setting.apiBaseURL + '/captcha_pro?' + Date.parse(new Date());\n            },\n            handleSubmit (name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        this.closeModel();\n                    }\n                })\n            },\n            // 获取客服扫码key\n            getSanCodeKey(){\n                getSanCodeKey().then(res=>{\n                    this.codeKey = res.data.key\n                    this.creatQrCode()\n                    this.scanTime = setInterval(()=>{\n                        this.timeNum++\n                        if(this.timeNum>=60){\n                            this.timeNum = 0\n                            window.clearInterval(this.scanTime)\n                            this.rxpired = true\n                        }else{\n                            this.getScanStatus()\n                        }\n\n                    },1000)\n                }).catch(error=>{\n                    this.timeNum = 0\n                    window.clearInterval(this.scanTime)\n                    this.rxpired = true\n                    this.$Message.error(error.msg)\n                })\n            },\n            // 扫码登录情况\n            getScanStatus(){\n                scanStatus(this.codeKey).then(async res=>{\n                    // 0 = 二维码过期需要重新获取授权凭证\n                    if(res.data.status == 0){\n                        this.timeNum = 0\n                        window.clearInterval(this.scanTime)\n                        this.rxpired = true\n                    }\n                    // 1=正在扫描\n                    if(res.data.status == 1){\n\n                    }\n                    // 3 扫描成功正在登录\n                    if(res.data.status == 3){\n                        window.clearInterval(this.scanTime)\n                        let expires = this.getExpiresTime(res.data.exp_time);\n                        // 记录用户登陆信息\n                        setCookies('kefu_uuid', res.data.kefuInfo.uid, expires);\n                        setCookies('kefu_token', res.data.token, expires);\n                        setCookies('kefu_expires_time', res.data.exp_time, expires);\n                        setCookies('kefuInfo', res.data.kefuInfo, expires);\n                        // 记录用户信息\n                        this.$store.commit('kefu/setInfo', res.data.kefuInfo)\n                        if(this.$store.state.media.isMobile){\n                            //手机页面\n                            return this.$router.replace({ path: this.$route.query.redirect || '/kefu/mobile_list' });\n                        }else{\n                            // pc页面\n                            return this.$router.replace({ path: this.$route.query.redirect || '/kefu/pc_list' });\n                        }\n                    }\n                }).catch(error=>{\n                    this.$Modal.error({\n                        title: '提示',\n                        content: error.msg\n                    });\n                    this.timeNum = 0\n                    window.clearInterval(this.scanTime)\n                    this.rxpired = true\n                })\n            },\n            // 刷新二维码\n            bindRefresh(){\n                this.$refs.qrCodeUrl.innerHTML = ''\n                this.rxpired = false\n                this.getSanCodeKey()\n            }\n        },\n        beforeCreate () {\n\n        },\n        beforeDestroy: function () {\n            this.timeNum = 0\n            this.$refs.qrCodeUrl.innerHTML = ''\n            window.clearInterval(this.scanTime)\n            window.removeEventListener('resize', this.handleResize);\n            // document.getElementsByTagName('canvas')[0].removeAttribute('class', 'index_bg');\n        }\n    };\n</script>\n<style scoped lang=\"stylus\">\n    .page-account {\n        display: flex;\n        width: 100%;\n        background-image: url('~@/assets/images/kfbg.jpg');\n        background-size: cover;\n        background-position: center;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        height: 100vh;\n        overflow: auto;\n    }\n    .code-box\n        position relative\n        display flex\n        align-items center\n        justify-content center\n        .qrcode\n            display flex\n            align-items center\n            justify-content center\n            width 180px\n            height 180px\n            border 1px solid #E5E5E6\n        .rxpired-box\n            display flex\n            flex-direction column\n            align-items center\n            justify-content center\n            position absolute\n            left 50%\n            top 50%\n            transform translate(-50%,-50%)\n            width 160px\n            height 160px\n            background rgba(0,0,0,0.6)\n            p\n                margin-bottom 10px\n                font-size 15px\n                color #fff\n    .page-account-top-logo\n        color #000000\n        font-size 21px\n    .wrapper-box\n        display flex\n        flex-direction column\n        height: 100vh\n        .foot-box\n            padding 20px 0\n            font-size 14px\n            color #666666\n            text-align center\n            box-sizing border-box\n    .page-account {\n        display: flex;\n        flex 1\n    }\n\n    .page-account .code {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n\n    .page-account .code .pictrue {\n        height: 40px;\n    }\n\n    .swiperPross {\n        border-radius: 6px 0px 0px 6px;\n    }\n\n    .swiperPross, .swiperPic, .swiperPic img {\n        width: 510px;\n        height: 100%;\n    }\n\n    .swiperPic img {\n        width: 100%;\n        height: 100%;\n    }\n\n    .container {\n        height: 400px !important;\n        padding: 0 !important;\n        /*overflow: hidden;*/\n        border-radius: 6px;\n        z-index: 1;\n        display: flex;\n    }\n\n    .containerSamll {\n        width: 384px !important;\n        margin-left 30%\n        background: #fff !important;\n    }\n\n    .containerBig {\n        width: 90%;\n        padding-bottom 20px\n        margin-top: 84px;\n        background: #f7f7f7 !important;\n        height auto!important\n        box-shadow: 0px 3px 20px rgba(0, 20, 41, 0.06);\n    }\n\n    .index_from {\n        position: relative;\n        padding: 40px 40px 32px 40px;\n        height: 400px;\n        width 100%\n        box-sizing: border-box;\n    }\n    .containerBig .index_from{\n        padding 20px\n        height auto!important\n    }\n    .index_from .qh_box\n        position:absolute;\n        right 12px\n        top 0\n        cursor pointer\n        .iconfont\n            color #265BED\n            font-size 36px\n\n\n    .page-account-top {\n        padding: 20px 0 50px !important;\n        box-sizing: border-box !important;\n        display: flex;\n        justify-content: center;\n    }\n\n    .page-account-container {\n        border-radius: 0px 6px 6px 0px;\n    }\n\n    .btn {\n        background: #265BED;\n    }\n\n    .captchaBox {\n        width: 310px;\n    }\n\n    input {\n        display: block;\n        width: 290px;\n        line-height: 40px;\n        margin: 10px 0;\n        padding: 0 10px;\n        outline: none;\n        border: 1px solid #c8cccf;\n        border-radius: 4px;\n        color: #6a6f77;\n    }\n\n    #msg {\n        width: 100%;\n        line-height: 40px;\n        font-size: 14px;\n        text-align: center;\n    }\n\n    a:link, a:visited, a:hover, a:active {\n        margin-left: 100px;\n        color: #0366D6;\n    }\n\n    .index_from >>> .ivu-input-large\n        font-size:14px!important\n\n</style>\n<style>\n    @media screen and (min-width:320px) and (max-width:960px){\n        .page-account {\n            background-image: url(\"~@/assets/images/m_bg.png\") !important;\n            background-size: 100% auto !important;\n            background-repeat: no-repeat;\n            background-position: left top !important;\n\n        }\n        .index_from{\n            box-shadow: 0px 3px 20px rgba(0, 20, 41, 0.06);\n            background: #fff;\n        }\n        .wrapper-box .foot-box{\n            padding: 20px 66px !important;\n            color: #ADADAD !important;\n            font-size: .22rem !important;\n        }\n        .containerBig{\n            width: 86% !important;\n            border-radius: .2rem !important;\n            overflow: hidden;\n        }\n        .btn{\n            background: linear-gradient(90deg, #3875EA 0%, #1890FC 100%) !important;\n\n            border-radius: .41rem;\n        }\n        .ivu-input{\n            border: 1px solid #dcdee2;\n            -webkit-appearance:none;/*去除阴影边框*/\n            outline: none;\n            -webkit-tap-highlight-color:rgba(0,0,0,0);/*点击高亮的颜色*/\n        }\n    }\n</style>\n"]}]}