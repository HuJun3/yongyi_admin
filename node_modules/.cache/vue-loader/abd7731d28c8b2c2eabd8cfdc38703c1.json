{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/index/components/userChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/index/components/userChart.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHVzZXJBcGksIHJhbmtBcGkgfSBmcm9tICdAL2FwaS9pbmRleCcKaW1wb3J0IGVjaGFydHNGcm9tIGZyb20gJ0AvY29tcG9uZW50cy9lY2hhcnRzL2luZGV4JwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAndXNlci1jaGFydCcsCiAgICBjb21wb25lbnRzOiB7IGVjaGFydHNGcm9tIH0sCiAgICBkYXRhICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsaW5lOiAnbGluZScsCiAgICAgICAgICAgIGNpcmNsZTogJ2NpcmNsZScsCiAgICAgICAgICAgIGluZm9MaXN0OiB7fSwKICAgICAgICAgICAgc2VyaWVzOiBbXSwKICAgICAgICAgICAgeERhdGE6IFtdLAogICAgICAgICAgICB5MURhdGE6IFtdLAogICAgICAgICAgICB5MkRhdGE6IFtdLAogICAgICAgICAgICBsaXN0czogW10sCiAgICAgICAgICAgIGJpbmdfZGF0YTogW10sCiAgICAgICAgICAgIGJpbmdfeGRhdGE6IFtdCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvLyDnu5/orqEKICAgICAgICBnZXRTdGF0aXN0aWNzICgpIHsKICAgICAgICAgICAgdXNlckFwaSgpLnRoZW4oYXN5bmMgcmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuaW5mb0xpc3QgPSByZXMuZGF0YQogICAgICAgICAgICAgICAgdGhpcy5zZXJpZXMgPSBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXMuZGF0YS5zZXJpZXMsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICfkurrmlbDvvIjkurrvvIknLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHNtb290aDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sOiAnbm9uZScsCiAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFTdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4yCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB0aGlzLmJpbmdfZGF0YSA9IHJlcy5iaW5nX2RhdGEKICAgICAgICAgICAgICAgIHRoaXMuYmluZ194ZGF0YSA9IHJlcy5iaW5nX3hkYXRhCiAgICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBnZXRSYW5rICgpIHsKICAgICAgICAgICAgcmFua0FwaSgpLnRoZW4oYXN5bmMgcmVzID0+IHsKICAgICAgICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGEKICAgICAgICAgICAgICAgIHRoaXMubGlzdHMgPSBkYXRhLmxpc3QKICAgICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZykKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOebkeWQrOmhtemdouWuveW6puWPmOWMlu+8jOWIt+aWsOihqOagvAogICAgICAgIGhhbmRsZVJlc2l6ZSAoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmluZm9MaXN0ICYmIHRoaXMuc2VyaWVzLmxlbmd0aCAhPT0gMCkgdGhpcy4kcmVmcy51c2VyQ2hhcnQuaGFuZGxlUmVzaXplKCkKICAgICAgICAgICAgaWYgKHRoaXMuaW5mb0xpc3QpIHRoaXMuJHJlZnMudmlzaXRDaGFydC5oYW5kbGVSZXNpemUoKQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkICgpIHsKICAgICAgICB0aGlzLmdldFN0YXRpc3RpY3MoKQogICAgICAgIHRoaXMuZ2V0UmFuaygpCiAgICB9LAogICAgYmVmb3JlRGVzdHJveSAoKSB7CiAgICAgICAgaWYgKHRoaXMudmlzaXRDaGFydCkgewogICAgICAgICAgICB0aGlzLnZpc2l0Q2hhcnQuZGlzcG9zZSgpCiAgICAgICAgICAgIHRoaXMudmlzaXRDaGFydCA9IG51bGwKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["userChart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"userChart.vue","sourceRoot":"src/pages/index/components","sourcesContent":["<template>\n    <div @resize=\"handleResize\">\n        <Row :gutter=\"24\">\n            <Col :xl=\"16\" :lg=\"12\" :md=\"24\" :sm=\"24\" :xs=\"24\" class=\"ivu-mb dashboard-console-visit\">\n                <Card :bordered=\"false\" dis-hover>\n                    <div slot=\"title\">\n                        <Avatar icon=\"ios-pulse\" size=\"small\" style=\"color: #1890ff;background-color: #e6f7ff\"/>\n                        <span class=\"ivu-pl-8\">用户</span>\n                    </div>\n                    <echarts-from ref=\"userChart\" :echartsTitle=\"line\" :infoList=\"infoList\" :series=\"series\" v-if=\"infoList&&series.length!==0\"></echarts-from>\n                </Card>\n            </Col>\n            <Col :xl=\"8\" :lg=\"12\" :md=\"24\" :sm=\"24\" :xs=\"24\">\n                <Card :bordered=\"false\" dis-hover class=\"dashboard-console-visit\">\n                    <div slot=\"title\">\n                        <Avatar icon=\"ios-analytics\" size=\"small\" style=\"color: #1890ff;background-color: #e6f7ff\" />\n                        <span class=\"ivu-pl-8\">购买用户统计</span>\n                    </div>\n                    <echarts-from ref=\"visitChart\" :infoList=\"infoList\" :echartsTitle=\"circle\"></echarts-from>\n                </Card>\n            </Col>\n        </Row>\n    </div>\n</template>\n\n<script>\n    import { userApi, rankApi } from '@/api/index'\n    import echartsFrom from '@/components/echarts/index'\n    export default {\n        name: 'user-chart',\n        components: { echartsFrom },\n        data () {\n            return {\n                line: 'line',\n                circle: 'circle',\n                infoList: {},\n                series: [],\n                xData: [],\n                y1Data: [],\n                y2Data: [],\n                lists: [],\n                bing_data: [],\n                bing_xdata: []\n            }\n        },\n        methods: {\n            // 统计\n            getStatistics () {\n                userApi().then(async res => {\n                    this.infoList = res.data\n                    this.series = [\n                        {\n                            data: res.data.series,\n                            name: '人数（人）',\n                            type: 'line',\n                            tooltip: true,\n                            smooth: true,\n                            symbol: 'none',\n                            areaStyle: {\n                                normal: {\n                                    opacity: 0.2\n                                }\n                            }\n                        }\n                    ]\n                    this.bing_data = res.bing_data\n                    this.bing_xdata = res.bing_xdata\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            getRank () {\n                rankApi().then(async res => {\n                    let data = res.data\n                    this.lists = data.list\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 监听页面宽度变化，刷新表格\n            handleResize () {\n                if (this.infoList && this.series.length !== 0) this.$refs.userChart.handleResize()\n                if (this.infoList) this.$refs.visitChart.handleResize()\n            }\n        },\n        mounted () {\n            this.getStatistics()\n            this.getRank()\n        },\n        beforeDestroy () {\n            if (this.visitChart) {\n                this.visitChart.dispose()\n                this.visitChart = null\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    .dashboard-console-visit{\n        ul{\n            li{\n                list-style-type: none;\n                margin-top: 12px;\n            }\n        }\n    }\n    .trees-coadd{\n        width: 100%;\n        height: 100%;\n        .scollhide{\n            width: 100%;\n            height: 100%;\n            overflow-x: hidden;\n            overflow-y: scroll;\n        }\n    }\n    .scollhide::-webkit-scrollbar {\n        display: none;\n    }\n    .names{\n        display: inline-block;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n        width: 84%;\n        margin-bottom: -7px;\n    }\n</style>\n"]}]}