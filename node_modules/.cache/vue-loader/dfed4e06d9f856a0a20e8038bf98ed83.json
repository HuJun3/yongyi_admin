{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/setting/user/index.vue?vue&type=style&index=0&id=4c78f5b1&scoped=true&lang=css&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/setting/user/index.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5pbnB1dHt3aWR0aDo3NSU7fQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA","file":"index.vue","sourceRoot":"src/pages/setting/user","sourcesContent":["<template>\n    <div>\n        <div class=\"i-layout-page-header\">\n          <div class=\"i-layout-page-header\">\n            <span class=\"ivu-page-header-title\">{{$route.meta.title}}</span>\n          </div>\n        </div>\n        <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n            <Form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"120\"  label-position=\"right\">\n                <FormItem label=\"账号\" prop=\"\">\n                    <Input type=\"text\" v-model=\"account\" :disabled=\"true\" class=\"input\"></Input>\n                </FormItem>\n                <FormItem label=\"姓名\" prop=\"real_name\">\n                    <Input type=\"text\" v-model=\"formValidate.real_name\" class=\"input\"></Input>\n                </FormItem>\n                <FormItem label=\"原始密码\" prop=\"pwd\">\n                    <Input type=\"password\" v-model=\"formValidate.pwd\" class=\"input\"></Input>\n                </FormItem>\n                <FormItem label=\"新密码\" prop=\"new_pwd\">\n                    <Input type=\"password\" v-model=\"formValidate.new_pwd\"  class=\"input\"></Input>\n                </FormItem>\n                <FormItem label=\"确认新密码\" prop=\"conf_pwd\">\n                    <Input type=\"password\" v-model=\"formValidate.conf_pwd\" class=\"input\"></Input>\n                </FormItem>\n                <FormItem>\n                    <Button type=\"primary\" @click=\"handleSubmit('formValidate')\">提交</Button>\n                </FormItem>\n            </Form>\n        </Card>\n    </div>\n</template>\n\n<script>\n    import { updtaeAdmin } from '@/api/user'\n    import { mapState } from 'vuex'\n    export default {\n        name: 'setting_user',\n        computed: {\n            ...mapState('media', [\n                'isMobile'\n            ]),\n            ...mapState('userLevel', [\n                'categoryId'\n            ]),\n            labelWidth () {\n                return this.isMobile ? undefined : 75\n            },\n            labelPosition () {\n                return this.isMobile ? 'top' : 'left'\n            }\n        },\n        data () {\n            return {\n                account: '',\n                formValidate: {\n                    real_name: '',\n                    pwd: '',\n                    new_pwd: '',\n                    conf_pwd: ''\n                },\n                ruleValidate: {\n                    real_name: [\n                        { required: true, message: '您的姓名不能为空', trigger: 'blur' }\n                    ],\n                    pwd: [\n                        { required: true, message: '请输入您的原始密码', trigger: 'blur' }\n                    ],\n                    new_pwd: [\n                        { required: true, message: '请输入您的新密码', trigger: 'blur' }\n                    ],\n                    conf_pwd: [\n                        { required: true, message: '请确认您的新密码', trigger: 'blur' }\n                    ]\n                }\n            }\n        },\n        mounted () {\n            this.account = this.$store.state.userInfo.userInfo.account\n        },\n        methods: {\n            handleSubmit (name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        updtaeAdmin(this.formValidate).then(res => {\n                            this.$Message.success(res.msg)\n                        }).catch(res => {\n                            this.$Message.error(res.msg)\n                        })\n                    } else {\n                        if (this.formValidate.new_pwd !== this.formValidate.conf_pwd) {\n                            this.$Message.error('您输入的新密码与旧密码不一致')\n                        }\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .input{width:75%;}\n</style>\n"]}]}