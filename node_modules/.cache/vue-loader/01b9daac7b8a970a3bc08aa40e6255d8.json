{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/kefu/mobile/user/userLabel.vue?vue&type=style&index=0&id=36090750&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/kefu/mobile/user/userLabel.vue","mtime":1610680940000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmxhYmVsLXdyYXBwZXIKICAgIGhlaWdodCA5cmVtCiAgICBvdmVyZmxvdzogc2Nyb2xsOwogICAgLmxpc3QKICAgICAgICBkaXNwbGF5IGZsZXgKICAgICAgICBmbGV4LXdyYXAgd3JhcAogICAgICAgIC5sYWJlbC1pdGVtCiAgICAgICAgICAgIG1hcmdpbjogMC4ycmVtIDAuM3JlbSAwLjFyZW0gMDsKICAgICAgICAgICAgcGFkZGluZzogMCAwLjJyZW07CiAgICAgICAgICAgIGJhY2tncm91bmQgI0VFRUVFRQogICAgICAgICAgICBjb2xvciAjMjgyODI4CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXMgNnB4CiAgICAgICAgICAgIGN1cnNvciBwb2ludGVyCiAgICAgICAgICAgIGZvbnQtc2l6ZSAwLjI4cmVtCiAgICAgICAgICAgIGhlaWdodCAwLjU2cmVtCiAgICAgICAgICAgIGxpbmUtaGVpZ2h0IDAuNTZyZW0KICAgICAgICAgICAgJi5vbgogICAgICAgICAgICAgICAgY29sb3IgI2ZmZgogICAgICAgICAgICAgICAgYmFja2dyb3VuZCAjMzg3NUVBCi5mb290ZXIKICAgIG1hcmdpbi10b3A6IDAuMjVyZW07Ci5idG4KICAgIHdpZHRoIDEwMCUKICAgIGhlaWdodCAwLjc2cmVtCiAgICBib3JkZXItcmFkaXVzOiA0M3B4OwogICAgYmFja2dyb3VuZCAjMzg3NUVBCi50aXRsZQogICAgZm9udC1zaXplIDAuMzJyZW0KICAgIGNvbG9yICMyODI4MjgKCg=="},{"version":3,"sources":["userLabel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"userLabel.vue","sourceRoot":"src/pages/kefu/mobile/user","sourcesContent":["<template>\n    <div>\n        <div class=\"labelChange\" :class=\"change === true ? 'on' : ''\">\n            <div class=\"priceTitle cor32\">\n                用户标签\n                <span class=\"iconfontYI icon-guanbi\" @click=\"close\"></span>\n            </div>\n            <div class=\"label-wrapper\">\n                <div class=\"label-box\" v-for=\"(item,index) in labelList\" :key=\"index\">\n                    <div class=\"title\">{{item.name}}</div>\n                    <div class=\"list\">\n                        <div class=\"label-item\" :class=\"{on:label.disabled}\" v-for=\"(label,j) in item.label\" :key=\"j\" @click=\"selectLabel(label)\">{{label.label_name}}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"footer\">\n                <Button type=\"primary\" class=\"btn\" @click=\"subBtn\">确定</Button>\n            </div>\n        </div>\n        <div class=\"maskModel\" @touchmove.prevent v-show=\"change === true\"></div>\n    </div>\n</template>\n\n<script>\n    import { userLabel,userLabelPut } from '@/api/kefu'\n    export default {\n        name: \"userLaber\",\n        props: {\n            change: Boolean,\n            uid: Number,\n            labelList: {\n                type: Array,\n                default: ()=> []\n            }\n        },\n        data() {\n            return {\n              //  labelList:[],\n                activeIds:[]\n            }\n        },\n        watch: {\n            labelList: function (data) {\n                data.map(el=>{\n                    el.label.map(label=>{\n                        if(label.disabled){\n                            this.activeIds.push(label.id)\n                        }\n                    })\n                })\n            }\n        },\n        methods: {\n            selectLabel(label){\n                if(label.disabled){\n                    let index = this.activeIds.indexOf(label.id)\n                    this.activeIds.splice(index,1)\n                    label.disabled = false\n                }else{\n                    this.activeIds.push(label.id)\n                    label.disabled = true\n                }\n            },\n            // 确定\n            subBtn(){\n                let unLaberids = [];\n                this.labelList.map(item=>{\n                    item.label.map( i => {\n                        if(i.disabled == false){\n                            unLaberids.push(i.id);\n                        }\n                    });\n                });\n                userLabelPut(this.uid,{\n                    label_ids: this.activeIds,\n                    un_label_ids: unLaberids\n                }).then(res=>{\n                    this.$Message.success(res.msg)\n                    this.$emit('editLabel', false)\n                }).catch(error=>{\n                    this.$Message.error(error.msg)\n                })\n            },\n            close: function () {\n                this.$emit(\"closeChange\", false);\n            },\n        }\n    }\n</script>\n<style lang=\"stylus\" scoped>\n    .label-wrapper\n        height 9rem\n        overflow: scroll;\n        .list\n            display flex\n            flex-wrap wrap\n            .label-item\n                margin: 0.2rem 0.3rem 0.1rem 0;\n                padding: 0 0.2rem;\n                background #EEEEEE\n                color #282828\n                border-radius 6px\n                cursor pointer\n                font-size 0.28rem\n                height 0.56rem\n                line-height 0.56rem\n                &.on\n                    color #fff\n                    background #3875EA\n    .footer\n        margin-top: 0.25rem;\n    .btn\n        width 100%\n        height 0.76rem\n        border-radius: 43px;\n        background #3875EA\n    .title\n        font-size 0.32rem\n        color #282828\n\n</style>\n<style scoped lang=\"less\">\n    .label{\n        &-title{\n            margin-bottom: 0.25rem;\n        }\n    }\n    .priceTitle{\n        position: relative;\n        text-align: center;\n        .iconfontYI{\n            position: absolute;\n            font-size: 0.2rem;\n            right: 0.13rem;\n            top: 0.11rem;\n            width: 0.2rem;\n            height: 0.2rem;\n            line-height: 0.2rem;\n        }\n    }\n    .labelCheck{\n        /deep/.ivu-checkbox {\n            display: none !important;\n        }\n        /deep/.ivu-checkbox-wrapper-checked.ivu-checkbox-border{\n            background: #3875EA;\n            color: #fff;\n        }\n    }\n    .labelChange{\n        padding: 0.3rem;\n        position: fixed;\n        width: 90%;\n        height: 11.1rem;\n        background-color: #fff;\n        border-radius: 0.1rem;\n        top: 50%;\n        left: 50%;\n        margin-left: -3.4rem;\n        margin-top: -5.6rem;\n        z-index: 99;\n        transition:all 0.3s ease-in-out 0s;\n        -webkit-transition:all 0.3s ease-in-out 0s;\n        -o-transition:all 0.3s ease-in-out 0s;\n        -moz-transition:all 0.3s ease-in-out 0s;\n        -webkit-transform:scale(0);\n        -o-transform:scale(0);\n        -moz-transform:scale(0);\n        -ms-transform:scale(0);\n        transform: scale(0);opacity:0;\n    }\n    .cor32{\n        font-size: 0.32rem;\n        color: #282828;\n    }\n    .mb80{\n        margin-bottom: 0.5rem;\n    }\n    .on{\n        opacity:1;\n        transform: scale(1);\n        -webkit-transform:scale(1);\n        -o-transform:scale(1);\n        -moz-transform:scale(1);\n        -ms-transform:scale(1);\n    }\n\n</style>"]}]}