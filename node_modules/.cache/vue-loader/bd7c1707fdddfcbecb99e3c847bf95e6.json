{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/components/diyComponents/c_tab_bar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/components/diyComponents/c_tab_bar.vue","mtime":1610681278000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB2dWVkcmFnZ2FibGUgZnJvbSAndnVlZHJhZ2dhYmxlJwppbXBvcnQgdXBsb2FkUGljdHVyZXMgZnJvbSAnQC9jb21wb25lbnRzL3VwbG9hZFBpY3R1cmVzJzsKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ2NfdGFiX2JhcicsCiAgICBwcm9wczogewogICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nCiAgICAgICAgfSwKICAgICAgICBjb25maWdEYXRhOnsKICAgICAgICAgICAgdHlwZTpudWxsCiAgICAgICAgfQogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICB1cGxvYWRQaWN0dXJlcywKICAgICAgICBkcmFnZ2FibGU6IHZ1ZWRyYWdnYWJsZQogICAgfSwKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG1vZGFsUGljOiBmYWxzZSwKICAgICAgICAgICAgaXNDaG9pY2U6ICfljZXpgIknLAogICAgICAgICAgICBncmlkQnRuOiB7CiAgICAgICAgICAgICAgICB4bDogNCwKICAgICAgICAgICAgICAgIGxnOiA4LAogICAgICAgICAgICAgICAgbWQ6IDgsCiAgICAgICAgICAgICAgICBzbTogOCwKICAgICAgICAgICAgICAgIHhzOiA4CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdyaWRQaWM6IHsKICAgICAgICAgICAgICAgIHhsOiA2LAogICAgICAgICAgICAgICAgbGc6IDgsCiAgICAgICAgICAgICAgICBtZDogMTIsCiAgICAgICAgICAgICAgICBzbTogMTIsCiAgICAgICAgICAgICAgICB4czogMTIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYWN0aXZlSW5kZXg6IDAsCiAgICAgICAgICAgIGlzU2VsZWN0OjAsCiAgICAgICAgICAgIGRhdGFzOiB0aGlzLmNvbmZpZ0RhdGEsCiAgICAgICAgICAgIGxhc3RPYmo6e30KICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCAoKSB7fSwKICAgIHdhdGNoOiB7CiAgICAgICAgY29uZmlnRGF0YTogewogICAgICAgICAgICBoYW5kbGVyIChuVmFsLCBvVmFsKSB7CiAgICAgICAgICAgICAgICB0aGlzLmRhdGFzID0gblZhbAogICAgICAgICAgICB9LAogICAgICAgICAgICBkZWVwOiB0cnVlCiAgICAgICAgfSwKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLy8g5re75Yqg5qih5Z2XCiAgICAgICAgYWRkTWVudSgpewogICAgICAgICAgICBpZiAodGhpcy5jb25maWdEYXRhW3RoaXMubmFtZV0ubGlzdC5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgdGhpcy5jb25maWdEYXRhW3RoaXMubmFtZV0ubGlzdC5wdXNoKHRoaXMubGFzdE9iaikKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBvYmogPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY29uZmlnRGF0YVt0aGlzLm5hbWVdLmxpc3RbdGhpcy5jb25maWdEYXRhW3RoaXMubmFtZV0ubGlzdC5sZW5ndGggLSAxXSkpOwogICAgICAgICAgICAgICAgdGhpcy5jb25maWdEYXRhW3RoaXMubmFtZV0ubGlzdC5wdXNoKG9iaikKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZGVsZXRlTWVudShpbmRleCl7CiAgICAgICAgICAgIHRoaXMuJE1vZGFsLmNvbmZpcm0oewogICAgICAgICAgICAgICAgdGl0bGU6ICfmj5DnpLonLAogICAgICAgICAgICAgICAgY29udGVudDogJ+aYr+WQpuehruWumuWIoOmZpOivpeiPnOWNlScsCiAgICAgICAgICAgICAgICBvbk9rOiAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnRGF0YVt0aGlzLm5hbWVdLmxpc3QubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0T2JqID0gdGhpcy5jb25maWdEYXRhW3RoaXMubmFtZV0ubGlzdFswXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ0RhdGFbdGhpcy5uYW1lXS5saXN0LnNwbGljZShpbmRleCwxKQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9uQ2FuY2VsOiAoKSA9PiB7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICB9LAogICAgICAgIC8vIOeCueWHu+WbvuaWh+WwgemdogogICAgICAgIG1vZGFsUGljVGFwKHRpdGxlLCBpbmRleCwgc2VsZWN0KSB7CiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleDsKICAgICAgICAgICAgdGhpcy5tb2RhbFBpYyA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuaXNTZWxlY3QgPSBzZWxlY3Q7CiAgICAgICAgfSwKICAgICAgICAvLyDojrflj5blm77niYfkv6Hmga8KICAgICAgICBnZXRQaWMocGMpIHsKICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5jb25maWdEYXRhW3RoaXMubmFtZV0ubGlzdFt0aGlzLmFjdGl2ZUluZGV4XS5pbWdMaXN0W3RoaXMuaXNTZWxlY3RdID0gcGMuYXR0X2RpcjsKICAgICAgICAgICAgICAgIHRoaXMubW9kYWxQaWMgPSBmYWxzZTsKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["c_tab_bar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"c_tab_bar.vue","sourceRoot":"src/components/diyComponents","sourcesContent":["<template>\n    <div class=\"tabBars\">\n        <div class=\"title\">{{datas[name].title}}</div>\n        <draggable\n                class=\"dragArea list-group\"\n                :list=\"datas[name].list\"\n                group=\"peoples\"\n                handle=\".iconfont\"\n        >\n            <div class=\"box-item\" v-for=\"(item,index) in datas[name].list\" :key=\"index\">\n                <div class=\"left-tool\">\n                    <span class=\"iconfont icondrag2\"></span>\n                </div>\n                <div class=\"right-wrapper\">\n                    <div class=\"img-wrapper\">\n                        <div class=\"img-item\" v-for=\"(img,j) in item.imgList\" @click=\"modalPicTap('单选',index,j)\">\n                            <img :src=\"img\" alt=\"\" v-if=\"img\">\n                            <p class=\"txt\" v-if=\"img\">{{j==0?'选中':'未选中'}}</p>\n                            <div class=\"empty-img\" v-else>\n                                <span class=\"iconfont iconjiahao\"></span>\n                                <p>{{j==0?'选中':'未选中'}}</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"c_row-item\">\n                        <Col class=\"label\" span=\"4\">\n                            名称\n                        </Col>\n                        <Col span=\"19\" class=\"slider-box\">\n                            <Input v-model=\"item.name\" placeholder=\"选填不超过10个字\"  />\n                        </Col>\n                    </div>\n                    <div class=\"c_row-item\">\n                        <Col class=\"label\" span=\"4\">\n                            链接\n                        </Col>\n                        <Col span=\"19\" class=\"slider-box\">\n                            <Input v-model=\"item.link\" placeholder=\"选填不超过10个字\" />\n                        </Col>\n                    </div>\n                </div>\n                <div class=\"del-box\" @click=\"deleteMenu(index)\">\n                    <span class=\"iconfont iconcha\"></span>\n                </div>\n            </div>\n        </draggable>\n        <div class=\"add-btn\" v-if=\"datas[name].list.length<5\">\n            <Button type=\"primary\" ghost style=\"width: 100%; height: 40px; border-color:#1890FF; color: #1890FF;\"\n                    @click=\"addMenu\">添加图文导航\n            </Button>\n        </div>\n        <div>\n            <Modal v-model=\"modalPic\" width=\"950px\" scrollable footer-hide closable title='上传商品图'\n                   :mask-closable=\"false\" :z-index=\"888\">\n                <uploadPictures :isChoice=\"isChoice\" @getPic=\"getPic\" :gridBtn=\"gridBtn\" :gridPic=\"gridPic\"\n                                v-if=\"modalPic\"></uploadPictures>\n            </Modal>\n        </div>\n    </div>\n</template>\n\n<script>\n    import vuedraggable from 'vuedraggable'\n    import uploadPictures from '@/components/uploadPictures';\n    export default {\n        name: 'c_tab_bar',\n        props: {\n            name: {\n                type: String\n            },\n            configData:{\n                type:null\n            }\n        },\n        components: {\n            uploadPictures,\n            draggable: vuedraggable\n        },\n        data () {\n            return {\n                modalPic: false,\n                isChoice: '单选',\n                gridBtn: {\n                    xl: 4,\n                    lg: 8,\n                    md: 8,\n                    sm: 8,\n                    xs: 8\n                },\n                gridPic: {\n                    xl: 6,\n                    lg: 8,\n                    md: 12,\n                    sm: 12,\n                    xs: 12\n                },\n                activeIndex: 0,\n                isSelect:0,\n                datas: this.configData,\n                lastObj:{}\n            }\n        },\n        mounted () {},\n        watch: {\n            configData: {\n                handler (nVal, oVal) {\n                    this.datas = nVal\n                },\n                deep: true\n            },\n        },\n        methods: {\n            // 添加模块\n            addMenu(){\n                if (this.configData[this.name].list.length == 0) {\n                    this.configData[this.name].list.push(this.lastObj)\n                } else {\n                    let obj = JSON.parse(JSON.stringify(this.configData[this.name].list[this.configData[this.name].list.length - 1]));\n                    this.configData[this.name].list.push(obj)\n                }\n            },\n            deleteMenu(index){\n                this.$Modal.confirm({\n                    title: '提示',\n                    content: '是否确定删除该菜单',\n                    onOk: () => {\n                        if (this.configData[this.name].list.length == 1) {\n                            this.lastObj = this.configData[this.name].list[0]\n                        }\n                        this.configData[this.name].list.splice(index,1)\n                    },\n                    onCancel: () => {\n                    }\n                });\n\n            },\n            // 点击图文封面\n            modalPicTap(title, index, select) {\n                this.activeIndex = index;\n                this.modalPic = true;\n                this.isSelect = select;\n            },\n            // 获取图片信息\n            getPic(pc) {\n                this.$nextTick(() => {\n                    this.configData[this.name].list[this.activeIndex].imgList[this.isSelect] = pc.att_dir;\n                    this.modalPic = false;\n                })\n            }\n        }\n    }\n</script>\n<style scoped lang=\"stylus\">\n    .tabBars .box-item:last-child{\n        margin-bottom 20px;\n    }\n    .tabBars\n           .title\n                margin-bottom: 10px;\n                padding-bottom 10px\n                border-bottom:1px solid rgba(0,0,0,0.05);\n                font-size:12px;\n                color:#999;\n           .box-item\n                position relative\n                display flex\n                margin-top 15px\n                padding 20px 30px 20px 0\n                border 1px solid #DDDDDD;\n                border-radius 3px;\n                .del-box\n                    position absolute\n                    right -13px\n                    top -18px\n                    cursor pointer\n                    .iconfont\n                        color #999\n                        font-size 30px\n                .left-tool\n                    display flex\n                    align-items center\n                    justify-content center\n                    width 72px\n                    .iconfont\n                        color #999\n                        font-size 36px\n                        cursor move\n                .right-wrapper\n                    flex 1\n                    .img-wrapper\n                        display flex\n                        .img-item\n                            position relative\n                            width 80px\n                            height 80px\n                            margin-right 20px\n                            cursor pointer\n                            img\n                                display block\n                                width 100%\n                                height 100%\n                            .empty-img\n                                display flex\n                                align-items center\n                                justify-content center\n                                flex-direction column\n                                width 100%\n                                height 100%\n                                background #f7f7f7\n                                font-size 12px\n                                color #BFBFBF\n                                .iconfont\n                                    font-size 16px\n                            .txt\n                                position absolute\n                                left 0\n                                bottom 0\n                                width 100%\n                                height 22px\n                                line-height 22px\n                                text-align center\n                                background: rgba(0, 0, 0, 0.4)\n                                color #fff\n                                font-size 12px\n                    .c_row-item\n                        margin-top 10px\n           .add-btn\n                margin-bottom 20px\n                width 100%\n                height 40px\n</style>\n"]}]}