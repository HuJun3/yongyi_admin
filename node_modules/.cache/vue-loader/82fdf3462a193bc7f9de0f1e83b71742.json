{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/components/diyComponents/c_goods.vue?vue&type=style&index=0&id=6c54e856&scoped=true&lang=stylus&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/components/diyComponents/c_goods.vue","mtime":1610681260000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmdvb2RzLWJveAogICAgcGFkZGluZyAxNnB4IDAKICAgIG1hcmdpbi1ib3R0b20gMTZweAogICAgYm9yZGVyLXRvcCAxcHggc29saWQgcmdiYSgwLDAsMCwwLjA1KQogICAgYm9yZGVyLWJvdHRvbSAxcHggc29saWQgcmdiYSgwLDAsMCwwLjA1KQogICAgLndyYXBwZXIsLmxpc3QtZ3JvdXAKICAgICAgICBkaXNwbGF5IGZsZXgKICAgICAgICBmbGV4LXdyYXAgd3JhcAogICAgLmFkZC1pdGVtCiAgICAgICAgZGlzcGxheSBmbGV4CiAgICAgICAgYWxpZ24taXRlbXMgY2VudGVyCiAgICAgICAganVzdGlmeS1jb250ZW50IGNlbnRlcgogICAgICAgIHdpZHRoIDgwcHgKICAgICAgICBoZWlnaHQgODBweAogICAgICAgIG1hcmdpbi1ib3R0b20gMTBweAogICAgICAgIGJhY2tncm91bmQgI0Y3RjdGNwogICAgICAgIC5pY29uZm9udAogICAgICAgICAgICBmb250LXNpemUgMThweAogICAgICAgICAgICBjb2xvciAjRDhEOEQ4CiAgICAuaXRlbQogICAgICAgIHBvc2l0aW9uIHJlbGF0aXZlCiAgICAgICAgd2lkdGggODBweAogICAgICAgIGhlaWdodCA4MHB4CiAgICAgICAgbWFyZ2luLWJvdHRvbSAyMHB4CiAgICAgICAgbWFyZ2luLXJpZ2h0IDEycHgKICAgICAgICAmOm50aC1jaGlsZCg0bikKICAgICAgICAgICBtYXJnaW4tcmlnaHQgMAogICAgICAgIGltZwogICAgICAgICAgICB3aWR0aCAxMDAlCiAgICAgICAgICAgIGhlaWdodCAxMDAlCiAgICAgICAgLmljb25kZWxfMQogICAgICAgICAgICBwb3NpdGlvbiBhYnNvbHV0ZQogICAgICAgICAgICByaWdodCAtMTBweAogICAgICAgICAgICB0b3AgLTE2cHgKICAgICAgICAgICAgY29sb3IgIzk5OTk5OQogICAgICAgICAgICBmb250LXNpemUgMjhweAogICAgICAgICAgICBjdXJzb3IgcG9pbnRlcgo="},{"version":3,"sources":["c_goods.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"c_goods.vue","sourceRoot":"src/components/diyComponents","sourcesContent":["<template>\n    <div class=\"goods-box\" v-if=\"defaults.goodsList\">\n        <div class=\"wrapper\">\n            <draggable\n                    class=\"dragArea list-group\"\n                    :list=\"defaults.goodsList.list\"\n                    group=\"peoples\"\n            >\n                <div class=\"item\" v-for=\"(goods,index) in defaults.goodsList.list\" :key=\"index\" v-if=\"defaults.goodsList.list.length\">\n                    <img :src=\"type?goods.pic:goods.image\" alt=\"\">\n                    <span class=\"iconfont icondel_1\" @click.stop=\"bindDelete(index)\"></span>\n                </div>\n                <div class=\"add-item item\" @click=\"modals = true\"><span class=\"iconfont iconaddto\"></span></div>\n            </draggable>\n\n        </div>\n\n        <Modal v-model=\"modals\" :loading=\"loading\" :title=\"type?'分类列表':'商品列表'\" class=\"paymentFooter\" scrollable width=\"900\" @on-cancel=\"cancel\" @on-ok=\"ok\">\n            <sort-list ref=\"goodslist\"  @getProductDiy=\"getProductDiy\" v-if=\"modals && type\"></sort-list>\n            <goods-list ref=\"goodslist\"  @getProductDiy=\"getProductDiy\" :ischeckbox=\"true\" :is_new=\"is_new\" :diy=\"true\" v-if=\"modals && !type\"></goods-list>\n        </Modal>\n    </div>\n</template>\n\n<script>\n    import vuedraggable from 'vuedraggable'\n    import goodsList from '@/components/goodsList'\n    import sortList from '@/components/sortList'\n    export default {\n        name: 'c_goods',\n        props: {\n            name: {\n                type: String\n            },\n            configData:{\n                type:null\n            }\n        },\n        components: {\n            goodsList,\n            sortList,\n            draggable: vuedraggable\n        },\n        watch: {\n            configData: {\n                handler (nVal, oVal) {\n                    this.defaults = nVal\n                    this.type = nVal.selectConfig?(nVal.selectConfig.type?nVal.selectConfig.type:''):''\n                    // this.type = nVal.selectConfig.type?nVal.selectConfig.type:''\n                },\n                immediate: true,\n                deep: true\n            }\n        },\n        data () {\n            return {\n                modals: false,\n                goodsList: [],\n                tempGoods: [],\n                defaults:{},\n                type:'',\n                is_new:'',\n                loading:true\n            }\n        },\n        created () {\n            this.defaults = this.configData\n            this.is_new = this.configData.is_new\n\n        },\n        methods: {\n            getProductDiy (data) {\n                this.tempGoods = data\n                this.loading = false\n            },\n            cancel () {\n                this.tempGoods = []\n            },\n            //对象数组去重；\n            unique(arr) {\n                const res = new Map();\n                return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1))\n            },\n            ok () {\n                if(!this.tempGoods.length){\n                    return this.$Message.warning('请先选择商品');\n                }\n                let list = this.defaults.goodsList.list;\n                list.push.apply(list,this.tempGoods);\n                // list.push(this.tempGoods);\n                let picList = this.unique(list);\n                this.defaults.goodsList.list= picList;\n                // this.defaults.goodsList.list.push(this.tempGoods);\n            },\n            bindDelete (index) {\n                this.defaults.goodsList.list.splice(index, 1)\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n    .goods-box\n        padding 16px 0\n        margin-bottom 16px\n        border-top 1px solid rgba(0,0,0,0.05)\n        border-bottom 1px solid rgba(0,0,0,0.05)\n        .wrapper,.list-group\n            display flex\n            flex-wrap wrap\n        .add-item\n            display flex\n            align-items center\n            justify-content center\n            width 80px\n            height 80px\n            margin-bottom 10px\n            background #F7F7F7\n            .iconfont\n                font-size 18px\n                color #D8D8D8\n        .item\n            position relative\n            width 80px\n            height 80px\n            margin-bottom 20px\n            margin-right 12px\n            &:nth-child(4n)\n               margin-right 0\n            img\n                width 100%\n                height 100%\n            .icondel_1\n                position absolute\n                right -10px\n                top -16px\n                color #999999\n                font-size 28px\n                cursor pointer\n</style>\n\n"]}]}