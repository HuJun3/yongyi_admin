{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/components/main/components/user/user.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/components/main/components/user/user.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAnLi91c2VyLmxlc3MnCmltcG9ydCB7IEFjY291bnRMb2dvdXQgfSBmcm9tICdAL2FwaS9hY2NvdW50JwppbXBvcnQgeyByZW1vdmVDb29raWVzIH0gZnJvbSAnQC9saWJzL3V0aWwnCmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnaXZpZXcnCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdVc2VyJywKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGluZm86ICcnCiAgICAgICAgfQogICAgfSwKICAgIHByb3BzOiB7CiAgICAgICAgdXNlckF2YXRhcjogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICcnCiAgICAgICAgfSwKICAgICAgICBtZXNzYWdlVW5yZWFkQ291bnQ6IHsKICAgICAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgICAgICBkZWZhdWx0OiAwCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQgKCkgewogICAgICAgIHRoaXMuaW5mbyA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJJbmZvCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGxvZ291dCAoKSB7CiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpcwogICAgICAgICAgICBNb2RhbC5jb25maXJtKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn6YCA5Ye655m75b2V56Gu6K6kJywKICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfmgqjnoa7lrprpgIDlh7rlvZPliY3otKbmiLflkJfvvJ8nLAogICAgICAgICAgICAgICAgb25PayAoKSB7CiAgICAgICAgICAgICAgICAgICAgQWNjb3VudExvZ291dCgpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC4kTWVzc2FnZS5zdWNjZXNzKCfmgqjlt7LmiJDlip/pgIDlh7onKQogICAgICAgICAgICAgICAgICAgICAgICB0aGF0LiRyb3V0ZXIucmVwbGFjZSgnL2FkbWluL2xvZ2luJykKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCkKICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ29va2llcygndG9rZW4nKQogICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDb29raWVzKCdleHBpcmVzX3RpbWUnKQogICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDb29raWVzKCd1dWlkJykKICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpCiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgdXNlckNlbnRlciAoKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvYWRtaW4vc3lzdGVtL3VzZXInKQogICAgICAgIH0sCiAgICAgICAgbWVzc2FnZSAoKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICdtZXNzYWdlX3BhZ2UnCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBoYW5kbGVDbGljayAobmFtZSkgewogICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHsKICAgICAgICAgICAgY2FzZSAnbG9nb3V0JzogdGhpcy5sb2dvdXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBjYXNlICd1c2VyQ2VudGVyJzogdGhpcy51c2VyQ2VudGVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGNhc2UgJ21lc3NhZ2UnOiB0aGlzLm1lc3NhZ2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user.vue","sourceRoot":"src/components/main/components/user","sourcesContent":["<template>\n  <div class=\"user-avatar-dropdown\">\n    <Dropdown @on-click=\"handleClick\">\n      <!--<Badge :dot=\"!!messageUnreadCount\">-->\n        <!--<Avatar :src=\"avatars\"/>-->\n      <!--</Badge>-->\n      <!--<Icon :size=\"18\" type=\"md-arrow-dropdown\"></Icon>-->\n      <span>{{info.account}}</span>\n      <DropdownMenu slot=\"list\">\n        <!--<DropdownItem name=\"message\">-->\n          <!--消息中心<Badge style=\"margin-left: 10px\" :count=\"messageUnreadCount\"></Badge>-->\n        <!--</DropdownItem>-->\n        <DropdownItem name=\"userCenter\"><Icon type=\"ios-contact-outline\" class=\"iconImg\"/>个人中心</DropdownItem>\n        <DropdownItem name=\"logout\"><Icon type=\"ios-log-out\" class=\"iconImg\"/>退出登录</DropdownItem>\n      </DropdownMenu>\n    </Dropdown>\n  </div>\n</template>\n<style scoped lang=\"less\">\n  .iconImg{\n    font-size: 18px;\n    margin-right: 6px;\n    margin-bottom: 2px;\n  }\n  .user-avatar-dropdown .ivu-dropdown-item~.ivu-dropdown-item{\n    border-top:1px solid #e8eaec;\n  }\n</style>\n<script>\n    import './user.less'\n    import { AccountLogout } from '@/api/account'\n    import { removeCookies } from '@/libs/util'\n    import { Modal } from 'iview'\n    export default {\n        name: 'User',\n        data () {\n            return {\n                info: ''\n            }\n        },\n        props: {\n            userAvatar: {\n                type: String,\n                default: ''\n            },\n            messageUnreadCount: {\n                type: Number,\n                default: 0\n            }\n        },\n        mounted () {\n            this.info = this.$store.state.userInfo.userInfo\n        },\n        methods: {\n            logout () {\n                let that = this\n                Modal.confirm({\n                    title: '退出登录确认',\n                    content: '您确定退出当前账户吗？',\n                    onOk () {\n                        AccountLogout().then(res => {\n                            that.$Message.success('您已成功退出')\n                            that.$router.replace('/admin/login')\n                            localStorage.clear()\n                            removeCookies('token')\n                            removeCookies('expires_time')\n                            removeCookies('uuid')\n                            // window.location.reload()\n                        }).catch(res => {\n                        })\n                    }\n                })\n            },\n            userCenter () {\n                this.$router.push('/admin/system/user')\n            },\n            message () {\n                this.$router.push({\n                    name: 'message_page'\n                })\n            },\n            handleClick (name) {\n                switch (name) {\n                case 'logout': this.logout()\n                               break\n                case 'userCenter': this.userCenter()\n                                   break\n                case 'message': this.message()\n                                break\n                }\n            }\n        }\n    }\n</script>\n"]}]}