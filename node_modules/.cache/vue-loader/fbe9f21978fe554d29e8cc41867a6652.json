{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/components/main/main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/components/main/main.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBpQ29weXJpZ2h0IGZyb20gJ0AvY29tcG9uZW50cy9jb3B5cmlnaHQnCmltcG9ydCBTaWRlTWVudSBmcm9tICcuL2NvbXBvbmVudHMvc2lkZS1tZW51JwppbXBvcnQgSGVhZGVyQmFyIGZyb20gJy4vY29tcG9uZW50cy9oZWFkZXItYmFyJwppbXBvcnQgVGFnc05hdiBmcm9tICcuL2NvbXBvbmVudHMvdGFncy1uYXYnCmltcG9ydCBVc2VyIGZyb20gJy4vY29tcG9uZW50cy91c2VyJwppbXBvcnQgQUJhY2tUb3AgZnJvbSAnLi9jb21wb25lbnRzL2EtYmFjay10b3AnCmltcG9ydCBGdWxsc2NyZWVuIGZyb20gJy4vY29tcG9uZW50cy9mdWxsc2NyZWVuJwppbXBvcnQgTGFuZ3VhZ2UgZnJvbSAnLi9jb21wb25lbnRzL2xhbmd1YWdlJwppbXBvcnQgRXJyb3JTdG9yZSBmcm9tICcuL2NvbXBvbmVudHMvZXJyb3Itc3RvcmUnCmltcG9ydCBIZWFkZXJTZWFyY2ggZnJvbSAnLi9jb21wb25lbnRzL2hlYWRlci1zZWFyY2gnCmltcG9ydCBIZWFkZXJOb3RpY2UgZnJvbSAnLi9jb21wb25lbnRzL2hlYWRlci1ub3RpY2UnCgppbXBvcnQgU2V0dGluZyBmcm9tICdAL3NldHRpbmcnCmltcG9ydCBpVmlldyBmcm9tICdpdmlldycKaW1wb3J0IHsgbWFwTXV0YXRpb25zLCBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnCmltcG9ydCB7IGdldE5ld1RhZ0xpc3QsIHJvdXRlRXF1YWwsIGdldE1lbnVvcGVuLCBnZXRDb29raWVzLCBzZXRDb29raWVzIH0gZnJvbSAnQC9saWJzL3V0aWwnCmltcG9ydCB7IGdldExvZ28gfSBmcm9tICdAL2FwaS9jb21tb24nOwppbXBvcnQgcm91dGVycyBmcm9tICdAL3JvdXRlci9yb3V0ZXJzJwppbXBvcnQgbWluTG9nbyBmcm9tICdAL2Fzc2V0cy9pbWFnZXMvbG9nby1zbWFsbC5wbmcnCmltcG9ydCBtYXhMb2dvIGZyb20gJ0AvYXNzZXRzL2ltYWdlcy9sb2dvLnBuZycKaW1wb3J0ICcuL21haW4ubGVzcycKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ01haW4nLAogICAgY29tcG9uZW50czogewogICAgICAgIFNpZGVNZW51LAogICAgICAgIEhlYWRlckJhciwKICAgICAgICBMYW5ndWFnZSwKICAgICAgICBUYWdzTmF2LAogICAgICAgIEZ1bGxzY3JlZW4sCiAgICAgICAgRXJyb3JTdG9yZSwKICAgICAgICBVc2VyLAogICAgICAgIEFCYWNrVG9wLAogICAgICAgIGlDb3B5cmlnaHQsCiAgICAgICAgSGVhZGVyU2VhcmNoLAogICAgICAgIEhlYWRlck5vdGljZQogICAgfSwKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNvbGxhcHNlZDogSlNPTi5wYXJzZShnZXRDb29raWVzKCdjb2xsYXBzZWQnKXx8ICdmYWxzZScpLAogICAgICAgICAgICBtaW5Mb2dvLAogICAgICAgICAgICBtYXhMb2dvLAogICAgICAgICAgICBpc0Z1bGxzY3JlZW46IGZhbHNlLAogICAgICAgICAgICByZWxvYWQ6IHRydWUsCiAgICAgICAgICAgIHNjcmVlbldpZHRoOiAnJywKICAgICAgICAgICAgb3BlbkltYWdlOiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwR2V0dGVycyhbCiAgICAgICAgICAgICdlcnJvckNvdW50JwogICAgICAgIF0pLAogICAgICAgIC4uLm1hcFN0YXRlKCdtZWRpYScsIFsKICAgICAgICAgICAgJ2lzTW9iaWxlJwogICAgICAgIF0pLAogICAgICAgIHRhZ05hdkxpc3QgKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLnRhZ05hdkxpc3QKICAgICAgICB9LAogICAgICAgIHRhZ1JvdXRlciAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAudGFnUm91dGVyCiAgICAgICAgfSwKICAgICAgICB1c2VyQXZhdGFyICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuYXZhdGFySW1nUGF0aAogICAgICAgIH0sCiAgICAgICAgY2FjaGVMaXN0ICgpIHsKICAgICAgICAgICAgY29uc3QgbGlzdCA9IFsnUGFyZW50VmlldycsIC4uLnRoaXMudGFnTmF2TGlzdC5sZW5ndGggPyB0aGlzLnRhZ05hdkxpc3QuZmlsdGVyKGl0ZW0gPT4gIShpdGVtLm1ldGEgJiYgaXRlbS5tZXRhLm5vdENhY2hlKSkubWFwKGl0ZW0gPT4gaXRlbS5uYW1lKSA6IFtdXQoKICAgICAgICAgICAgcmV0dXJuIGxpc3QKICAgICAgICB9LAogICAgICAgIG1lbnVMaXN0ICgpIHsKICAgICAgICAgICAgbGV0IG1lbnVzID0gdGhpcy4kc3RvcmUuc3RhdGUubWVudXMubWVudXNOYW1lCiAgICAgICAgICAgIGxldCBuZXdBcnJheSA9IFtdCiAgICAgICAgICAgIG1lbnVzLmZvckVhY2goKG5vdywgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIG5ld0FycmF5W2luZGV4XSA9IG5vdwogICAgICAgICAgICAgICAgaWYgKG5ld0FycmF5W2luZGV4XS5jaGlsZHJlbiAmJiBub3cuY2hpbGRyZW4pIHsKICAgICAgICAgICAgICAgICAgICBuZXdBcnJheVtpbmRleF0uY2hpbGRyZW4gPSBub3cuY2hpbGRyZW4uZmlsdGVyKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhaXRlbS5hdXRoCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgcmV0dXJuIG5ld0FycmF5CiAgICAgICAgICAgIC8vIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5tZW51cy5tZW51c05hbWUKICAgICAgICB9LAogICAgICAgIGxvY2FsICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5sb2NhbAogICAgICAgIH0sCiAgICAgICAgaGFzUmVhZEVycm9yUGFnZSAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAuaGFzUmVhZEVycm9yUGFnZQogICAgICAgIH0sCiAgICAgICAgdW5yZWFkQ291bnQgKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXNlci51bnJlYWRDb3VudAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLi4ubWFwTXV0YXRpb25zKFsKICAgICAgICAgICAgJ3NldEJyZWFkQ3J1bWInLAogICAgICAgICAgICAnc2V0VGFnTmF2TGlzdCcsCiAgICAgICAgICAgICdhZGRUYWcnLAogICAgICAgICAgICAnc2V0TG9jYWwnLAogICAgICAgICAgICAnc2V0SG9tZVJvdXRlJywKICAgICAgICAgICAgJ2Nsb3NlVGFnJwogICAgICAgIF0pLAogICAgICAgIC4uLm1hcEFjdGlvbnMoWwogICAgICAgICAgICAnaGFuZGxlTG9naW4nLAogICAgICAgICAgICAnZ2V0VW5yZWFkTWVzc2FnZUNvdW50JwogICAgICAgIF0pLAogICAgICAgIHR1cm5Ub1BhZ2UgKHJvdXRlLCBhbGwpIHsKICAgICAgICAgICAgbGV0IHsgcGF0aCwgbmFtZSwgcGFyYW1zLCBxdWVyeSB9ID0ge30KICAgICAgICAgICAgaWYgKHR5cGVvZiByb3V0ZSA9PT0gJ3N0cmluZycgJiYgIWFsbCkgcGF0aCA9IHJvdXRlCiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiByb3V0ZSA9PT0gJ3N0cmluZycgJiYgYWxsKSBuYW1lID0gcm91dGUKICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBwYXRoID0gcm91dGUucGF0aAogICAgICAgICAgICAgICAgbmFtZSA9IHJvdXRlLm5hbWUKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHJvdXRlLnBhcmFtcwogICAgICAgICAgICAgICAgcXVlcnkgPSByb3V0ZS5xdWVyeQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGgsCiAgICAgICAgICAgICAgICBuYW1lLAogICAgICAgICAgICAgICAgcGFyYW1zLAogICAgICAgICAgICAgICAgcXVlcnkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGhhbmRsZUNvbGxhcHNlZENoYW5nZSAoc3RhdGUpIHsKICAgICAgICAgIHRoaXMuY29sbGFwc2VkID0gc3RhdGU7CiAgICAgICAgICBzZXRDb29raWVzKCdjb2xsYXBzZWQnLHN0YXRlKTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZUNsb3NlVGFnIChyZXMsIHR5cGUsIHJvdXRlKSB7CiAgICAgICAgICAgIGlmICh0eXBlICE9PSAnb3RoZXJzJykgewogICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdhbGwnKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50dXJuVG9QYWdlKHRoaXMuJGNvbmZpZy5ob21lTmFtZSwgJ2FsbCcpCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChyb3V0ZUVxdWFsKHRoaXMuJHJvdXRlLCByb3V0ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVRhZyhyb3V0ZSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5zZXRUYWdOYXZMaXN0KHJlcykKICAgICAgICB9LAogICAgICAgIGhhbmRsZUNsaWNrIChpdGVtKSB7CiAgICAgICAgICAgIHRoaXMudHVyblRvUGFnZShpdGVtKQogICAgICAgIH0sCiAgICAgICAgZ2V0TG9nbyAoKSB7CiAgICAgICAgICAgIGxldCBsb2dvID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8ubG9nbwogICAgICAgICAgICBsZXQgbG9nb1NtYWxsID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8ubG9nb1NtYWxsCiAgICAgICAgICAgIHRoaXMubWF4TG9nbyA9IGxvZ28gfHwgdGhpcy5tYXhMb2dvCiAgICAgICAgICAgIHRoaXMubWluTG9nbyA9IGxvZ29TbWFsbCB8fCB0aGlzLm1pbkxvZ28KICAgICAgICAgICAgZ2V0TG9nbygpLnRoZW4oIHJlcyA9PnsKICAgICAgICAgICAgICB0aGlzLm1pbkxvZ28gPSByZXMuZGF0YS5sb2dvX3NxdWFyZTsKICAgICAgICAgICAgICB0aGlzLm1heExvZ28gPSByZXMuZGF0YS5sb2dvOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlUmVsb2FkICgpIHsKICAgICAgICAgICAgdGhpcy5yZWxvYWQgPSBmYWxzZQogICAgICAgICAgICBpZiAoU2V0dGluZy5zaG93UHJvZ3Jlc3NCYXIpIGlWaWV3LkxvYWRpbmdCYXIuc3RhcnQoKQogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZCA9IHRydWUKICAgICAgICAgICAgICAgIGlmIChTZXR0aW5nLnNob3dQcm9ncmVzc0JhcikgaVZpZXcuTG9hZGluZ0Jhci5maW5pc2goKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgY2xlYXIgKCkgewogICAgICAgICAgdGhpcy5vcGVuSW1hZ2UgPSBmYWxzZTsKICAgICAgICB9LAogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgJyRyb3V0ZScgKG5ld1JvdXRlKSB7CiAgICAgICAgICAgIGxldCBvcGVuTmFtZXMgPSBnZXRNZW51b3BlbihuZXdSb3V0ZSwgdGhpcy5tZW51TGlzdCkKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtZW51cy9zZXRvcGVuTWVudXMnLCBvcGVuTmFtZXMpCiAgICAgICAgICAgIGNvbnN0IHsgbmFtZSwgcXVlcnksIHBhcmFtcywgbWV0YSB9ID0gbmV3Um91dGUKICAgICAgICAgICAgdGhpcy5hZGRUYWcoewogICAgICAgICAgICAgICAgcm91dGU6IHsgbmFtZSwgcXVlcnksIHBhcmFtcywgbWV0YSB9LAogICAgICAgICAgICAgICAgdHlwZTogJ3B1c2gnCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMuc2V0QnJlYWRDcnVtYihuZXdSb3V0ZSkKICAgICAgICAgICAgdGhpcy5zZXRUYWdOYXZMaXN0KGdldE5ld1RhZ0xpc3QodGhpcy50YWdOYXZMaXN0LCBuZXdSb3V0ZSkpCiAgICAgICAgICAgIHRoaXMuJHJlZnMuc2lkZU1lbnUudXBkYXRlT3Blbk5hbWUobmV3Um91dGUucGF0aCkKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCAoKSB7CiAgICAgICAgdGhpcy5zY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgKICAgICAgICB3aW5kb3cub25yZXNpemUgPSAoKSA9PiB7CiAgICAgICAgICAgIHJldHVybiAoKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5zY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgKICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjcmVlbldpZHRoIDw9IDEwNjApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxhcHNlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICBzZXRDb29raWVzKCdjb2xsYXBzZWQnLHRydWUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxhcHNlZCA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgc2V0Q29va2llcygnY29sbGFwc2VkJyxmYWxzZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKCkKICAgICAgICB9CgogICAgICAgIC8qKgogICAgICAgICAqIEBkZXNjcmlwdGlvbiDliJ3lp4vljJborr7nva7pnaLljIXlsZHlr7zoiKrlkozmoIfnrb7lr7zoiKoKICAgICAgICAgKi8KICAgICAgICB0aGlzLnNldFRhZ05hdkxpc3QoKQogICAgICAgIHRoaXMuc2V0SG9tZVJvdXRlKHJvdXRlcnMpCiAgICAgICAgY29uc3QgeyBuYW1lLCBwYXJhbXMsIHF1ZXJ5LCBtZXRhIH0gPSB0aGlzLiRyb3V0ZQogICAgICAgIHRoaXMuYWRkVGFnKHsKICAgICAgICAgICAgcm91dGU6IHsgbmFtZSwgcGFyYW1zLCBxdWVyeSwgbWV0YSB9CiAgICAgICAgfSkKICAgICAgICB0aGlzLnNldEJyZWFkQ3J1bWIodGhpcy4kcm91dGUpCiAgICAgICAgLy8g6K6+572u5Yid5aeL6K+t6KiACiAgICAgICAgdGhpcy5zZXRMb2NhbCh0aGlzLiRpMThuLmxvY2FsZSkKICAgICAgICAvLyDlpoLmnpzlvZPliY3miZPlvIDpobXpnaLkuI3lnKjmoIfnrb7moI/kuK3vvIzot7PliLBob21lTmFtZemhtQogICAgICAgIGlmICghdGhpcy50YWdOYXZMaXN0LmZpbmQoaXRlbSA9PiBpdGVtLm5hbWUgPT09IHRoaXMuJHJvdXRlLm5hbWUpKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuJGNvbmZpZy5ob21lTmFtZQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgICAvLyDojrflj5bmnKror7vmtojmga/mnaHmlbAKICAgICAgICB0aGlzLmdldFVucmVhZE1lc3NhZ2VDb3VudCgpCiAgICAgICAgdGhpcy5nZXRMb2dvKCkKICAgIH0KfQo="},{"version":3,"sources":["main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.vue","sourceRoot":"src/components/main","sourcesContent":["<template>\n  <Layout style=\"height: 100%\" class=\"main\">\n    <Sider hide-trigger collapsible :width=\"200\" :collapsed-width=\"isMobile?0:80\" v-model=\"collapsed\" class=\"left-sider\" :style=\"{overflow: 'hidden'}\">\n      <side-menu accordion ref=\"sideMenu\" :active-name=\"$route.path\" :collapsed=\"collapsed\" @on-select=\"turnToPage\" :menu-list=\"menuList\">\n        <!-- 需要放在菜单上面的内容，如Logo，写在side-menu标签内部，如下 -->\n        <div class=\"logo-con\">\n          <img v-show=\"!collapsed\" :src=\"maxLogo\" key=\"max-logo\" />\n          <img v-show=\"collapsed\" :src=\"minLogo\" key=\"min-logo\" />\n        </div>\n      </side-menu>\n    </Sider>\n    <Layout>\n      <Header class=\"header-con\">\n        <header-bar :collapsed=\"collapsed\" @on-coll-change=\"handleCollapsedChange\" @on-reload=\"handleReload\">\n          <user :message-unread-count=\"unreadCount\" :user-avatar=\"userAvatar\"/>\n          <language v-if=\"$config.useI18n\" @on-lang-change=\"setLocal\" style=\"margin-right: 10px;\" :lang=\"local\"/>\n          <header-notice></header-notice>\n          <fullscreen v-model=\"isFullscreen\" style=\"margin-right: 10px;\"/>\n          <error-store v-if=\"$config.plugin['error-store'] && $config.plugin['error-store'].showInHeader\" :has-read=\"hasReadErrorPage\" :count=\"errorCount\"></error-store>\n          <header-search></header-search>\n        </header-bar>\n      </Header>\n      <Content class=\"main-content-con\">\n        <Layout class=\"main-layout-con\">\n          <div class=\"tag-nav-wrapper\">\n            <tags-nav :value=\"$route\" @input=\"handleClick\" :list=\"tagNavList\" @on-close=\"handleCloseTag\"/>\n          </div>\n          <Content class=\"content-wrapper\">\n<!--            <keep-alive :include=\"cacheList\">-->\n<!--              <router-view v-if=\"reload\"/>-->\n<!--            </keep-alive>-->\n            <router-view v-if=\"reload\" style=\"min-height: 600px;\"/>\n            <!--<ABackTop :height=\"100\" :bottom=\"80\" :right=\"50\" container=\".content-wrapper\"></ABackTop>-->\n            <i-copyright />\n          </Content>\n        </Layout>\n      </Content>\n    </Layout>\n<!--    <div class=\"open-image\" @click=\"clear\" v-if=\"openImage\"><img src=\"@/assets/images/wechat_demo.png\" alt=\"\"></div>-->\n  </Layout>\n</template>\n<script>\n    import iCopyright from '@/components/copyright'\n    import SideMenu from './components/side-menu'\n    import HeaderBar from './components/header-bar'\n    import TagsNav from './components/tags-nav'\n    import User from './components/user'\n    import ABackTop from './components/a-back-top'\n    import Fullscreen from './components/fullscreen'\n    import Language from './components/language'\n    import ErrorStore from './components/error-store'\n    import HeaderSearch from './components/header-search'\n    import HeaderNotice from './components/header-notice'\n\n    import Setting from '@/setting'\n    import iView from 'iview'\n    import { mapMutations, mapActions, mapGetters, mapState } from 'vuex'\n    import { getNewTagList, routeEqual, getMenuopen, getCookies, setCookies } from '@/libs/util'\n    import { getLogo } from '@/api/common';\n    import routers from '@/router/routers'\n    import minLogo from '@/assets/images/logo-small.png'\n    import maxLogo from '@/assets/images/logo.png'\n    import './main.less'\n    export default {\n        name: 'Main',\n        components: {\n            SideMenu,\n            HeaderBar,\n            Language,\n            TagsNav,\n            Fullscreen,\n            ErrorStore,\n            User,\n            ABackTop,\n            iCopyright,\n            HeaderSearch,\n            HeaderNotice\n        },\n        data () {\n            return {\n                collapsed: JSON.parse(getCookies('collapsed')|| 'false'),\n                minLogo,\n                maxLogo,\n                isFullscreen: false,\n                reload: true,\n                screenWidth: '',\n                openImage: true\n            }\n        },\n        computed: {\n            ...mapGetters([\n                'errorCount'\n            ]),\n            ...mapState('media', [\n                'isMobile'\n            ]),\n            tagNavList () {\n                return this.$store.state.app.tagNavList\n            },\n            tagRouter () {\n                return this.$store.state.app.tagRouter\n            },\n            userAvatar () {\n                return this.$store.state.user.avatarImgPath\n            },\n            cacheList () {\n                const list = ['ParentView', ...this.tagNavList.length ? this.tagNavList.filter(item => !(item.meta && item.meta.notCache)).map(item => item.name) : []]\n\n                return list\n            },\n            menuList () {\n                let menus = this.$store.state.menus.menusName\n                let newArray = []\n                menus.forEach((now, index) => {\n                    newArray[index] = now\n                    if (newArray[index].children && now.children) {\n                        newArray[index].children = now.children.filter((item) => {\n                            return !item.auth\n                        })\n                    }\n                })\n                return newArray\n                // return this.$store.state.menus.menusName\n            },\n            local () {\n                return this.$store.state.app.local\n            },\n            hasReadErrorPage () {\n                return this.$store.state.app.hasReadErrorPage\n            },\n            unreadCount () {\n                return this.$store.state.user.unreadCount\n            }\n        },\n        methods: {\n            ...mapMutations([\n                'setBreadCrumb',\n                'setTagNavList',\n                'addTag',\n                'setLocal',\n                'setHomeRoute',\n                'closeTag'\n            ]),\n            ...mapActions([\n                'handleLogin',\n                'getUnreadMessageCount'\n            ]),\n            turnToPage (route, all) {\n                let { path, name, params, query } = {}\n                if (typeof route === 'string' && !all) path = route\n                else if (typeof route === 'string' && all) name = route\n                else {\n                    path = route.path\n                    name = route.name\n                    params = route.params\n                    query = route.query\n                }\n                this.$router.push({\n                    path,\n                    name,\n                    params,\n                    query\n                })\n            },\n            handleCollapsedChange (state) {\n              this.collapsed = state;\n              setCookies('collapsed',state);\n            },\n            handleCloseTag (res, type, route) {\n                if (type !== 'others') {\n                    if (type === 'all') {\n                        this.turnToPage(this.$config.homeName, 'all')\n                    } else {\n                        if (routeEqual(this.$route, route)) {\n                            this.closeTag(route)\n                        }\n                    }\n                }\n                this.setTagNavList(res)\n            },\n            handleClick (item) {\n                this.turnToPage(item)\n            },\n            getLogo () {\n                let logo = this.$store.state.userInfo.logo\n                let logoSmall = this.$store.state.userInfo.logoSmall\n                this.maxLogo = logo || this.maxLogo\n                this.minLogo = logoSmall || this.minLogo\n                getLogo().then( res =>{\n                  this.minLogo = res.data.logo_square;\n                  this.maxLogo = res.data.logo;\n                })\n            },\n            handleReload () {\n                this.reload = false\n                if (Setting.showProgressBar) iView.LoadingBar.start()\n                this.$nextTick(() => {\n                    this.reload = true\n                    if (Setting.showProgressBar) iView.LoadingBar.finish()\n                })\n            },\n            clear () {\n              this.openImage = false;\n            },\n        },\n        watch: {\n            '$route' (newRoute) {\n                let openNames = getMenuopen(newRoute, this.menuList)\n                this.$store.commit('menus/setopenMenus', openNames)\n                const { name, query, params, meta } = newRoute\n                this.addTag({\n                    route: { name, query, params, meta },\n                    type: 'push'\n                })\n                this.setBreadCrumb(newRoute)\n                this.setTagNavList(getNewTagList(this.tagNavList, newRoute))\n                this.$refs.sideMenu.updateOpenName(newRoute.path)\n            }\n        },\n        mounted () {\n            this.screenWidth = document.body.clientWidth\n            window.onresize = () => {\n                return (() => {\n                    this.screenWidth = document.body.clientWidth\n                    if (this.screenWidth <= 1060) {\n                        this.collapsed = true\n                        setCookies('collapsed',true);\n                    } else {\n                        this.collapsed = false\n                        setCookies('collapsed',false);\n                    }\n                })()\n            }\n\n            /**\n             * @description 初始化设置面包屑导航和标签导航\n             */\n            this.setTagNavList()\n            this.setHomeRoute(routers)\n            const { name, params, query, meta } = this.$route\n            this.addTag({\n                route: { name, params, query, meta }\n            })\n            this.setBreadCrumb(this.$route)\n            // 设置初始语言\n            this.setLocal(this.$i18n.locale)\n            // 如果当前打开页面不在标签栏中，跳到homeName页\n            if (!this.tagNavList.find(item => item.name === this.$route.name)) {\n                this.$router.push({\n                    name: this.$config.homeName\n                })\n            }\n            // 获取未读消息条数\n            this.getUnreadMessageCount()\n            this.getLogo()\n        }\n    }\n</script>\n<style lang=\"less\">\n  .main .header-con{\n    padding: 0 20px 0 0px;\n  }\n  .main .logo-con img{\n    height: 50px;\n  }\n  .main .tag-nav-wrapper{\n    background:unset;\n  }\n  .open-image{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: fixed;\n    background-color: rgba(0,0,0,0.6);\n    height: 100%;\n    width: 100%;\n    top: 0;\n    left: 0;\n    z-index: 1000;\n  }\n</style>\n"]}]}