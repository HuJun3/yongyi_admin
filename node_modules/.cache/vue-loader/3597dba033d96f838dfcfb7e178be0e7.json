{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/components/main/components/user/user.vue?vue&type=style&index=0&id=7d5a888c&scoped=true&lang=less&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/components/main/components/user/user.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/less-loader/dist/cjs.js","mtime":1625101332743},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCi5pY29uSW1newogIGZvbnQtc2l6ZTogMThweDsKICBtYXJnaW4tcmlnaHQ6IDZweDsKICBtYXJnaW4tYm90dG9tOiAycHg7Cn0KLnVzZXItYXZhdGFyLWRyb3Bkb3duIC5pdnUtZHJvcGRvd24taXRlbX4uaXZ1LWRyb3Bkb3duLWl0ZW17CiAgYm9yZGVyLXRvcDoxcHggc29saWQgI2U4ZWFlYzsKfQo="},{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user.vue","sourceRoot":"src/components/main/components/user","sourcesContent":["<template>\n  <div class=\"user-avatar-dropdown\">\n    <Dropdown @on-click=\"handleClick\">\n      <!--<Badge :dot=\"!!messageUnreadCount\">-->\n        <!--<Avatar :src=\"avatars\"/>-->\n      <!--</Badge>-->\n      <!--<Icon :size=\"18\" type=\"md-arrow-dropdown\"></Icon>-->\n      <span>{{info.account}}</span>\n      <DropdownMenu slot=\"list\">\n        <!--<DropdownItem name=\"message\">-->\n          <!--消息中心<Badge style=\"margin-left: 10px\" :count=\"messageUnreadCount\"></Badge>-->\n        <!--</DropdownItem>-->\n        <DropdownItem name=\"userCenter\"><Icon type=\"ios-contact-outline\" class=\"iconImg\"/>个人中心</DropdownItem>\n        <DropdownItem name=\"logout\"><Icon type=\"ios-log-out\" class=\"iconImg\"/>退出登录</DropdownItem>\n      </DropdownMenu>\n    </Dropdown>\n  </div>\n</template>\n<style scoped lang=\"less\">\n  .iconImg{\n    font-size: 18px;\n    margin-right: 6px;\n    margin-bottom: 2px;\n  }\n  .user-avatar-dropdown .ivu-dropdown-item~.ivu-dropdown-item{\n    border-top:1px solid #e8eaec;\n  }\n</style>\n<script>\n    import './user.less'\n    import { AccountLogout } from '@/api/account'\n    import { removeCookies } from '@/libs/util'\n    import { Modal } from 'iview'\n    export default {\n        name: 'User',\n        data () {\n            return {\n                info: ''\n            }\n        },\n        props: {\n            userAvatar: {\n                type: String,\n                default: ''\n            },\n            messageUnreadCount: {\n                type: Number,\n                default: 0\n            }\n        },\n        mounted () {\n            this.info = this.$store.state.userInfo.userInfo\n        },\n        methods: {\n            logout () {\n                let that = this\n                Modal.confirm({\n                    title: '退出登录确认',\n                    content: '您确定退出当前账户吗？',\n                    onOk () {\n                        AccountLogout().then(res => {\n                            that.$Message.success('您已成功退出')\n                            that.$router.replace('/admin/login')\n                            localStorage.clear()\n                            removeCookies('token')\n                            removeCookies('expires_time')\n                            removeCookies('uuid')\n                            // window.location.reload()\n                        }).catch(res => {\n                        })\n                    }\n                })\n            },\n            userCenter () {\n                this.$router.push('/admin/system/user')\n            },\n            message () {\n                this.$router.push({\n                    name: 'message_page'\n                })\n            },\n            handleClick (name) {\n                switch (name) {\n                case 'logout': this.logout()\n                               break\n                case 'userCenter': this.userCenter()\n                                   break\n                case 'message': this.message()\n                                break\n                }\n            }\n        }\n    }\n</script>\n"]}]}