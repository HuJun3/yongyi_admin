{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/app/wechat/user/tag.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/app/wechat/user/tag.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHdlY2hhdFRhZ0xpc3RBcGksIHdlY2hhdFRhZ0NyZWF0ZUFwaSwgd2VjaGF0VGFnRWRpdEFwaSwgd2VjaGF0R3JvdXBMaXN0QXBpLCB3ZWNoYXRHcm91cENyZWF0ZUFwaSwgd2VjaGF0R3JvdXBFZGl0QXBpIH0gZnJvbSAnQC9hcGkvYXBwJwppbXBvcnQgZWRpdEZyb20gZnJvbSAnQC9jb21wb25lbnRzL2Zyb20vZnJvbScKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ3RhZycsCiAgICBjb21wb25lbnRzOiB7IGVkaXRGcm9tIH0sCiAgICBkYXRhICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBGcm9tRGF0YTogbnVsbCwKICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgIHRhYkxpc3Q6IFtdLAogICAgICAgICAgICBjb2x1bW5zMTogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnSUQnLAogICAgICAgICAgICAgICAgICAgIGtleTogJ2lkJywKICAgICAgICAgICAgICAgICAgICB3aWR0aDogODAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmoIfnrb7lkI0nLAogICAgICAgICAgICAgICAgICAgIGtleTogJ25hbWUnLAogICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAyMDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkurrmlbAnLAogICAgICAgICAgICAgICAgICAgIGtleTogJ2NvdW50JywKICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogMTIwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5pON5L2cJywKICAgICAgICAgICAgICAgICAgICBzbG90OiAnYWN0aW9uJywKICAgICAgICAgICAgICAgICAgICBmaXhlZDogJ3JpZ2h0JywKICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogMTUwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0KICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICAkcm91dGUgKHRvLCBmcm9tKSB7CiAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQgKCkgewogICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8vIOa3u+WKoAogICAgICAgIGFkZCAoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoID09PSAnL2FkbWluL2FwcC93ZWNoYXQvd2VjaGF0X3VzZXIvdXNlci90YWcnKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtb2RhbEZvcm0od2VjaGF0VGFnQ3JlYXRlQXBpKCkpLnRoZW4oKCkgPT4gdGhpcy5nZXRMaXN0KCkpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtb2RhbEZvcm0od2VjaGF0R3JvdXBDcmVhdGVBcGkoKSkudGhlbigoKSA9PiB0aGlzLmdldExpc3QoKSkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g57yW6L6RCiAgICAgICAgZWRpdCAocm93KSB7CiAgICAgICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoID09PSAnL2FkbWluL2FwcC93ZWNoYXQvd2VjaGF0X3VzZXIvdXNlci90YWcnKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtb2RhbEZvcm0od2VjaGF0VGFnRWRpdEFwaShyb3cuaWQpKS50aGVuKCgpID0+IHRoaXMuZ2V0TGlzdCgpKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kbW9kYWxGb3JtKHdlY2hhdEdyb3VwRWRpdEFwaShyb3cuaWQpKS50aGVuKCgpID0+IHRoaXMuZ2V0TGlzdCgpKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvLyDliKDpmaQKICAgICAgICBkZWwgKHJvdywgdGl0LCBudW0pIHsKICAgICAgICAgICAgbGV0IGRlbGZyb21EYXRhID0gbnVsbAogICAgICAgICAgICBpZiAodGhpcy4kcm91dGUucGF0aCA9PT0gJy9hZG1pbi9hcHAvd2VjaGF0L3dlY2hhdF91c2VyL3VzZXIvdGFnJykgewogICAgICAgICAgICAgICAgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdCwKICAgICAgICAgICAgICAgICAgICBudW06IG51bSwKICAgICAgICAgICAgICAgICAgICB1cmw6IGBhcHAvd2VjaGF0L3RhZy8ke3Jvdy5pZH1gLAogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsCiAgICAgICAgICAgICAgICAgICAgaWRzOiAnJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdCwKICAgICAgICAgICAgICAgICAgICBudW06IG51bSwKICAgICAgICAgICAgICAgICAgICB1cmw6IGBhcHAvd2VjaGF0L2dyb3VwLyR7cm93LmlkfWAsCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJywKICAgICAgICAgICAgICAgICAgICBpZHM6ICcnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy4kbW9kYWxTdXJlKGRlbGZyb21EYXRhKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKQogICAgICAgICAgICAgICAgdGhpcy50YWJMaXN0LnNwbGljZShudW0sIDEpCiAgICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvLyDliJfooagKICAgICAgICBnZXRMaXN0ICgpIHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICBsZXQgZm91bnRpb24KICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhdGggPT09ICcvYWRtaW4vYXBwL3dlY2hhdC93ZWNoYXRfdXNlci91c2VyL3RhZycpIHsKICAgICAgICAgICAgICAgIGZvdW50aW9uID0gd2VjaGF0VGFnTGlzdEFwaSgpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBmb3VudGlvbiA9IHdlY2hhdEdyb3VwTGlzdEFwaSgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm91bnRpb24udGhlbihhc3luYyByZXMgPT4gewogICAgICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YQogICAgICAgICAgICAgICAgdGhpcy50YWJMaXN0ID0gZGF0YS5saXN0Lmxpc3QKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgcGFnZUNoYW5nZSAoaW5kZXgpIHsKICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFnZSA9IGluZGV4CiAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["tag.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tag.vue","sourceRoot":"src/pages/app/wechat/user","sourcesContent":["<template>\n    <div>\n        <div class=\"i-layout-page-header\">\n          <div class=\"i-layout-page-header\">\n            <span class=\"ivu-page-header-title\">{{$route.meta.title}}</span>\n          </div>\n        </div>\n        <Card :bordered=\"false\" dis-hover class=\"save_from ivu-mt\">\n            <Button type=\"primary\"  icon=\"md-add\" @click=\"add\">{{'添加'+$route.meta.title}}</Button>\n            <Table :columns=\"columns1\" :data=\"tabList\" ref=\"table\" class=\"mt25\"\n                   :loading=\"loading\" highlight-row\n                   no-userFrom-text=\"暂无数据\"\n                   no-filtered-userFrom-text=\"暂无筛选结果\">\n                <template slot-scope=\"{ row, index }\" slot=\"action\">\n                    <a @click=\"edit(row)\">编辑</a>\n                    <Divider type=\"vertical\" />\n                    <a @click=\"del(row, '删除标签', index)\">删除</a>\n                </template>\n            </Table>\n        </Card>\n    </div>\n</template>\n\n<script>\n    import { wechatTagListApi, wechatTagCreateApi, wechatTagEditApi, wechatGroupListApi, wechatGroupCreateApi, wechatGroupEditApi } from '@/api/app'\n    import editFrom from '@/components/from/from'\n    export default {\n        name: 'tag',\n        components: { editFrom },\n        data () {\n            return {\n                FromData: null,\n                loading: false,\n                tabList: [],\n                columns1: [\n                    {\n                        title: 'ID',\n                        key: 'id',\n                        width: 80\n                    },\n                    {\n                        title: '标签名',\n                        key: 'name',\n                        minWidth: 200\n                    },\n                    {\n                        title: '人数',\n                        key: 'count',\n                        minWidth: 120\n                    },\n                    {\n                        title: '操作',\n                        slot: 'action',\n                        fixed: 'right',\n                        minWidth: 150\n                    }\n                ]\n            }\n        },\n        watch: {\n            $route (to, from) {\n                this.getList()\n            }\n        },\n        created () {\n            this.getList()\n        },\n        methods: {\n            // 添加\n            add () {\n                if (this.$route.path === '/admin/app/wechat/wechat_user/user/tag') {\n                    this.$modalForm(wechatTagCreateApi()).then(() => this.getList())\n                } else {\n                    this.$modalForm(wechatGroupCreateApi()).then(() => this.getList())\n                }\n            },\n            // 编辑\n            edit (row) {\n                if (this.$route.path === '/admin/app/wechat/wechat_user/user/tag') {\n                    this.$modalForm(wechatTagEditApi(row.id)).then(() => this.getList())\n                } else {\n                    this.$modalForm(wechatGroupEditApi(row.id)).then(() => this.getList())\n                }\n            },\n            // 删除\n            del (row, tit, num) {\n                let delfromData = null\n                if (this.$route.path === '/admin/app/wechat/wechat_user/user/tag') {\n                    delfromData = {\n                        title: tit,\n                        num: num,\n                        url: `app/wechat/tag/${row.id}`,\n                        method: 'DELETE',\n                        ids: ''\n                    }\n                } else {\n                    delfromData = {\n                        title: tit,\n                        num: num,\n                        url: `app/wechat/group/${row.id}`,\n                        method: 'DELETE',\n                        ids: ''\n                    }\n                }\n                this.$modalSure(delfromData).then((res) => {\n                    this.$Message.success(res.msg)\n                    this.tabList.splice(num, 1)\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 列表\n            getList () {\n                this.loading = true\n                let fountion\n                if (this.$route.path === '/admin/app/wechat/wechat_user/user/tag') {\n                    fountion = wechatTagListApi()\n                } else {\n                    fountion = wechatGroupListApi()\n                }\n                fountion.then(async res => {\n                    let data = res.data\n                    this.tabList = data.list.list\n                    this.loading = false\n                }).catch(res => {\n                    this.loading = false\n                    this.$Message.error(res.msg)\n                })\n            },\n            pageChange (index) {\n                this.formValidate.page = index\n                this.getList()\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}