{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/app/wechat/menus/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/app/wechat/menus/index.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHdlY2hhdE1lbnVBcGksIE1lbnVBcGkgfSBmcm9tICdAL2FwaS9hcHAnCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICd3ZWNoYXRNZW51cycsCiAgICBkYXRhICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBtb2RhbDI6IGZhbHNlLAogICAgICAgICAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgdHlwZTogJ2NsaWNrJywKICAgICAgICAgICAgICAgIGFwcGlkOiAnJywKICAgICAgICAgICAgICAgIHVybDogJycsCiAgICAgICAgICAgICAgICBrZXk6ICcnLAogICAgICAgICAgICAgICAgcGFnZXBhdGg6ICcnLAogICAgICAgICAgICAgICAgaWQ6IDAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcnVsZVZhbGlkYXRlOiB7CiAgICAgICAgICAgICAgICBuYW1lOiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+Whq+WGmeiPnOWNleWQjeensCcsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbWluOiAxLCBtYXg6IDE0LCBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDEg5YiwIDE0IOS4quWtl+espicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAga2V5OiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+Whq+WGmeWFs+mUruWtlycsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgYXBwaWQ6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZYXBwaWQnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIHBhZ2VwYXRoOiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+Whq+WGmeWkh+eUqOe9kemhtScsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgdXJsOiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+Whq+WGmei3s+i9rOWcsOWdgCcsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgdHlwZTogWwogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nop4TliJnnirbmgIEnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBhcmVudE1lbnVJZDogbnVsbCwKICAgICAgICAgICAgbGlzdDogW10sCiAgICAgICAgICAgIGNoZWNrZWRNZW51SWQ6IG51bGwsCiAgICAgICAgICAgIGlzVHJ1ZTogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCAoKSB7CiAgICAgICAgdGhpcy5nZXRNZW51cygpCiAgICAgICAgaWYgKHRoaXMubGlzdC5sZW5ndGgpIHsKICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUgPSB0aGlzLmxpc3RbdGhpcy5hY3RpdmVDbGFzc10KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtVmFsaWRhdGUKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8vIOa3u+WKoOS4gOe6p+Wtl+auteWHveaVsAogICAgICAgIGRlZmF1bHRNZW51c0RhdGEgKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgdHlwZTogJ2NsaWNrJywKICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgc3ViX2J1dHRvbjogW10KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g5re75Yqg5LqM57qn5a2X5q615Ye95pWwCiAgICAgICAgZGVmYXVsdENoaWxkRGF0YSAoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB0eXBlOiAnY2xpY2snLAogICAgICAgICAgICAgICAgbmFtZTogJycKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g6I635Y+WIOiPnOWNlQogICAgICAgIGdldE1lbnVzICgpIHsKICAgICAgICAgICAgd2VjaGF0TWVudUFwaSgpLnRoZW4oYXN5bmMgcmVzID0+IHsKICAgICAgICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGEKICAgICAgICAgICAgICAgIHRoaXMubGlzdCA9IGRhdGEubWVudXMKICAgICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZykKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOeCueWHu+S/neWtmOaPkOS6pAogICAgICAgIHN1Ym1lbnVzIChuYW1lKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzVHJ1ZSAmJiAhdGhpcy5jaGVja2VkTWVudUlkICYmIHRoaXMuY2hlY2tlZE1lbnVJZCAhPT0gMCkgewogICAgICAgICAgICAgICAgdGhpcy5wdXREYXRhKCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnNbbmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHV0RGF0YSgpCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrKCkpIHJldHVybiBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIOaWsOWinmRhdGEKICAgICAgICBwdXREYXRhICgpIHsKICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICBidXR0b246IHRoaXMubGlzdAogICAgICAgICAgICB9CiAgICAgICAgICAgIE1lbnVBcGkoZGF0YSkudGhlbihhc3luYyByZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpCiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRNZW51SWQgPSBudWxsCiAgICAgICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZSA9IHt9CiAgICAgICAgICAgICAgICB0aGlzLmlzVHJ1ZSA9IGZhbHNlCiAgICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvLyDngrnlh7vlhYPntKAKICAgICAgICBnZXR0ZW0gKGl0ZW0sIGluZGV4LCBwaWQpIHsKICAgICAgICAgICAgdGhpcy5jaGVja2VkTWVudUlkID0gaW5kZXgKICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUgPSBpdGVtCiAgICAgICAgICAgIHRoaXMucGFyZW50TWVudUlkID0gcGlkCiAgICAgICAgICAgIHRoaXMuaXNUcnVlID0gdHJ1ZQogICAgICAgIH0sCiAgICAgICAgLy8g5aKe5Yqg5LqM57qnCiAgICAgICAgYWRkIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2soKSkgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgIGlmIChpdGVtLnN1Yl9idXR0b24ubGVuZ3RoIDwgNSkgewogICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRlZmF1bHRDaGlsZERhdGEoKQogICAgICAgICAgICAgICAgbGV0IGlkID0gaXRlbS5zdWJfYnV0dG9uLmxlbmd0aAogICAgICAgICAgICAgICAgaXRlbS5zdWJfYnV0dG9uLnB1c2goZGF0YSkKICAgICAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlID0gZGF0YQogICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkTWVudUlkID0gaWQKICAgICAgICAgICAgICAgIHRoaXMucGFyZW50TWVudUlkID0gaW5kZXgKICAgICAgICAgICAgICAgIHRoaXMuaXNUcnVlID0gdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvLyDlop7liqDkuIDnuqcKICAgICAgICBhZGR0ZXh0ICgpIHsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5saXN0KQogICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2soKSkgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5kZWZhdWx0TWVudXNEYXRhKCkKICAgICAgICAgICAgbGV0IGlkID0gdGhpcy5saXN0Lmxlbmd0aAogICAgICAgICAgICB0aGlzLmxpc3QucHVzaChkYXRhKQogICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZSA9IGRhdGEKICAgICAgICAgICAgdGhpcy5jaGVja2VkTWVudUlkID0gaWQKICAgICAgICAgICAgdGhpcy5wYXJlbnRNZW51SWQgPSBudWxsCiAgICAgICAgICAgIHRoaXMuaXNUcnVlID0gdHJ1ZQogICAgICAgIH0sCiAgICAgICAgLy8g5Yik5pat5Ye95pWwCiAgICAgICAgY2hlY2s6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgbGV0IHJlZyA9IC9bYS16QS1aMC05XVstYS16QS1aMC05XXswLDYyfShcLlthLXpBLVowLTldWy1hLXpBLVowLTldezAsNjJ9KStcLj8vCiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrZWRNZW51SWQgPT09IG51bGwpIHJldHVybiB0cnVlCiAgICAgICAgICAgIGlmICghdGhpcy5pc1RydWUpIHJldHVybiB0cnVlCiAgICAgICAgICAgIGlmICghdGhpcy5mb3JtVmFsaWRhdGUubmFtZSkgewogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCfor7fovpPlhaXmjInpkq7lkI3np7AhJykKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS50eXBlID09PSAnY2xpY2snICYmICF0aGlzLmZvcm1WYWxpZGF0ZS5rZXkpIHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygn6K+36L6T5YWl5YWz6ZSu5a2XIScpCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUudHlwZSA9PT0gJ3ZpZXcnICYmICEocmVnLnRlc3QodGhpcy5mb3JtVmFsaWRhdGUudXJsKSkpIHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygn6K+36L6T5YWl5q2j56Gu55qE6Lez6L2s5Zyw5Z2AIScpCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUudHlwZSA9PT0gJ21pbmlwcm9ncmFtJyAmJgogICAgICAgICAgICAgICAgKCF0aGlzLmZvcm1WYWxpZGF0ZS5hcHBpZCB8fAogICAgICAgICAgICAgICAgIXRoaXMuZm9ybVZhbGlkYXRlLnBhZ2VwYXRoIHx8CiAgICAgICAgICAgICAgICAhdGhpcy5mb3JtVmFsaWRhdGUudXJsKSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygn6K+35aGr5YaZ5a6M5pW05bCP56iL5bqP6YWN572uIScpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgfSwKICAgICAgICAvLyDliKDpmaQKICAgICAgICBkZWx0TWVudXMgKCkgewogICAgICAgICAgICBpZiAodGhpcy5pc1RydWUpIHsKICAgICAgICAgICAgICAgIHRoaXMubW9kYWwyID0gdHJ1ZQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6noj5zljZUhJykKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g56Gu6K6k5Yig6ZmkCiAgICAgICAgZGVsICgpIHsKICAgICAgICAgICAgdGhpcy5wYXJlbnRNZW51SWQgPT09IG51bGwgPyB0aGlzLmxpc3Quc3BsaWNlKHRoaXMuY2hlY2tlZE1lbnVJZCwgMSkgOiB0aGlzLmxpc3RbdGhpcy5wYXJlbnRNZW51SWRdLnN1Yl9idXR0b24uc3BsaWNlKHRoaXMuY2hlY2tlZE1lbnVJZCwgMSkKICAgICAgICAgICAgdGhpcy5wYXJlbnRNZW51SWQgPSBudWxsCiAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlID0gewogICAgICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgICAgICB0eXBlOiAnY2xpY2snLAogICAgICAgICAgICAgICAgYXBwaWQ6ICcnLAogICAgICAgICAgICAgICAgdXJsOiAnJywKICAgICAgICAgICAgICAgIGtleTogJycsCiAgICAgICAgICAgICAgICBwYWdlcGF0aDogJycsCiAgICAgICAgICAgICAgICBpZDogMAogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuaXNUcnVlID0gdHJ1ZQogICAgICAgICAgICB0aGlzLm1vZGFsMiA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuY2hlY2tlZE1lbnVJZCA9IG51bGwKICAgICAgICAgICAgdGhpcy4kcmVmc1snZm9ybVZhbGlkYXRlJ10ucmVzZXRGaWVsZHMoKQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/app/wechat/menus","sourcesContent":["<template>\n    <div class=\"article-manager\">\n        <div class=\"i-layout-page-header\">\n          <div class=\"i-layout-page-header\">\n            <span class=\"ivu-page-header-title\">{{$route.meta.title}}</span>\n          </div>\n        </div>\n        <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n            <!-- 公众号设置 -->\n            <Row :gutter=\"24\" type=\"flex\">\n                <Col span=\"24\" class=\"ml40\">\n                    <!-- 预览功能 -->\n                    <Col :span=\"24\">\n                        <Col :xl=\"7\" :lg=\"7\" :md=\"22\" :sm=\"22\" :xs=\"22\" class=\"left mb15\">\n                            <img class=\"top\" src=\"../../../../assets/images/mobilehead.png\" />\n                            <img class=\"bottom\" src=\"@/assets/images/mobilefoot.png\" />\n                            <div style=\"background: #F4F5F9; min-height: 438px; position: absolute;\n         top: 63px; width: 320px; \">\n                            </div>\n                            <div class=\"textbot\">\n                                <div class=\"li\" v-for=\"(item,indx) in list\" :key=\"indx\" :class=\"{active:item === formValidate}\">\n                                    <div>\n                                        <div class=\"add\" @click=\"add(item,indx)\">\n                                            <Icon type=\"ios-add\" />\n                                            <div class=\"arrow\"></div>\n                                        </div>\n                                        <div class=\"tianjia\">\n                                            <div class=\"addadd\" v-for=\"(j,index) in item.sub_button\" :key=\"index\"\n                                                 :class=\"{active:j === formValidate}\" @click=\"gettem(j,index,indx)\">{{j.name || '二级菜单'}}</div>\n                                        </div>\n                                    </div>\n                                    <div class=\"text\" @click=\"gettem(item,indx,null)\">{{item.name || '一级菜单'}}</div>\n                                </div>\n                                <div class=\"li\" v-show=\"list.length < 3\">\n                                    <div class=\"text\" @click=\"addtext\"><Icon type=\"ios-add\" /></div>\n                                </div>\n                            </div>\n                        </Col>\n                        <Col :xl=\"11\" :lg=\"12\" :md=\"22\" :sm=\"22\" :xs=\"22\" >\n                            <Tabs value=\"name1\" v-if=\"checkedMenuId !== null\">\n                                <TabPane label=\"菜单信息\" name=\"name1\">\n                                    <Col span=\"24\" class=\"userAlert\">\n                                        <div class=\"box-card right\">\n                                            <Alert show-icon closable class=\"spwidth\"> 已添加子菜单，仅可设置菜单名称</Alert>\n                                            <Form  ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"100\" class=\"mt20\">\n                                                <FormItem label=\"菜单名称\" prop=\"name\">\n                                                    <Input v-model=\"formValidate.name\" placeholder=\"请填写菜单名称\" class=\"spwidth\"></Input>\n                                                </FormItem>\n                                                <FormItem label=\"规则状态\" prop=\"type\">\n                                                    <Select v-model=\"formValidate.type\" placeholder=\"请选择规则状态\" class=\"spwidth\">\n                                                        <Option value=\"click\">关键字</Option>\n                                                        <Option value=\"view\">跳转网页</Option>\n                                                        <Option value=\"miniprogram\">小程序</Option>\n                                                    </Select>\n                                                </FormItem>\n                                                <div v-if=\"formValidate.type === 'click'\">\n                                                    <FormItem label=\"关键字\" prop=\"key\">\n                                                        <Input v-model=\"formValidate.key\" placeholder=\"请填写关键字\" class=\"spwidth\"></Input>\n                                                    </FormItem>\n                                                </div>\n                                                <div v-if=\"formValidate.type === 'miniprogram'\">\n                                                    <FormItem label=\"appid\" prop=\"appid\">\n                                                        <Input v-model=\"formValidate.appid\" placeholder=\"请填写appid\" class=\"spwidth\"></Input>\n                                                    </FormItem>\n                                                    <FormItem label=\"小程序路径\" prop=\"pagepath\">\n                                                        <Input v-model=\"formValidate.pagepath\" placeholder=\"请填写小程序路径\" class=\"spwidth\"></Input>\n                                                    </FormItem>\n                                                    <FormItem label=\"备用网页\" prop=\"url\">\n                                                        <Input v-model=\"formValidate.url\" placeholder=\"请填写备用网页\" class=\"spwidth\"></Input>\n                                                    </FormItem>\n                                                </div>\n                                                <div v-if=\"formValidate.type === 'view'\">\n                                                    <FormItem label=\"跳转地址\" prop=\"url\">\n                                                        <Input v-model=\"formValidate.url\" placeholder=\"请填写跳转地址\" class=\"spwidth\"></Input>\n                                                    </FormItem>\n                                                </div>\n                                            </Form>\n                                        </div>\n                                    </Col>\n                                </TabPane>\n                                <Button size=\"small\" type=\"error\"  slot=\"extra\" @click=\"deltMenus\">删除</Button>\n                            </Tabs>\n                            <Col :span=\"24\" v-if=\"isTrue\">\n                                <Button type=\"primary\" style=\"display: block;margin: 10px auto;\" @click=\"submenus('formValidate')\">保存并发布</Button>\n                            </Col>\n                        </Col>\n                    </Col>\n                </Col>\n            </Row>\n        </Card>\n\n        <Modal v-model=\"modal2\" width=\"360\">\n            <p slot=\"header\" style=\"color:#f60;text-align:center\">\n                <Icon type=\"ios-information-circle\"></Icon>\n                <span>删除</span>\n            </p>\n            <div style=\"text-align:center\">\n                <p>确定删除吗？</p>\n            </div>\n            <div slot=\"footer\">\n                <Button type=\"error\" size=\"large\" long  @click=\"del\">确定</Button>\n            </div>\n        </Modal>\n    </div>\n</template>\n\n<script>\n    import { wechatMenuApi, MenuApi } from '@/api/app'\n    export default {\n        name: 'wechatMenus',\n        data () {\n            return {\n                modal2: false,\n                formValidate: {\n                    name: '',\n                    type: 'click',\n                    appid: '',\n                    url: '',\n                    key: '',\n                    pagepath: '',\n                    id: 0\n                },\n                ruleValidate: {\n                    name: [\n                        { required: true, message: '请填写菜单名称', trigger: 'blur' },\n                        { min: 1, max: 14, message: '长度在 1 到 14 个字符', trigger: 'blur' }\n                    ],\n                    key: [\n                        { required: true, message: '请填写关键字', trigger: 'blur' }\n                    ],\n                    appid: [\n                        { required: true, message: '请填写appid', trigger: 'blur' }\n                    ],\n                    pagepath: [\n                        { required: true, message: '请填写备用网页', trigger: 'blur' }\n                    ],\n                    url: [\n                        { required: true, message: '请填写跳转地址', trigger: 'blur' }\n                    ],\n                    type: [\n                        { required: true, message: '请选择规则状态', trigger: 'change' }\n                    ]\n                },\n                parentMenuId: null,\n                list: [],\n                checkedMenuId: null,\n                isTrue: false\n            }\n        },\n        mounted () {\n            this.getMenus()\n            if (this.list.length) {\n                this.formValidate = this.list[this.activeClass]\n            } else {\n                return this.formValidate\n            }\n        },\n        methods: {\n            // 添加一级字段函数\n            defaultMenusData () {\n                return {\n                    type: 'click',\n                    name: '',\n                    sub_button: []\n                }\n            },\n            // 添加二级字段函数\n            defaultChildData () {\n                return {\n                    type: 'click',\n                    name: ''\n                }\n            },\n            // 获取 菜单\n            getMenus () {\n                wechatMenuApi().then(async res => {\n                    let data = res.data\n                    this.list = data.menus\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 点击保存提交\n            submenus (name) {\n                if (this.isTrue && !this.checkedMenuId && this.checkedMenuId !== 0) {\n                    this.putData()\n                } else {\n                    this.$refs[name].validate((valid) => {\n                        if (valid) {\n                            this.putData()\n                        } else {\n                            if (!this.check()) return false\n                        }\n                    })\n                }\n            },\n            // 新增data\n            putData () {\n                let data = {\n                    button: this.list\n                }\n                MenuApi(data).then(async res => {\n                    this.$Message.success(res.msg)\n                    this.checkedMenuId = null\n                    this.formValidate = {}\n                    this.isTrue = false\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 点击元素\n            gettem (item, index, pid) {\n                this.checkedMenuId = index\n                this.formValidate = item\n                this.parentMenuId = pid\n                this.isTrue = true\n            },\n            // 增加二级\n            add (item, index) {\n                if (!this.check()) return false\n                if (item.sub_button.length < 5) {\n                    let data = this.defaultChildData()\n                    let id = item.sub_button.length\n                    item.sub_button.push(data)\n                    this.formValidate = data\n                    this.checkedMenuId = id\n                    this.parentMenuId = index\n                    this.isTrue = true\n                }\n            },\n            // 增加一级\n            addtext () {\n                console.log(this.list)\n                if (!this.check()) return false\n                let data = this.defaultMenusData()\n                let id = this.list.length\n                this.list.push(data)\n                this.formValidate = data\n                this.checkedMenuId = id\n                this.parentMenuId = null\n                this.isTrue = true\n            },\n            // 判断函数\n            check: function () {\n                let reg = /[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\\.?/\n                if (this.checkedMenuId === null) return true\n                if (!this.isTrue) return true\n                if (!this.formValidate.name) {\n                    this.$Message.warning('请输入按钮名称!')\n                    return false\n                }\n                if (this.formValidate.type === 'click' && !this.formValidate.key) {\n                    this.$Message.warning('请输入关键字!')\n                    return false\n                }\n                if (this.formValidate.type === 'view' && !(reg.test(this.formValidate.url))) {\n                    this.$Message.warning('请输入正确的跳转地址!')\n                    return false\n                }\n                if (this.formValidate.type === 'miniprogram' &&\n                    (!this.formValidate.appid ||\n                    !this.formValidate.pagepath ||\n                    !this.formValidate.url)) {\n                        this.$Message.warning('请填写完整小程序配置!')\n                        return false\n                    }\n                return true\n            },\n            // 删除\n            deltMenus () {\n                if (this.isTrue) {\n                    this.modal2 = true\n                } else {\n                    this.$Message.warning('请选择菜单!')\n                }\n            },\n            // 确认删除\n            del () {\n                this.parentMenuId === null ? this.list.splice(this.checkedMenuId, 1) : this.list[this.parentMenuId].sub_button.splice(this.checkedMenuId, 1)\n                this.parentMenuId = null\n                this.formValidate = {\n                    name: '',\n                    type: 'click',\n                    appid: '',\n                    url: '',\n                    key: '',\n                    pagepath: '',\n                    id: 0\n                }\n                this.isTrue = true\n                this.modal2 = false\n                this.checkedMenuId = null\n                this.$refs['formValidate'].resetFields()\n            }\n        }\n    }\n</script>\n<style scoped lang=\"less\">\n    *{\n        -moz-user-select: none; /*火狐*/\n        -webkit-user-select: none; /*webkit浏览器*/\n        -ms-user-select: none; /*IE10*/\n        -khtml-user-select: none; /*早期浏览器*/\n        user-select: none;\n    }\n    .left {\n        min-width: 390px;\n        min-height: 550px;\n        position: relative;\n        padding-left: 40px;\n    }\n\n    .top {\n        position: absolute;\n        top: 0px;\n    }\n\n    .bottom {\n        position: absolute;\n        bottom: 0px;\n    }\n\n    .textbot {\n        position: absolute;\n        bottom: 0px;\n        left: 82px;\n        width: 100%;\n    }\n    .active {\n        border: 1px solid #44B549 !important;\n        color: #44B549 !important;\n    }\n    .li {\n        float: left;\n        width: 93px;\n        line-height: 48px;\n        border: 1px solid #E7E7EB;\n        background: #FAFAFA;\n        text-align: center;\n        cursor: pointer;\n        color: #999;\n        position: relative;\n    }\n    .text{\n        height: 50px;\n        white-space: nowrap;\n        width: 100%;\n        overflow: hidden;\n        text-overflow:ellipsis;\n        padding: 0 5px;\n    }\n    .text:hover {\n        color: #000;\n    }\n\n    .add {\n        position: absolute;\n        bottom: 65px;\n        width: 100%;\n        line-height: 48px;\n        border: 1px solid #E7E7EB;\n        background: #FAFAFA;\n    }\n    .arrow {\n        position: absolute;\n        bottom: -16px;\n        left: 36px;\n        /* 圆角的位置需要细心调试哦 */\n        width: 0;\n        height: 0;\n        font-size: 0;\n        border: solid 8px;\n        border-color:#fff #F4F5F9 #F4F5F9 #F4F5F9;\n    }\n    .tianjia {\n        position: absolute;\n        bottom: 115px;\n        width: 100%;\n        line-height: 48px;\n        background: #FAFAFA;\n    }\n    .addadd {\n        width: 100%;\n        line-height: 48px;\n        border: 1px solid #E7E7EB;\n        background: #FAFAFA;\n        height: 48px;\n    }\n    .right {\n        background: #fff;\n        min-height: 400px;\n    }\n    .spwidth{\n        width: 100%;\n    }\n    .userAlert{\n      margin-top: 16px!important;\n    }\n</style>\n"]}]}