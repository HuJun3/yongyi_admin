{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/notify/smsConfig/tableList.vue?vue&type=style&index=0&id=a292f994&lang=less&scoped=true&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/notify/smsConfig/tableList.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/less-loader/dist/cjs.js","mtime":1625101332743},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGFhYTogfic+Pj4nOwoub3JkZXJfYm94IC9kZWVwLy5pdnUtZm9ybS1pdGVtLWNvbnRlbnR7CiAgICBtYXJnaW4tbGVmdDogNTBweCFpbXBvcnRhbnQ7Cn0KLm1heElucHR7CiAgICBtYXgtd2lkdGg6NDAwcHg7CiAgICBtYXJnaW4tbGVmdDphdXRvOwogICAgbWFyZ2luLXJpZ2h0OmF1dG87Cn0KLnNtc0JveCAucGFnZS1hY2NvdW50LXRvcHsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIG1hcmdpbjogNzBweCAwIDMwcHggMDsKfQoubm90ZXsKICAgIG1hcmdpbi10b3A6IDE1cHg7Cn0KLnRlbXBJbWd7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBtYXJnaW4tbGVmdDogMTFweDsKICAgIGNvbG9yOiAjMTg5MEZGOwp9Ci50YWJCb3hfaW1newogICAgb3BhY2l0eTogMDsKICAgIHdpZHRoOiAzOHB4OwogICAgaGVpZ2h0OiAzMHB4OwogICAgbWFyZ2luLXRvcDogLTMwcHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBpbWd7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQp9Ci53aWR0aDl7CiAgICB3aWR0aDogOTAlOwp9Ci53aWR0aDEwewogICAgd2lkdGg6IDEwMCU7Cn0KLnd1Qm94ewogICAgd2lkdGg6IDEwMCU7Cn0KLnd1U3AxewogICAgZGlzcGxheTogYmxvY2s7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBjb2xvcjogIzAwMDAwMDsKICAgIGZvbnQtc2l6ZTogMjFweDsKICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICBsaW5lLWhlaWdodDogMzJweDsKICAgIG1hcmdpbi10b3A6IDIzcHg7CiAgICBtYXJnaW4tYm90dG9tOiA1cHg7Cn0KLnd1U3AyewogICAgb3BhY2l0eTogNDUlOwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIGNvbG9yOiAjMDAwMDAwOwogICAgbGluZS1oZWlnaHQ6IDIycHg7CiAgICBtYXJnaW4tYm90dG9tOiAzMHB4Owp9Ci5wYWdlLWFjY291bnQtdG9wLXRpdHsKICAgIGZvbnQtc2l6ZTogMjFweDsKICAgIGNvbG9yOiAjMTg5MEZGOwp9Ci53dVR1ewogICAgd2lkdGg6IDI5NXB4OwogICAgaGVpZ2h0OiAxNjRweDsKICAgIG1hcmdpbi10b3A6IDU0cHg7CiAgICBpbWd7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQoKICAgICsgc3BhbiB7CiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIH0KfQoudGVtcElkewpAYWFhIC5pdnUtZm9ybS1pdGVtLWNvbnRlbnR7CiAgICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7Cn0KfQo="},{"version":3,"sources":["tableList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6jBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tableList.vue","sourceRoot":"src/pages/notify/smsConfig","sourcesContent":["<template>\n    <div>\n        <Card :bordered=\"false\" dis-hover>\n            <Tabs v-model=\"isChecked\" @on-click=\"onChangeType\">\n                <TabPane label=\"短信\" name=\"1\"></TabPane>\n                <TabPane label=\"商品采集\" name=\"4\"></TabPane>\n                <TabPane label=\"物流查询\" name=\"3\"></TabPane>\n            </Tabs>\n            <!--短信列表-->\n            <div class=\"note\" v-if=\"isChecked === '1' && sms.open === 1 \">\n                <div class=\"acea-row row-between-wrapper\">\n                    <div>\n                        <span>短信状态：</span>\n                        <RadioGroup type=\"button\" v-model=\"tableFrom.type\" @on-change=\"selectChange(tableFrom.type)\">\n                            <Radio label=\"\">全部</Radio>\n                            <Radio label=\"1\">成功</Radio>\n                            <Radio label=\"2\">失败</Radio>\n                            <Radio label=\"0\">发送中</Radio>\n                        </RadioGroup>\n                    </div>\n                    <div>\n                        <Button type=\"primary\" @click=\"shortMes\">短信模板</Button>\n                        <Button style=\"margin-left: 20px;\" @click=\"editSign\">修改签名</Button>\n                    </div>\n                </div>\n                <Table :columns=\"columns1\" :data=\"tableList\"\n                       :loading=\"loading\" highlight-row\n                       no-userFrom-text=\"暂无数据\"\n                       no-filtered-userFrom-text=\"暂无筛选结果\" class=\"mt25\"></Table>\n                <div class=\"acea-row row-right page\">\n                    <Page :total=\"total\" :current=\"tableFrom.page\" show-elevator show-total @on-change=\"pageChange\"\n                          :page-size=\"tableFrom.limit\"/>\n                </div>\n            </div>\n            <!--商品采集，物流，电子面单列表-->\n            <div v-else-if=\"(isChecked === '3' && query.open === 1) || (isChecked === '4' && copy.open === 1)\">\n                <Table :columns=\"columns2\" :data=\"tableList\"\n                       :loading=\"loading\" highlight-row\n                       no-userFrom-text=\"暂无数据\"\n                       no-filtered-userFrom-text=\"暂无筛选结果\" class=\"mt25\">\n                    <template slot-scope=\"{ row }\" slot=\"num\" v-if=\"isChecked === '3' && query.open === 1\">\n                        <div>{{ row.content.num }}</div>\n                    </template>\n                </Table>\n                <div class=\"acea-row row-right page\">\n                    <Page :total=\"total\" :current=\"tableFrom.page\" show-elevator show-total @on-change=\"pageChangeOther\"\n                          :page-size=\"tableFrom.limit\"/>\n                </div>\n            </div>\n            <!--无开通-->\n            <div v-else>\n                <!--开通按钮-->\n                <div v-if=\"(isChecked === '1' && !isSms) || (isChecked === '3' && !isDump) || (isChecked === '4' && !isCopy)\" class=\"wuBox acea-row row-column-around row-middle\">\n                    <div class=\"wuTu\"><img src=\"../../../assets/images/wutu.png\"></div>\n                    <span v-if=\"isChecked === '1' \">\n                        <span class=\"wuSp1\">短信服务未开通哦</span>\n                        <span class=\"wuSp2\">点击立即开通按钮，即可使用短信服务哦～～～</span>\n                    </span>\n                    <span v-if=\"isChecked === '4'\">\n                        <span class=\"wuSp1\">商品采集服务未开通哦</span>\n                        <span class=\"wuSp2\">点击立即开通按钮，即可使用商品采集服务哦～～～</span>\n                    </span>\n                    <span v-if=\"isChecked === '3'\">\n                        <span class=\"wuSp1\">物流查询未开通哦</span>\n                        <span class=\"wuSp2\">点击立即开通按钮，即可使用物流查询服务哦～～～</span>\n                    </span>\n                    <Button size=\"default\" type=\"primary\" @click=\"onOpen\">立即开通</Button>\n                </div>\n                <!--短信立即开通-->\n                <div class=\"smsBox\" v-if=\"isSms && isChecked === '1'\">\n                    <div class=\"index_from page-account-container\">\n                        <div class=\"page-account-top\">\n                            <span class=\"page-account-top-tit\">开通短信服务</span>\n                        </div>\n                        <Form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\" @submit.native.prevent @keyup.enter=\"handleSubmit('formInline')\">\n                            <FormItem prop=\"sign\" class=\"maxInpt\">\n                                <Input type=\"text\" v-model=\"formInline.sign\" prefix=\"ios-contact-outline\"\n                                       placeholder=\"请输入短信签名\"/>\n                            </FormItem>\n                            <FormItem class=\"maxInpt\">\n                                <Button type=\"primary\" long size=\"default\" @click=\"handleSubmit('formInline')\" class=\"btn\">登录</Button>\n                            </FormItem>\n                        </Form>\n                    </div>\n                </div>\n            </div>\n        </Card>\n        <Modal v-model=\"modals\" footer-hide scrollable closable title=\"短信账户签名修改\" class=\"order_box\" @on-cancel=\"cancel('formInline')\">\n            <Form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\" :label-width=\"100\" @submit.native.prevent>\n                <FormItem>\n                    <Input v-model=\"accountInfo.account\" disabled prefix=\"ios-person-outline\" size=\"large\" style=\"width:87%;\"></Input>\n                </FormItem>\n                <FormItem prop=\"sign\">\n                    <!--<Icon type=\"   ios-calendar-outline\" />-->\n                    <Input v-model=\"formInline.sign\" prefix=\"ios-document-outline\"  placeholder=\"请输入短信签名，例如：CRMEB\" size=\"large\" style=\"width:87%;\"></Input>\n                </FormItem>\n                <FormItem prop=\"phone\">\n                    <Input v-model=\"formInline.phone\" prefix=\"ios-call-outline\" placeholder=\"请输入您的手机号\" size=\"large\" style=\"width:87%;\"></Input>\n                </FormItem>\n                <FormItem prop=\"code\">\n                    <div class=\"code acea-row row-middle\" style=\"width: 87%\">\n                        <Input type=\"text\" v-model=\"formInline.code\" prefix=\"ios-keypad-outline\"\n                               placeholder=\"验证码\" size=\"large\" style=\"width: 75%\"/>\n                        <Button :disabled=!this.canClick @click=\"cutDown\" size=\"large\">{{cutNUm}}</Button>\n                    </div>\n                </FormItem>\n                <FormItem>\n                    <Button type=\"primary\" long size=\"large\" @click=\"editSubmit('formInline')\" class=\"btn\" style=\"width:87%;\">确认修改</Button>\n                </FormItem>\n            </Form>\n        </Modal>\n    </div>\n</template>\n\n<script>\n    import { smsRecordApi, serveInfoApi, serveSmsOpenApi, serveOpnExpressApi, serveOpnOtherApi, serveRecordListApi, exportTempApi, exportAllApi, serveSign, captchaApi } from '@/api/setting';\n    export default {\n        name: 'tableList',\n        props: {\n            copy: {\n                type: Object,\n                default: null\n            },\n            dump: {\n                type: Object,\n                default: null\n            },\n            query: {\n                type: Object,\n                default: null\n            },\n            sms: {\n                type: Object,\n                default: null\n            },\n            accountInfo: {\n                type: Object,\n                default: null\n            }\n        },\n        data () {\n            const validatePhone = (rule, value, callback) => {\n                if (!value) {\n                    return callback(new Error('请填写手机号'));\n                } else if (!/^1[3456789]\\d{9}$/.test(value)) {\n                    callback(new Error('手机号格式不正确!'));\n                } else {\n                    callback();\n                }\n            };\n            return {\n                cutNUm: '获取验证码',\n                canClick: true,\n                spinShow: true,\n                formInline: {\n                    sign: '',\n                    phone: '',\n                    code: ''\n                },\n                ruleInline: {\n                    sign: [\n                        { required: true, message: '请输入短信签名', trigger: 'blur' }\n                    ],\n                    phone: [\n                        { required: true, validator: validatePhone, trigger: 'blur' }\n                    ],\n                    code: [\n                        { required: true, message: '请输入验证码', trigger: 'blur' }\n                    ]\n                },\n                isChecked: '1',\n                columns1: [\n                    {\n                        title: '手机号',\n                        key: 'phone',\n                        minWidth: 100\n                    },\n                    {\n                        title: '模板内容',\n                        key: 'content',\n                        minWidth: 590\n                    },\n                    {\n                        title: '发送时间',\n                        key: 'add_time',\n                        minWidth: 150\n                    },\n                    {\n                        title: '状态码',\n                        key: '_resultcode',\n                        minWidth: 100\n                    }\n                ],\n                columns2: [],\n                tableFrom: {\n                    page: 1,\n                    limit: 20,\n                    type: ''\n                },\n                total: 0,\n                loading: false,\n                tableList: [],\n                formInlineDump: {\n                    temp_id: '',\n                    com: '',\n                    to_name: '',\n                    to_tel: '',\n                    siid: '',\n                    to_address: ''\n                },\n                ruleInlineDump: {\n                    com: [\n                        { required: true, message: '请选择快递公司', trigger: 'change' }\n                    ],\n                    temp_id: [\n                        { required: true, message: '请选择打印模板', trigger: 'change' }\n                    ],\n                    to_name: [\n                        { required: true, message: '请输寄件人姓名', trigger: 'blur' }\n                    ],\n                    to_tel: [\n                        { required: true, validator: validatePhone, trigger: 'blur' }\n                    ],\n                    siid: [\n                        { required: true, message: '请输入云打印机编号', trigger: 'blur' }\n                    ],\n                    to_address: [\n                        { required: true, message: '请输寄件人地址', trigger: 'blur' }\n                    ]\n                },\n                tempImg: '', // 图片\n                exportTempList: [], // 电子面单模板\n                exportList: [], // 快递公司列表\n                isSms: false, // 是否开通短信\n                isDump: false, // 是否开通电子面单,是否开通物流查询\n                isCopy: false, // 是否开通商品采集\n                modals: false\n            }\n        },\n        watch: {\n            sms (n) {\n                if (n.open === 1) this.getList();\n            }\n        },\n        created () {\n            if (this.isChecked === '1' && this.sms.open === 1) this.getList();\n        },\n        methods: {\n            //短信模板页\n            shortMes() {\n                this.$router.push({ path:'/admin/setting/sms/sms_template_apply/index'})\n            },\n            // 短信验证码\n            cutDown () {\n                if (this.formInline.phone) {\n                    if (!this.canClick) return;\n                    this.canClick = false;\n                    this.cutNUm = 60;\n                    let data = {\n                        phone: this.formInline.phone\n                    };\n                    captchaApi(data).then(async res => {\n                        this.$Message.success(res.msg);\n                    }).catch(res => {\n                        this.$Message.error(res.msg);\n                    })\n                    let time = setInterval(() => {\n                        this.cutNUm--;\n                        if (this.cutNUm === 0) {\n                            this.cutNUm = '获取验证码';\n                            this.canClick = true;\n                            clearInterval(time)\n                        }\n                    }, 1000)\n                } else {\n                    this.$Message.warning('请填写手机号!');\n                }\n            },\n            editSign (){\n                this.formInline.sign = this.accountInfo.sms.sign;\n                this.modals = true;\n            },\n            cancel (name) {\n                this.modals = false;\n                this.$refs[name].resetFields();\n            },\n            // 提交\n            editSubmit (name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        serveSign(this.formInline).then(res => {\n                            this.modals = false;\n                            this.$Message.success(res.msg);\n                            this.$refs[name].resetFields();\n                        }).catch(res => {\n                            this.$Message.error(res.msg);\n                        })\n                    }\n                })\n            },\n            onChangeImg (item) {\n                this.exportTempList.map(i => {\n                    if (i.temp_id === item) this.tempImg = i.pic\n                })\n            },\n            // 物流公司\n            exportTempAllList () {\n                exportAllApi().then(async res => {\n                    this.exportList = res.data;\n                }).catch(res => {\n                    this.$Message.error(res.msg);\n                })\n            },\n            // 快递公司选择\n            onChangeExport (val) {\n                this.formInlineDump.temp_id = '';\n                this.exportTemp(val);\n            },\n            // 电子面单模板\n            exportTemp (val) {\n                exportTempApi({ com: val }).then(async res => {\n                    this.exportTempList = res.data.data;\n                }).catch(res => {\n                    this.$Message.error(res.msg);\n                })\n            },\n            onChangeType () {\n                if (this.isChecked === '1' && this.sms.open === 1) {\n                    this.tableFrom.type = ''\n                    this.getList()\n                } else {\n                    if ((this.isChecked === '2' && this.query.open === 0) || (this.dump.open === 0 && this.isChecked === '3')) this.isDump = false\n                    if (this.dump.open === 1 || this.query.open === 1 || this.copy.open === 1) this.getRecordList()\n                }\n            },\n            // 其他列表\n            getRecordList () {\n                this.loading = true;\n                this.tableFrom.type = this.isChecked\n                serveRecordListApi(this.tableFrom).then(async res => {\n                    let data = res.data\n                    this.tableList = data.data;\n                    this.total = res.data.count;\n                    switch (this.isChecked) {\n                        case '2':\n                            this.columns2 = [\n                                {\n                                    title: '订单号',\n                                    key: 'order_id',\n                                    minWidth: 150\n                                },\n                                {\n                                    title: '发货人',\n                                    key: 'from_name',\n                                    minWidth: 120\n                                },\n                                {\n                                    title: '收货人',\n                                    key: 'to_name',\n                                    minWidth: 120\n                                },\n                                {\n                                    title: '快递单号',\n                                    key: 'num',\n                                    minWidth: 120\n                                },\n                                {\n                                    title: '快递公司编码',\n                                    key: 'code',\n                                    minWidth: 120\n                                },\n                                {\n                                    title: '状态',\n                                    key: '_resultcode',\n                                    minWidth: 100\n                                },\n                                {\n                                    title: '打印时间',\n                                    key: 'add_time',\n                                    minWidth: 150\n                                }\n                            ]\n                            break;\n                        case '3':\n                            this.columns2 = [\n                                {\n                                    title: '快递单号',\n                                    slot: 'num',\n                                    minWidth: 120\n                                },\n                                {\n                                    title: '快递公司编码',\n                                    key: 'code',\n                                    minWidth: 120\n                                },\n                                {\n                                    title: '状态',\n                                    key: '_resultcode',\n                                    minWidth: 120\n                                },\n                                {\n                                    title: '添加时间',\n                                    key: 'add_time',\n                                    minWidth: 150\n                                }\n                            ]\n                            break;\n                        default:\n                            this.columns2 = [\n                                {\n                                    title: '复制URL',\n                                    key: 'url',\n                                    minWidth: 400\n                                },\n                                {\n                                    title: '请求状态',\n                                    key: '_resultcode',\n                                    minWidth: 120\n                                },\n                                {\n                                    title: '添加时间',\n                                    key: 'add_time',\n                                    minWidth: 150\n                                }\n                            ]\n                            break;\n                    }\n                    this.loading = false;\n                }).catch(res => {\n                    this.loading = false;\n                    this.$Message.error(res.msg);\n                })\n            },\n            pageChangeOther (index) {\n                this.tableFrom.page = index;\n                this.getRecordList();\n            },\n            // 开通短信提交\n            handleSubmit (name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        serveSmsOpenApi(this.formInline).then(async res => {\n                            this.$Message.success('开通成功!');\n                            this.getList();\n                            this.$emit('openService', 'sms')\n                        }).catch(res => {\n                            this.$Message.error(res.msg);\n                        })\n                    } else {\n                        return false;\n                    }\n                })\n            },\n            // 首页去开通\n            onOpenIndex (val) {\n                switch (val) {\n                    case 'sms':\n                        this.isChecked = '1'\n                        this.isSms = true;\n                        break;\n                    case 'copy':\n                        this.isChecked = '4'\n                        this.openOther();\n                        break;\n                    case 'query':\n                        this.isChecked = '3'\n                        this.openExpress();\n                        break;\n                    default:\n                        this.isChecked = '2'\n                        this.openDump();\n                        break;\n                }\n            },\n            // 开通按钮\n            onOpen () {\n                if (this.isChecked === '1') this.isSms = true;\n                if (this.isChecked === '3') this.openExpress();\n                if (this.isChecked === '4') this.openOther();\n            },\n            // 开通其他\n            openOther () {\n                this.$Modal.confirm({\n                    title: '开通商品采集吗',\n                    content: '<p>确定要开通商品采集吗</p>',\n                    loading: true,\n                    onOk: () => {\n                        this.$Modal.remove();\n                        setTimeout(() => {\n                            serveOpnOtherApi({ type: 1 }).then(async res => {\n                                this.getRecordList();\n                                this.$emit('openService', 'copy')\n                            }).catch(res => {\n                                this.$Message.error(res.msg);\n                            })\n                        }, 300);\n                    },\n                    onCancel: () => {}\n                });\n            },\n            openExpress () {\n                this.$Modal.confirm({\n                    title: '开通物流信息查询吗',\n                    content: '<p>确定要开通物流信息查询吗</p>',\n                    loading: true,\n                    onOk: () => {\n                        this.$Modal.remove();\n                        setTimeout(() => {\n                            serveOpnExpressApi().then(async res => {\n                                this.$Message.success('开通成功!');\n                                this.getRecordList();\n                                this.$emit('openService', 'dump')\n                            }).catch(res => {\n                                this.$Message.error(res.msg);\n                            })\n                        }, 300);\n                    },\n                    onCancel: () => {}\n                });\n            },\n            // 开通电子面单\n            openDump () {\n                this.exportTempAllList();\n                this.isDump = true;\n            },\n            // 选择\n            selectChange (tab) {\n                this.tableFrom.type = tab;\n                this.tableFrom.page = 1;\n                this.getList();\n            },\n            // 列表\n            getList () {\n                this.loading = true;\n                smsRecordApi(this.tableFrom).then(async res => {\n                    let data = res.data\n                    this.tableList = data.data;\n                    this.total = res.data.count;\n                    this.spinShow = false;\n                    this.loading = false;\n                }).catch(res => {\n                    this.spinShow = false;\n                    this.loading = false;\n                    this.$Message.error(res.msg);\n                })\n            },\n            pageChange (index) {\n                this.tableFrom.page = index;\n                this.getList();\n            },\n            // 表格搜索\n            userSearchs () {\n                this.getList();\n            },\n            handleSubmitDump (name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        serveOpnExpressApi(this.formInlineDump).then(async res => {\n                            this.$Message.success('开通成功!');\n                            this.getRecordList();\n                            this.$emit('openService', 'dump')\n                        }).catch(res => {\n                            this.$Message.error(res.msg);\n                        })\n                    } else {\n                        return false;\n                    }\n                })\n            }\n        }\n    }\n</script>\n<style lang=\"less\" scoped>\n    @aaa: ~'>>>';\n    .order_box /deep/.ivu-form-item-content{\n        margin-left: 50px!important;\n    }\n    .maxInpt{\n        max-width:400px;\n        margin-left:auto;\n        margin-right:auto;\n    }\n    .smsBox .page-account-top{\n        text-align: center;\n        margin: 70px 0 30px 0;\n    }\n    .note{\n        margin-top: 15px;\n    }\n    .tempImg{\n        cursor: pointer;\n        margin-left: 11px;\n        color: #1890FF;\n    }\n    .tabBox_img{\n        opacity: 0;\n        width: 38px;\n        height: 30px;\n        margin-top: -30px;\n        cursor: pointer;\n        img{\n            width: 100%;\n            height: 100%;\n        }\n    }\n    .width9{\n        width: 90%;\n    }\n    .width10{\n        width: 100%;\n    }\n    .wuBox{\n        width: 100%;\n    }\n    .wuSp1{\n        display: block;\n        text-align: center;\n        color: #000000;\n        font-size: 21px;\n        font-weight: 500;\n        line-height: 32px;\n        margin-top: 23px;\n        margin-bottom: 5px;\n    }\n    .wuSp2{\n        opacity: 45%;\n        font-weight: 400;\n        color: #000000;\n        line-height: 22px;\n        margin-bottom: 30px;\n    }\n    .page-account-top-tit{\n        font-size: 21px;\n        color: #1890FF;\n    }\n    .wuTu{\n        width: 295px;\n        height: 164px;\n        margin-top: 54px;\n        img{\n            width: 100%;\n            height: 100%;\n        }\n\n        + span {\n            margin-bottom: 20px;\n        }\n    }\n    .tempId{\n    @aaa .ivu-form-item-content{\n        text-align: left !important;\n    }\n    }\n</style>\n"]}]}