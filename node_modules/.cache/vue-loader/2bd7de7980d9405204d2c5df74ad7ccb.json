{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/app/wechat/reply/follow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/app/wechat/reply/follow.vue","mtime":1610681770000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZXR0aW5nIGZyb20gJ0Avc2V0dGluZycKaW1wb3J0IHsgcmVwbHlBcGksIGtleXdvcmRzaW5mb0FwaSB9IGZyb20gJ0AvYXBpL2FwcCcKLy8gaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnCmltcG9ydCBuZXdzQ2F0ZWdvcnkgZnJvbSAnQC9jb21wb25lbnRzL25ld3NDYXRlZ29yeS9pbmRleCcKaW1wb3J0IHsgZ2V0Q29va2llcyB9IGZyb20gJ0AvbGlicy91dGlsJwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnZm9sbG93JywKICAgIGNvbXBvbmVudHM6IHsgbmV3c0NhdGVnb3J5IH0sCiAgICBkYXRhICgpIHsKICAgICAgICBjb25zdCB2YWxpZGF0ZUNvbnRlbnQgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgICAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS50eXBlID09PSAndGV4dCcpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS5kYXRhLmNvbnRlbnQgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7floavlhpnop4TliJnlhoXlrrknKSkKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNvbnN0IHZhbGlkYXRlU3JjID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICAgICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUudHlwZSA9PT0gJ2ltYWdlJyAmJiB0aGlzLmZvcm1WYWxpZGF0ZS5kYXRhLnNyYyA9PT0gJycpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+35LiK5LygJykpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY29uc3QgdmFsaWRhdGVWYWwgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsYXJyLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXlkI7lm57ovaYnKSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkZWxmcm9tRGF0YToge30sCiAgICAgICAgICAgIGlzU2hvdzogZmFsc2UsCiAgICAgICAgICAgIG1heENvbHM6IDQsCiAgICAgICAgICAgIHNjcm9sbGVySGVpZ2h0OiAnNjAwJywKICAgICAgICAgICAgY29udGVudFRvcDogJzEzMCcsCiAgICAgICAgICAgIGNvbnRlbnRXaWR0aDogJzk4JScsCiAgICAgICAgICAgIG1vZGFsczogZmFsc2UsCiAgICAgICAgICAgIHZhbDogJycsCiAgICAgICAgICAgIGZvcm1hdEltZzogWydqcGcnLCAnanBlZycsICdwbmcnLCAnYm1wJywgJ2dpZiddLAogICAgICAgICAgICBmb3JtYXRWb2ljZTogWydtcDMnLCAnd21hJywgJ3dhdicsICdhbXInXSwKICAgICAgICAgICAgaGVhZGVyOiB7fSwKICAgICAgICAgICAgZm9ybVZhbGlkYXRlOiB7CiAgICAgICAgICAgICAgICBzdGF0dXM6IDEsCiAgICAgICAgICAgICAgICB0eXBlOiAnJywKICAgICAgICAgICAgICAgIGtleTogdGhpcy4kcm91dGUucGFyYW1zLmtleSB8fCAnJywKICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnJywKICAgICAgICAgICAgICAgICAgICBzcmM6ICcnLAogICAgICAgICAgICAgICAgICAgIGxpc3Q6IFtdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgaWQ6IDAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZmlsZVVybDogU2V0dGluZy5hcGlCYXNlVVJMICsgJy9maWxlL3VwbG9hZC8xJywKICAgICAgICAgICAgcnVsZVZhbGlkYXRlOiB7CiAgICAgICAgICAgICAgICB2YWw6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCB2YWxpZGF0b3I6IHZhbGlkYXRlVmFsLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgdHlwZTogWwogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nmtojmga/nsbvlnosnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgY29udGVudDogWwogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIHZhbGlkYXRvcjogdmFsaWRhdGVDb250ZW50LCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIHNyYzogWwogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIHZhbGlkYXRvcjogdmFsaWRhdGVTcmMsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgbGFiZWxhcnI6IFtdCiAgICAgICAgfQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgJHJvdXRlICh0bywgZnJvbSkgewogICAgICAgICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmtleSB8fCB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09ICcwJykgewogICAgICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUua2V5ID0gdGhpcy4kcm91dGUucGFyYW1zLmtleQogICAgICAgICAgICAgICAgdGhpcy5kZXRhaWxzKCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMubGFiZWxhcnIgPSBbXQogICAgICAgICAgICAgICAgdGhpcy4kcmVmc1snZm9ybVZhbGlkYXRlJ10ucmVzZXRGaWVsZHMoKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgaW1nVXJsICgpIHsKICAgICAgICAgICAgY29uc3Qgc2VhcmNoID0gJy9hZG1pbmFwaS8nCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gU2V0dGluZy5hcGlCYXNlVVJMLmluZGV4T2Yoc2VhcmNoKQogICAgICAgICAgICByZXR1cm4gU2V0dGluZy5hcGlCYXNlVVJMLnN1YnN0cmluZygwLCBzdGFydCkvLyDmiKrlj5blrZfnrKbkuLIKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCAoKSB7CiAgICAgICAgdGhpcy5nZXRUb2tlbigpCiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5rZXkgfHwgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09ICcwJykpIHsKICAgICAgICAgICAgdGhpcy5kZXRhaWxzKCkKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdldENlbnRMaXN0ICh2YWwpIHsKICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuZGF0YS5saXN0ID0gdmFsLm5ldwogICAgICAgICAgICB0aGlzLm1vZGFscyA9IGZhbHNlCiAgICAgICAgfSwKICAgICAgICBhZGRsYWJlbCAoKSB7CiAgICAgICAgICAgIGxldCBjb3VudCA9IHRoaXMubGFiZWxhcnIuaW5kZXhPZih0aGlzLnZhbCkKICAgICAgICAgICAgaWYgKGNvdW50ID09PSAtMSkgewogICAgICAgICAgICAgICAgdGhpcy5sYWJlbGFyci5wdXNoKHRoaXMudmFsKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMudmFsID0gJycKICAgICAgICB9LAogICAgICAgIGhhbmRsZUNsb3NlIChldmVudCwgbmFtZSkgewogICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMubGFiZWxhcnIuaW5kZXhPZihuYW1lKQogICAgICAgICAgICB0aGlzLmxhYmVsYXJyLnNwbGljZShpbmRleCwgMSkKICAgICAgICB9LAogICAgICAgIC8vIOivpuaDhQogICAgICAgIGRldGFpbHMgKCkgewogICAgICAgICAgICBsZXQgdXJsID0gJycKICAgICAgICAgICAgbGV0IGRhdGEgPSB7fQogICAgICAgICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICB1cmwgPSAnYXBwL3dlY2hhdC9rZXl3b3JkLycgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgICAgICAgICAgICAgIGRhdGEgPSB7fQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdXJsID0gJ2FwcC93ZWNoYXQvcmVwbHknCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHRoaXMuZm9ybVZhbGlkYXRlLmtleQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBrZXl3b3Jkc2luZm9BcGkodXJsLCBkYXRhKS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgICAgICAgICAgICBsZXQgaW5mbyA9IHJlcy5kYXRhLmluZm8gfHwge30KICAgICAgICAgICAgICAgIGxldCBkYXRhID0gaW5mby5kYXRhIHx8IHt9CiAgICAgICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZSA9IHsKICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGluZm8uc3RhdHVzLAogICAgICAgICAgICAgICAgICAgIHR5cGU6IGluZm8udHlwZSwKICAgICAgICAgICAgICAgICAgICBrZXk6IGluZm8ua2V5LAogICAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogZGF0YS5jb250ZW50LAogICAgICAgICAgICAgICAgICAgICAgICBzcmM6IGRhdGEuc3JjLAogICAgICAgICAgICAgICAgICAgICAgICBsaXN0OiBkYXRhLmxpc3QKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGlkOiBpbmZvLmlkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYWJlbGFyciA9IHRoaXMuZm9ybVZhbGlkYXRlLmtleS5zcGxpdCgnLCcpIHx8IFtdCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KS5jYXRjaChyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8g6YCJ5oup5Zu+5paHCiAgICAgICAgY2hhbmdlUGljICgpIHsKICAgICAgICAgICAgdGhpcy5tb2RhbHMgPSB0cnVlCiAgICAgICAgfSwKICAgICAgICAvLyDkuIvmi4npgInmi6kKICAgICAgICBSdWxlRmFjdG9yICh0eXBlKSB7CiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgICBjYXNlICd0ZXh0JzoKICAgICAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmRhdGEuc3JjID0gJycKICAgICAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmRhdGEubGlzdCA9IFtdCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBjYXNlICduZXdzJzoKICAgICAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmRhdGEuc3JjID0gJycKICAgICAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmRhdGEuY29udGVudCA9ICcnCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuZGF0YS5saXN0ID0gW10KICAgICAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmRhdGEuY29udGVudCA9ICcnCiAgICAgICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5kYXRhLnNyYyA9ICcnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gdGhpcy4kcmVmc1snZm9ybVZhbGlkYXRlJ10ucmVzZXRGaWVsZHMoKTsKICAgICAgICB9LAogICAgICAgIC8vIOS4iuS8oOWktOmDqHRva2VuCiAgICAgICAgZ2V0VG9rZW4gKCkgewogICAgICAgICAgICB0aGlzLmhlYWRlclsnQXV0aG9yaS16YXRpb24nXSA9ICdCZWFyZXIgJyArIGdldENvb2tpZXMoJ3Rva2VuJykKICAgICAgICB9LAogICAgICAgIC8vIOS4iuS8oOaIkOWKnwogICAgICAgIGhhbmRsZVN1Y2Nlc3MgKHJlcywgZmlsZSkgewogICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5kYXRhLnNyYyA9IHJlcy5kYXRhLnNyYwogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGhhbmRsZUZvcm1hdEVycm9yIChmaWxlKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS50eXBlID09PSAnaW1hZ2UnKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+ivt+S4iuS8oGJtcC9wbmcvanBlZy9qcGcvZ2lm5qC85byP55qE5Zu+54mHJykKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygn6K+35LiK5LygbXAzL3dtYS93YXYvYW1y5qC85byP55qE6K+t6Z+zJykKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlTWF4U2l6ZSAoZmlsZSkgewogICAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+ivt+S4iuS8oOaWh+S7tjJN5Lul5YaF55qE5paH5Lu2JykKICAgICAgICB9LAogICAgICAgIC8vIOS/neWtmAogICAgICAgIHN1Ym1lbnVzIChuYW1lKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnNbbmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHt9CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5rZXkgPSB0aGlzLmxhYmVsYXJyLmpvaW4oJywnKQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnYXBwL3dlY2hhdC9rZXl3b3JkLycgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHRoaXMuZm9ybVZhbGlkYXRlCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnYXBwL3dlY2hhdC9rZXl3b3JkLycgKyB0aGlzLmZvcm1WYWxpZGF0ZS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogdGhpcy5mb3JtVmFsaWRhdGUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXBseUFwaShkYXRhKS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3BlcmF0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpCiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8g5L+d5a2Y5oiQ5Yqf5pON5L2cCiAgICAgICAgb3BlcmF0aW9uICgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09ICcwJykgewogICAgICAgICAgICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmj5DnpLonLAogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICc8cD7mmK/lkKbnu6fnu63mt7vliqDvvJ88L3A+JywKICAgICAgICAgICAgICAgICAgICBva1RleHQ6ICfmmK8nLAogICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQ6ICflkKYnLAogICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgb25PazogKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJE1vZGFsLnJlbW92ZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhYmVsYXJyID0gW10KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsID0gJycKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnNbJ2Zvcm1WYWxpZGF0ZSddLnJlc2V0RmllbGRzKCkKICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsOiAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kTW9kYWwucmVtb3ZlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9hZG1pbi9hcHAvd2VjaGF0L3JlcGx5L2tleXdvcmQnIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09ICcwJykgewogICAgICAgICAgICAgICAgdGhpcy4kTW9kYWwucmVtb3ZlKCkKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9hZG1pbi9hcHAvd2VjaGF0L3JlcGx5L2tleXdvcmQnIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["follow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"follow.vue","sourceRoot":"src/pages/app/wechat/reply","sourcesContent":["<template>\n    <div>\n        <div class=\"i-layout-page-header\">\n            <div class=\"i-layout-page-header\">\n              <router-link :to=\"{path:'/admin/app/wechat/reply/keyword'}\"><Button icon=\"ios-arrow-back\" size=\"small\"  class=\"mr20\" v-show=\"$route.params.id\">返回</Button></router-link>\n              <span class=\"ivu-page-header-title mr20\" v-text=\"($route.params.key || $route.params.id !== '0')?'关键字编辑':'关键字添加'\" v-if=\"$route.params.id\"></span>\n              <span class=\"ivu-page-header-title mr20\" v-text=\"$route.meta.title\" v-else></span>\n            </div>\n        </div>\n        <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n            <!-- 公众号设置 -->\n            <Row :gutter=\"24\" type=\"flex\">\n                <Col span=\"24\" class=\"ml40\">\n                    <!-- 预览功能 -->\n                    <Col :span=\"24\">\n                        <Col :xl=\"7\" :lg=\"7\" :md=\"22\" :sm=\"22\" :xs=\"22\" class=\"left mb15\">\n                            <img class=\"top\" src=\"../../../../assets/images/mobilehead.png\"/>\n                            <img class=\"bottom\" src=\"../../../../assets/images/mobilefoot.png\"/>\n                            <div class=\"centent\">\n                                <div class=\"time-wrapper\"><span class=\"time\">9:36</span></div>\n                                <div class=\"view-item text-box clearfix\" v-if=\"formValidate.type !== 'news'\">\n                                    <div class=\"avatar fl\"><img src=\"../../../../assets/images/head.gif\"/></div>\n                                    <div class=\"box-content fl\">\n                                        <span v-text=\"formValidate.data.content\"\n                                              v-if=\"formValidate.type === 'text'\"></span>\n                                        <div class=\"box-content_pic\" v-if=\"formValidate.data.src\"><img\n                                                :src=\"formValidate.data.src?imgUrl+formValidate.data.src:''\"></div>\n                                    </div>\n                                </div>\n                                <div v-if=\"formValidate.type === 'news'\">\n                                    <div  v-for=\"(j, i) in formValidate.data.list\" :key=\"i\" >\n                                        <div  v-if=\"i === 0\">\n                                            <div class=\"news_pic\" :style=\"{backgroundImage: 'url(' + (j.image_input[0]) + ')',backgroundSize:'100% 100%'}\"></div>\n                                            <span class=\"news_sp\">{{j.title}}</span>\n                                        </div>\n                                        <div v-else class=\"news_cent\">\n                                            <span class=\"news_sp1\" v-if=\"j.synopsis\">{{j.title}}</span>\n                                            <div class=\"news_cent_img\" v-if=\"j.image_input.length!==0\"><img :src=\"j.image_input[0]\"></div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </Col>\n                        <Col :xl=\"11\" :lg=\"12\" :md=\"22\" :sm=\"22\" :xs=\"22\">\n                            <Col span=\"24\" class=\"userAlert\">\n                                <div class=\"box-card right\">\n                                    <Form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\"\n                                          :label-width=\"100\" class=\"mt20\" @submit.native.prevent>\n                                        <FormItem label=\"关键字：\" prop=\"val\" v-if=\"$route.params.id\">\n                                            <div class=\"arrbox\">\n                                                <!--:closable=\"$route.params.id==='0'? true : false\"-->\n                                                <Tag  @on-close=\"handleClose\" :name=\"item\" :closable=\"true\"\n                                                     v-for=\"(item, index) in labelarr\" :key=\"index\">{{item}}\n                                                </Tag>\n                                                <!--:readonly=\"$route.params.id!=='0'\"-->\n                                                <input class=\"arrbox_ip\" v-model=\"val\" placeholder=\"输入后回车\"\n                                                       style=\"width: 90%;\" @keyup.enter=\"addlabel\"></input>\n                                            </div>\n                                        </FormItem>\n                                        <FormItem label=\"消息状态：\">\n                                            <RadioGroup v-model=\"formValidate.status\">\n                                                <Radio :label=1>启用</Radio>\n                                                <Radio :label=0>禁用</Radio>\n                                            </RadioGroup>\n                                        </FormItem>\n                                        <FormItem label=\"消息类型：\" prop=\"type\">\n                                            <Select v-model=\"formValidate.type\" placeholder=\"请选择规则状态\"\n                                                    style=\"width: 90%;\" @on-change=\"RuleFactor(formValidate.type)\">\n                                                <Option value=\"text\">文字消息</Option>\n                                                <Option value=\"image\">图片消息</Option>\n                                                <Option value=\"news\">图文消息</Option>\n                                                <Option value=\"voice\">声音消息</Option>\n                                            </Select>\n                                        </FormItem>\n                                        <FormItem label=\"消息内容：\" prop=\"content\" v-if=\"formValidate.type === 'text'\">\n                                            <textarea v-model=\"formValidate.data.content\" placeholder=\"请填写消息内容\"\n                                                   style=\"width: 90%;\"></textarea>\n                                        </FormItem>\n                                        <FormItem label=\"选取图文：\"  v-if=\"formValidate.type === 'news'\">\n                                            <Button type=\"info\" @click=\"changePic\">选择图文消息</Button>\n                                        </FormItem>\n                                        <FormItem :label=\"formValidate.type === 'image'?'图片地址：':'语音地址：'\" prop=\"src\"\n                                                  v-if=\"formValidate.type === 'image' || formValidate.type === 'voice'\">\n                                            <div class=\"acea-row row-middle\">\n                                                <Input readonly=\"readonly\" placeholder=\"default size\"\n                                                       style=\"width: 75%;\" class=\"mr15\"\n                                                       v-model=\"formValidate.data.src\"/>\n                                                <Upload :show-upload-list=\"false\" :action=\"fileUrl\"\n                                                        :on-success=\"handleSuccess\"\n                                                        :format=\"formValidate.type === 'image' ? formatImg:formatVoice\"\n                                                        :max-size=\"2048\"\n                                                        :headers=\"header\"\n                                                        :on-format-error=\"handleFormatError\"\n                                                        :on-exceeded-size=\"handleMaxSize\"\n                                                        class=\"mr20\" style=\"margin-top: 1px\">\n                                                    <Button type=\"primary\">上传</Button>\n                                                </Upload>\n                                            </div>\n                                            <span v-show=\"formValidate.type === 'image'\">文件最大2Mb，支持bmp/png/jpeg/jpg/gif格式</span>\n                                            <span v-show=\"formValidate.type === 'voice'\">文件最大2Mb，支持mp3/wma/wav/amr格式,播放长度不超过60s</span>\n                                        </FormItem>\n                                    </Form>\n\n                                </div>\n                            </Col>\n                            <Col :span=\"24\">\n                                <div class=\"acea-row row-center\">\n                                    <Button type=\"primary\" class=\"mr20\"\n                                            @click=\"submenus('formValidate')\">保存并发布\n                                    </Button>\n                                </div>\n                            </Col>\n                        </Col>\n                    </Col>\n                </Col>\n            </Row>\n        </Card>\n\n        <!--图文消息 -->\n        <Modal v-model=\"modals\" scrollable title=\"发送消息\" width=\"1200\" height=\"800\" footer-hide class=\"modelBox\">\n            <news-category v-if=\"modals\" @getCentList=\"getCentList\"  :scrollerHeight=\"scrollerHeight\" :contentTop=\"contentTop\" :contentWidth=\"contentWidth\" :maxCols=\"maxCols\"></news-category>\n        </Modal>\n    </div>\n</template>\n\n<script>\n    import Setting from '@/setting'\n    import { replyApi, keywordsinfoApi } from '@/api/app'\n    // import { mapActions } from 'vuex'\n    import newsCategory from '@/components/newsCategory/index'\n    import { getCookies } from '@/libs/util'\n    export default {\n        name: 'follow',\n        components: { newsCategory },\n        data () {\n            const validateContent = (rule, value, callback) => {\n                if (this.formValidate.type === 'text') {\n                    if (this.formValidate.data.content === '') {\n                        callback(new Error('请填写规则内容'))\n                    } else {\n                        callback()\n                    }\n                }\n            }\n            const validateSrc = (rule, value, callback) => {\n                if (this.formValidate.type === 'image' && this.formValidate.data.src === '') {\n                    callback(new Error('请上传'))\n                } else {\n                    callback()\n                }\n            }\n            const validateVal = (rule, value, callback) => {\n                if (this.labelarr.length === 0) {\n                    callback(new Error('请输入后回车'))\n                } else {\n                    callback()\n                }\n            }\n            return {\n                delfromData: {},\n                isShow: false,\n                maxCols: 4,\n                scrollerHeight: '600',\n                contentTop: '130',\n                contentWidth: '98%',\n                modals: false,\n                val: '',\n                formatImg: ['jpg', 'jpeg', 'png', 'bmp', 'gif'],\n                formatVoice: ['mp3', 'wma', 'wav', 'amr'],\n                header: {},\n                formValidate: {\n                    status: 1,\n                    type: '',\n                    key: this.$route.params.key || '',\n                    data: {\n                        content: '',\n                        src: '',\n                        list: []\n                    },\n                    id: 0\n                },\n                fileUrl: Setting.apiBaseURL + '/file/upload/1',\n                ruleValidate: {\n                    val: [\n                        { required: true, validator: validateVal, trigger: 'change' }\n                    ],\n                    type: [\n                        { required: true, message: '请选择消息类型', trigger: 'change' }\n                    ],\n                    content: [\n                        { required: true, validator: validateContent, trigger: 'blur' }\n                    ],\n                    src: [\n                        { required: true, validator: validateSrc, trigger: 'change' }\n                    ]\n                },\n                labelarr: []\n            }\n        },\n        watch: {\n            $route (to, from) {\n                if (this.$route.params.key || this.$route.params.id !== '0') {\n                    this.formValidate.key = this.$route.params.key\n                    this.details()\n                } else {\n                    this.labelarr = []\n                    this.$refs['formValidate'].resetFields()\n                }\n            }\n        },\n        computed: {\n            imgUrl () {\n                const search = '/adminapi/'\n                const start = Setting.apiBaseURL.indexOf(search)\n                return Setting.apiBaseURL.substring(0, start)// 截取字符串\n            }\n        },\n        mounted () {\n            this.getToken()\n            if (this.$route.params.key || (this.$route.params.id && this.$route.params.id !== '0')) {\n                this.details()\n            }\n        },\n        methods: {\n            getCentList (val) {\n                this.formValidate.data.list = val.new\n                this.modals = false\n            },\n            addlabel () {\n                let count = this.labelarr.indexOf(this.val)\n                if (count === -1) {\n                    this.labelarr.push(this.val)\n                }\n                this.val = ''\n            },\n            handleClose (event, name) {\n                const index = this.labelarr.indexOf(name)\n                this.labelarr.splice(index, 1)\n            },\n            // 详情\n            details () {\n                let url = ''\n                let data = {}\n                if (this.$route.params.id) {\n                    url = 'app/wechat/keyword/' + this.$route.params.id\n                    data = {}\n                } else {\n                    url = 'app/wechat/reply'\n                    data = {\n                        key: {\n                            key: this.formValidate.key\n                        }\n                    }\n                }\n                keywordsinfoApi(url, data).then(async res => {\n                    let info = res.data.info || {}\n                    let data = info.data || {}\n                    this.formValidate = {\n                        status: info.status,\n                        type: info.type,\n                        key: info.key,\n                        data: {\n                            content: data.content,\n                            src: data.src,\n                            list: data.list\n                        },\n                        id: info.id\n                    }\n                    if (this.$route.params.id) {\n                        this.labelarr = this.formValidate.key.split(',') || []\n                    };\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 选择图文\n            changePic () {\n                this.modals = true\n            },\n            // 下拉选择\n            RuleFactor (type) {\n                switch (type) {\n                case 'text':\n                    this.formValidate.data.src = ''\n                    this.formValidate.data.list = []\n                    break\n                case 'news':\n                    this.formValidate.data.src = ''\n                    this.formValidate.data.content = ''\n                    break\n                default:\n                    this.formValidate.data.list = []\n                    this.formValidate.data.content = ''\n                    this.formValidate.data.src = ''\n                }\n                // this.$refs['formValidate'].resetFields();\n            },\n            // 上传头部token\n            getToken () {\n                this.header['Authori-zation'] = 'Bearer ' + getCookies('token')\n            },\n            // 上传成功\n            handleSuccess (res, file) {\n                if (res.status === 200) {\n                    this.formValidate.data.src = res.data.src\n                    this.$Message.success(res.msg)\n                } else {\n                    this.$Message.error(res.msg)\n                }\n            },\n            handleFormatError (file) {\n                if (this.formValidate.type === 'image') {\n                    this.$Message.warning('请上传bmp/png/jpeg/jpg/gif格式的图片')\n                } else {\n                    this.$Message.warning('请上传mp3/wma/wav/amr格式的语音')\n                }\n            },\n            handleMaxSize (file) {\n                this.$Message.warning('请上传文件2M以内的文件')\n            },\n            // 保存\n            submenus (name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        let data = {}\n                        if (this.$route.params.id) {\n                            this.formValidate.key = this.labelarr.join(',')\n                            data = {\n                                url: 'app/wechat/keyword/' + this.$route.params.id,\n                                key: this.formValidate\n                            }\n                        } else {\n                            data = {\n                                url: 'app/wechat/keyword/' + this.formValidate.id,\n                                key: this.formValidate\n                            }\n                        }\n                        replyApi(data).then(async res => {\n                            this.operation()\n                            this.$Message.success(res.msg)\n                        }).catch(res => {\n                            this.$Message.error(res.msg)\n                        })\n                    } else {\n                        return false\n                    }\n                })\n            },\n            // 保存成功操作\n            operation () {\n                if (this.$route.params.id && this.$route.params.id === '0') {\n                    this.$Modal.confirm({\n                        title: '提示',\n                        content: '<p>是否继续添加？</p>',\n                        okText: '是',\n                        cancelText: '否',\n                        loading: true,\n                        onOk: () => {\n                            setTimeout(() => {\n                                this.$Modal.remove()\n                                this.labelarr = []\n                                this.val = ''\n                                this.$refs['formValidate'].resetFields()\n                            }, 1000)\n                        },\n                        onCancel: () => {\n                            setTimeout(() => {\n                                this.$Modal.remove()\n                                this.$router.push({ path: '/admin/app/wechat/reply/keyword' })\n                            }, 500)\n                        }\n                    })\n                } else if (this.$route.params.id && this.$route.params.id !== '0') {\n                    this.$Modal.remove()\n                    this.$router.push({ path: '/admin/app/wechat/reply/keyword' })\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n    * {\n        -moz-user-select: none; /*火狐*/\n        -webkit-user-select: none; /*webkit浏览器*/\n        -ms-user-select: none; /*IE10*/\n        -khtml-user-select: none; /*早期浏览器*/\n        user-select: none;\n    }\n\n    .arrbox {\n        background-color: white;\n        font-size: 12px;\n        border: 1px solid #dcdee2;\n        border-radius: 6px;\n        margin-bottom: 0px;\n        padding:0 5px;\n        text-align: left;\n        box-sizing border-box;\n        width: 90%;\n    }\n\n    .arrbox_ip {\n        font-size: 12px;\n        border: none;\n        box-shadow: none;\n        outline: none;\n        background-color: transparent;\n        padding: 0;\n        margin: 0;\n        width: auto !important;\n        max-width: inherit;\n        min-width: 80px;\n        vertical-align: top;\n        height: 30px;\n        color: #34495e;\n        margin: 2px;\n        line-height: 30px;\n    }\n\n    .left {\n        min-width: 390px;\n        min-height: 550px;\n        position: relative;\n        padding-left: 40px;\n    }\n\n    .top {\n        position: absolute;\n        top: 0px;\n    }\n\n    .bottom {\n        position: absolute;\n        bottom: 0px;\n    }\n\n    .centent {\n        background: #F4F5F9;\n        min-height: 438px;\n        position: absolute;\n        top: 63px;\n        width: 320px;\n        padding: 15px;\n        box-sizing: border-box;\n    }\n\n    .right {\n        background: #fff;\n        min-height: 300px;\n    }\n\n    .box-content {\n        position: relative;\n        max-width: 60%;\n        min-height: 40px;\n        margin-left: 15px;\n        padding: 10px;\n        box-sizing: border-box;\n        border: 1px solid #ccc;\n        word-break: break-all;\n        word-wrap: break-word;\n        line-height: 1.5;\n        border-radius: 5px;\n    }\n\n    .box-content_pic {\n        width: 100%;\n    }\n\n    .box-content_pic img {\n        width: 100%;\n        height: auto;\n    }\n\n    .box-content:before {\n        content: '';\n        position: absolute;\n        left: -13px;\n        top: 11px;\n        display: block;\n        width: 0;\n        height: 0;\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        border-top: 10px solid #ccc;\n        -webkit-transform: rotate(90deg);\n        transform: rotate(90deg);\n    }\n\n    .box-content:after {\n        content: '';\n        content: '';\n        position: absolute;\n        left: -12px;\n        top: 11px;\n        display: block;\n        width: 0;\n        height: 0;\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        border-top: 10px solid #f5f5f5;\n        -webkit-transform: rotate(90deg);\n        transform: rotate(90deg);\n    }\n\n    .time-wrapper {\n        margin-bottom: 10px;\n        text-align: center;\n    }\n\n    .time {\n        display: inline-block;\n        color: #f5f5f5;\n        background: rgba(0, 0, 0, .3);\n        padding: 3px 8px;\n        border-radius: 3px;\n        font-size: 12px;\n    }\n\n    .text-box {\n        display: flex;\n    }\n\n    .avatar {\n        width: 40px;\n        height: 40px;\n    }\n\n    .avatar img {\n        width: 100%;\n        height: 100%;\n    }\n    .modelBox\n       >>> .ivu-modal-body\n         padding 0 16px 16px 16px !important\n    .news_pic\n        width: 100%\n        height: 150px\n        overflow: hidden\n        position: relative\n        background-size: 100%\n        background-position: center center\n        border-radius: 5px 5px 0 0\n        padding 10px\n        box-sizing border-box\n        display flex\n        flex-direction column\n        align-items: flex-end\n    .news_sp\n        font-size 12px\n        color #000000\n        background #fff\n        width 100%\n        height 38px\n        line-height 38px\n        padding 0 12px\n        box-sizing border-box\n        display: block;\n    .news_cent\n        width 100%\n        height auto\n        background #fff\n        border-top: 1px dashed #eee;\n        display flex\n        padding 10px\n        box-sizing border-box\n        justify-content: space-between\n        .news_sp1\n            font-size 12px\n            color #000000\n            width: 71%;\n        .news_cent_img\n            width 81px\n            height 46px\n            border-radius 6px\n            overflow hidden\n            img\n                width 100%\n                height 100%\n</style>\n"]}]}