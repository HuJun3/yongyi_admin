{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/setting/devise/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/setting/devise/list.vue","mtime":1610682314000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRpeUxpc3QsIGRpeURlbCwgc2V0U3RhdHVzLCByZWNvdmVyeSB9IGZyb20gJ0AvYXBpL2RpeScKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ2RldmlzZV9saXN0JywKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGdyaWQ6IHsKICAgICAgICAgICAgICAgIHhsOiA3LAogICAgICAgICAgICAgICAgbGc6IDcsCiAgICAgICAgICAgICAgICBtZDogMTIsCiAgICAgICAgICAgICAgICBzbTogMjQsCiAgICAgICAgICAgICAgICB4czogMjQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgIGNvbHVtbnMxOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfpobXpnaJJRCcsCiAgICAgICAgICAgICAgICAgICAga2V5OiAnaWQnLAogICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAxMjAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfpobXpnaLlkI3np7AnLAogICAgICAgICAgICAgICAgICAgIGtleTogJ25hbWUnLAogICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAzMDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfpobXpnaLnsbvlnosnLAogICAgICAgICAgICAgICAgICAgIHNsb3Q6ICdyZWdpb24nLAogICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAxMjAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmt7vliqDml7bpl7QnLAogICAgICAgICAgICAgICAgICAgIGtleTogJ2FkZF90aW1lJywKICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogMTIwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5pu05paw5pe26Ze0JywKICAgICAgICAgICAgICAgICAgICBrZXk6ICd1cGRhdGVfdGltZScsCiAgICAgICAgICAgICAgICAgICAgbWluV2lkdGg6IDEyMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+aTjeS9nCcsCiAgICAgICAgICAgICAgICAgICAgc2xvdDogJ2FjdGlvbicsCiAgICAgICAgICAgICAgICAgICAgZml4ZWQ6ICdyaWdodCcsCiAgICAgICAgICAgICAgICAgICAgbWluV2lkdGg6IDMwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdLAogICAgICAgICAgICBsaXN0OiBbXQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkICgpIHsKICAgICAgICB0aGlzLmdldExpc3QoKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvLyDojrflj5bliJfooagKICAgICAgICBnZXRMaXN0ICgpIHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICBkaXlMaXN0KCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgIHRoaXMubGlzdCA9IHJlcy5kYXRhLmxpc3QKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOe8lui+kQogICAgICAgIGVkaXQgKHJvdykgewogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VzZXJJbmZvL3NldFBhZ2VOYW1lJywgcm93LnRlbXBsYXRlX25hbWUgfHwgJ21vcmVuJyk7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9hZG1pbi9zZXR0aW5nL3BhZ2VzL2RpeScsIHF1ZXJ5OiB7IGlkOiByb3cuaWQsIG5hbWU6IHJvdy50ZW1wbGF0ZV9uYW1lIHx8ICdtb3JlbicgfSB9KTsKICAgICAgICB9LAogICAgICAgIC8vIOWIoOmZpAogICAgICAgIGRlbCAocm93LCB0aXQsIG51bSkgewogICAgICAgICAgICBsZXQgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgICAgICAgICB0aXRsZTogdGl0LAogICAgICAgICAgICAgICAgbnVtOiBudW0sCiAgICAgICAgICAgICAgICB1cmw6IGBkaXkvZGVsLyR7cm93LmlkfWAsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgICAgICAgICAgaWRzOiAnJwogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLiRtb2RhbFN1cmUoZGVsZnJvbURhdGEpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgLy8g5L2/55So5qih5p2/CiAgICAgICAgc2V0U3RhdHVzIChyb3cpIHsKICAgICAgICAgICAgc2V0U3RhdHVzKHJvdy5pZCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHJlY292ZXJ5IChyb3cpIHsKICAgICAgICAgICAgcmVjb3Zlcnkocm93LmlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/pages/setting/devise","sourcesContent":["<template>\n    <div>\n        <div class=\"i-layout-page-header\">\n            <div class=\"i-layout-page-header\">\n                <span class=\"ivu-page-header-title\">{{$route.meta.title}}</span>\n            </div>\n        </div>\n        <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n            <Table :columns=\"columns1\" :data=\"list\" ref=\"table\" class=\"mt25\"\n                   :loading=\"loading\" highlight-row\n                   no-userFrom-text=\"暂无数据\"\n                   no-filtered-userFrom-text=\"暂无筛选结果\">\n                <template slot-scope=\"{ row, index }\" slot=\"region\">\n                    <div class=\"font-blue\">首页</div>\n                </template>\n                <template slot-scope=\"{ row, index }\" slot=\"action\">\n                    <a @click=\"edit(row)\" v-if=\"row.status\">编辑</a>\n                    <div  v-if=\"row.id !=1\" style=\"display: inline-block\">\n                        <Divider type=\"vertical\" v-if=\"row.status\"/>\n                        <a @click=\"del(row,'删除此模板',index)\">删除</a>\n                    </div>\n                    <div style=\"display: inline-block\" v-if=\"row.status != 1\">\n                        <Divider type=\"vertical\" v-if=\"row.id !=1\"/>\n                        <a @click=\"setStatus(row,index)\">设为首页</a>\n                    </div>\n                    <div style=\"display: inline-block\">\n                        <Divider type=\"vertical\"/>\n                        <a @click=\"recovery(row,index)\">恢复初始设置</a>\n                    </div>\n                </template>\n\n            </Table>\n        </Card>\n    </div>\n</template>\n\n<script>\n    import { diyList, diyDel, setStatus, recovery } from '@/api/diy'\n    import { mapState } from 'vuex';\n    export default {\n        name: 'devise_list',\n        data () {\n            return {\n                grid: {\n                    xl: 7,\n                    lg: 7,\n                    md: 12,\n                    sm: 24,\n                    xs: 24\n                },\n                loading: false,\n                columns1: [\n                    {\n                        title: '页面ID',\n                        key: 'id',\n                        minWidth: 120\n                    },\n                    {\n                        title: '页面名称',\n                        key: 'name',\n                        minWidth: 300\n                    },\n                    {\n                        title: '页面类型',\n                        slot: 'region',\n                        minWidth: 120\n                    },\n                    {\n                        title: '添加时间',\n                        key: 'add_time',\n                        minWidth: 120\n                    },\n                    {\n                        title: '更新时间',\n                        key: 'update_time',\n                        minWidth: 120\n                    },\n                    {\n                        title: '操作',\n                        slot: 'action',\n                        fixed: 'right',\n                        minWidth: 300\n                    }\n                ],\n                list: []\n            }\n        },\n        created () {\n            this.getList()\n        },\n        methods: {\n            // 获取列表\n            getList () {\n                this.loading = true\n                diyList().then(res => {\n                    this.loading = false\n                    this.list = res.data.list\n                })\n            },\n            // 编辑\n            edit (row) {\n                this.$store.commit('userInfo/setPageName', row.template_name || 'moren');\n                this.$router.push({ path: '/admin/setting/pages/diy', query: { id: row.id, name: row.template_name || 'moren' } });\n            },\n            // 删除\n            del (row, tit, num) {\n                let delfromData = {\n                    title: tit,\n                    num: num,\n                    url: `diy/del/${row.id}`,\n                    method: 'DELETE',\n                    ids: ''\n                };\n                this.$modalSure(delfromData).then((res) => {\n                    this.getList()\n                }).catch(res => {\n                    this.$Message.error(res.msg);\n                });\n            },\n            // 使用模板\n            setStatus (row) {\n                setStatus(row.id).then(res => {\n                    this.$Message.success(res.msg);\n                    this.getList()\n                })\n            },\n            recovery (row) {\n                recovery(row.id).then(res => {\n                    this.$Message.success(res.msg);\n                    this.getList()\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}