{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/setting/systemMenus/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/setting/systemMenus/index.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKaW1wb3J0IHsgZ2V0VGFibGUsIG1lbnVzRGV0YWlsc0FwaSwgaXNTaG93QXBpLCBlZGl0TWVudXMgfSBmcm9tICdAL2FwaS9zeXN0ZW1NZW51cycKaW1wb3J0IGZvcm1DcmVhdGUgZnJvbSAnQGZvcm0tY3JlYXRlL2l2aWV3JwppbXBvcnQgbWVudXNGcm9tIGZyb20gJy4vY29tcG9uZW50cy9tZW51c0Zyb20nCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdzeXN0ZW1NZW51cycsCiAgICBkYXRhICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzcGluU2hvdzogZmFsc2UsCiAgICAgICAgICAgIGdyaWQ6IHsKICAgICAgICAgICAgICAgIHhsOiA3LAogICAgICAgICAgICAgICAgbGc6IDcsCiAgICAgICAgICAgICAgICBtZDogMTIsCiAgICAgICAgICAgICAgICBzbTogMjQsCiAgICAgICAgICAgICAgICB4czogMjQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcm9sZURhdGE6IHsKICAgICAgICAgICAgICAgIGlzX3Nob3c6ICcnLAogICAgICAgICAgICAgICAga2V5d29yZDogJycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgICAgICAgIEZyb21EYXRhOiBudWxsLAogICAgICAgICAgICBpY29uczogJycsCiAgICAgICAgICAgIGZvcm1WYWxpZGF0ZToge30sCiAgICAgICAgICAgIHRpdGxlRnJvbTogJycsCiAgICAgICAgICAgIG1vZGFsVGl0bGVTczogJycKICAgICAgICB9CiAgICB9LAogICAgY29tcG9uZW50czogeyBtZW51c0Zyb20sIGZvcm1DcmVhdGU6IGZvcm1DcmVhdGUuJGZvcm0oKSB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBTdGF0ZSgnbWVkaWEnLCBbCiAgICAgICAgICAgICdpc01vYmlsZScKICAgICAgICBdKSwKICAgICAgICBsYWJlbFdpZHRoICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyB1bmRlZmluZWQgOiA3NQogICAgICAgIH0sCiAgICAgICAgbGFiZWxQb3NpdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gJ3RvcCcgOiAncmlnaHQnCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQgKCkgewogICAgICAgIC8vIHRoaXMuZm9ybVZhbGlkYXRlLmF1dGhfdHlwZSA9ICcxJzsKICAgICAgICB0aGlzLmdldERhdGEoKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvLyDkv67mlLnop4TliJnnirbmgIEKICAgICAgICBvbmNoYW5nZUlzU2hvdyAocm93KSB7CiAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgaWQ6IHJvdy5pZCwKICAgICAgICAgICAgICAgIGlzX3Nob3c6IHJvdy5pc19zaG93CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaXNTaG93QXBpKGRhdGEpLnRoZW4oYXN5bmMgcmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21lbnVzL2dldE1lbnVzTmF2TGlzdCcpCiAgICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvLyDor7fmsYLliJfooagKICAgICAgICBnZXRMaXN0ICgpIHsKICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLiRvcHRpb25zLmRhdGEoKS5mb3JtVmFsaWRhdGUpCiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YSgpCiAgICAgICAgfSwKICAgICAgICAvLyDmuIXpmaTooajljZXmlbDmja4KICAgICAgICBjbGVhckZyb20gKCkgewogICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuJG9wdGlvbnMuZGF0YSgpLmZvcm1WYWxpZGF0ZSkKICAgICAgICB9LAogICAgICAgIC8vIOa3u+WKoOWtkOiPnOWNlQogICAgICAgIGFkZEUgKHJvdywgdGl0bGUpIHsKICAgICAgICAgIGxldCBwaWQgPSByb3cuaWQudG9TdHJpbmcoKTsKICAgICAgICAgICAgaWYgKHBpZCkgewogICAgICAgICAgICAgIG1lbnVzRGV0YWlsc0FwaShyb3cuaWQpLnRoZW4oYXN5bmMgcmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnBhdGggPSByZXMuZGF0YS5wYXRoOwogICAgICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGF0aC5wdXNoKHJvdy5pZCk7CiAgICAgICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5waWQgPSBwaWQ7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLm1lbnVzRnJvbS5tb2RhbHMgPSB0cnVlCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLm1lbnVzRnJvbS52YWxpZHMgPSBmYWxzZQogICAgICAgICAgICAgICAgdGhpcy50aXRsZUZyb20gPSB0aXRsZQogICAgICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuYXV0aF90eXBlID0gMQogICAgICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaXNfc2hvdyA9ICcwJwogICAgICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5waWQgPSBwaWQ7CiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5tZW51c0Zyb20ubW9kYWxzID0gdHJ1ZQogICAgICAgICAgICAgIHRoaXMuJHJlZnMubWVudXNGcm9tLnZhbGlkcyA9IGZhbHNlCiAgICAgICAgICAgICAgdGhpcy50aXRsZUZyb20gPSB0aXRsZQogICAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmF1dGhfdHlwZSA9IDEKICAgICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5pc19zaG93ID0gJzAnCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIOWIoOmZpAogICAgICAgIGRlbCAocm93LCB0aXQpIHsKICAgICAgICAgICAgbGV0IGRlbGZyb21EYXRhID0gewogICAgICAgICAgICAgICAgdGl0bGU6IHRpdCwKICAgICAgICAgICAgICAgIHVybDogYC9zZXR0aW5nL21lbnVzLyR7cm93LmlkfWAsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgICAgICAgICAgaWRzOiAnJwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZykKICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGF0YSgpCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWVudXMvZ2V0TWVudXNOYXZMaXN0JykKICAgICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZykKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOinhOWImeivpuaDhQogICAgICAgIG1lbnVzRGV0YWlscyAoaWQpIHsKICAgICAgICAgICAgbWVudXNEZXRhaWxzQXBpKGlkKS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZSA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLm1lbnVzRnJvbS5tb2RhbHMgPSB0cnVlCiAgICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvLyDnvJbovpEKICAgICAgICBlZGl0IChyb3csIHRpdGxlLCBpbmRleCkgewogICAgICAgICAgICB0aGlzLm1lbnVzRGV0YWlscyhyb3cuaWQpCiAgICAgICAgICAgIHRoaXMudGl0bGVGcm9tID0gdGl0bGUKICAgICAgICAgICAgdGhpcy4kcmVmcy5tZW51c0Zyb20udmFsaWRzID0gZmFsc2UKICAgICAgICAgICAgdGhpcy4kcmVmcy5tZW51c0Zyb20uZ2V0QWRkRnJvbShyb3cuaWQpOwogICAgICAgIH0sCiAgICAgICAgLy8g5re75YqgCiAgICAgICAgbWVudXNBZGQgKHRpdGxlKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMubWVudXNGcm9tLm1vZGFscyA9IHRydWUKICAgICAgICAgICAgdGhpcy4kcmVmcy5tZW51c0Zyb20udmFsaWRzID0gZmFsc2UKICAgICAgICAgICAgLy8gdGhpcy5mb3JtVmFsaWRhdGUgPSBPYmplY3QuYXNzaWduKHRoaXMuJGRhdGEsIHRoaXMuJG9wdGlvbnMuZm9ybVZhbGlkYXRlKCkpOwogICAgICAgICAgICB0aGlzLnRpdGxlRnJvbSA9IHRpdGxlCiAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmF1dGhfdHlwZSA9ICcxJwogICAgICAgIH0sCiAgICAgICAgLy8g5paw5aKe6aG16Z2i6KGo5Y2VCiAgICAgICAgLy8gZ2V0QWRkRnJvbSAoKSB7CiAgICAgICAgLy8gICAgIHRoaXMuc3BpblNob3cgPSB0cnVlOwogICAgICAgIC8vICAgICBhZGRNZW51cyh0aGlzLnJvbGVEYXRhKS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgICAgLy8gICAgICAgICB0aGlzLkZyb21EYXRhID0gcmVzLmRhdGE7CiAgICAgICAgLy8gICAgICAgICB0aGlzLiRyZWZzLm1lbnVzRnJvbS5tb2RhbHMgPSB0cnVlOwogICAgICAgIC8vICAgICAgICAgdGhpcy5zcGluU2hvdyA9IGZhbHNlOwogICAgICAgIC8vICAgICB9KS5jYXRjaChyZXMgPT4gewogICAgICAgIC8vICAgICAgICAgdGhpcy5zcGluU2hvdyA9IGZhbHNlOwogICAgICAgIC8vICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAvLyAgICAgfSkKICAgICAgICAvLyB9LAogICAgICAgIC8vIOWIl+ihqAogICAgICAgIGdldERhdGEgKCkgewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgIHRoaXMucm9sZURhdGEuaXNfc2hvdyA9IHRoaXMucm9sZURhdGEuaXNfc2hvdyB8fCAnJwogICAgICAgICAgICBnZXRUYWJsZSh0aGlzLnJvbGVEYXRhKS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB9KS5jYXRjaChyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZykKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOWFs+mXreaMiemSrgogICAgICAgIGNhbmNlbCAoKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29uQ2FuY2VsJykKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/setting/systemMenus","sourcesContent":["<template>\n    <div>\n        <div class=\"i-layout-page-header\">\n          <div class=\"i-layout-page-header\">\n            <span class=\"ivu-page-header-title\">{{$route.meta.title}}</span>\n          </div>\n        </div>\n        <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n            <Form ref=\"roleData\" :model=\"roleData\" :label-width=\"labelWidth\" :label-position=\"labelPosition\" @submit.native.prevent>\n                <Row type=\"flex\" :gutter=\"24\">\n                    <Col v-bind=\"grid\">\n                        <FormItem label=\"规则状态：\">\n                            <Select v-model=\"roleData.is_show\" placeholder=\"请选择\" clearable @on-change=\"getData\">\n                                <Option value='1'>显示</Option>\n                                <Option value='0'>不显示</Option>\n                            </Select>\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid\">\n                        <FormItem label=\"按钮名称：\" prop=\"status2\" label-for=\"status2\">\n                            <Input v-model=\"roleData.keyword\" search enter-button placeholder=\"请输入按钮名称\" @on-search=\"getData\"/>\n                        </FormItem>\n                    </Col>\n                </Row>\n                <Row type=\"flex\">\n                    <Col v-bind=\"grid\">\n                        <Button v-auth=\"['setting-system_menus-add']\" type=\"primary\" @click=\"menusAdd('添加规则')\"  icon=\"md-add\">添加规则</Button>\n                    </Col>\n                </Row>\n            </Form>\n            <vxe-table\n                    :border=\"false\"\n                    class=\"vxeTable mt25\"\n                    highlight-hover-row\n                    highlight-current-row\n                    :loading=\"loading\" ref=\"xTable\"\n                    header-row-class-name=\"false\"\n                    :tree-config=\"{children: 'children'}\"\n                    :data=\"tableData\">\n                <vxe-table-column field=\"id\" title=\"ID\"  tooltip min-width=\"70\"></vxe-table-column>\n                <vxe-table-column field=\"menu_name\" tree-node title=\"按钮名称\" min-width=\"200\"></vxe-table-column>\n                <vxe-table-column field=\"api_url\" title=\"接口路径\"  min-width=\"150\">\n                    <template v-slot=\"{ row }\">\n                        <span>{{row.methods?'['+row.methods+']  '+   row.api_url:row.api_url}}</span>\n                    </template>\n                </vxe-table-column>\n                <vxe-table-column field=\"unique_auth\" title=\"前端权限\" min-width=\"300\"></vxe-table-column>\n                <vxe-table-column field=\"menu_path\" title=\"页面路由\" min-width=\"240\" tooltip=\"true\"></vxe-table-column>\n                <vxe-table-column field=\"flag\" title=\"规则状态\" min-width=\"120\">\n                    <template v-slot=\"{ row }\">\n                        <i-switch v-model=\"row.is_show\" :value=\"row.is_show\" :true-value=\"1\" :false-value=\"0\" @on-change=\"onchangeIsShow(row)\" size=\"large\">\n                            <span slot=\"open\">显示</span>\n                            <span slot=\"close\">隐藏</span>\n                        </i-switch>\n                    </template>\n                </vxe-table-column>\n                <vxe-table-column field=\"date\" title=\"操作\" align=\"center\"  width=\"200\" fixed=\"right\">\n                    <template v-slot=\"{ row,index }\">\n                        <span v-auth=\"['setting-system_menus-add']\">\n                            <a @click=\"addE(row,'添加子菜单')\" v-if=\"row.auth_type === 1\">添加子菜单</a>\n                            <a @click=\"addE(row,'添加规则')\" v-else>添加规则</a>\n                        </span>\n                        <Divider type=\"vertical\"/>\n                        <a @click=\"edit(row,'编辑')\">编辑</a>\n                        <Divider type=\"vertical\"/>\n                        <a @click=\"del(row,'删除规则')\">删除</a>\n                    </template>\n                </vxe-table-column>\n            </vxe-table>\n        </Card>\n         <menus-from   :formValidate=\"formValidate\" :titleFrom=\"titleFrom\"  @getList=\"getList\" ref=\"menusFrom\" @clearFrom=\"clearFrom\"></menus-from>\n    </div>\n</template>\n\n<script>\n    import { mapState } from 'vuex'\n    import { getTable, menusDetailsApi, isShowApi, editMenus } from '@/api/systemMenus'\n    import formCreate from '@form-create/iview'\n    import menusFrom from './components/menusFrom'\n    export default {\n        name: 'systemMenus',\n        data () {\n            return {\n                spinShow: false,\n                grid: {\n                    xl: 7,\n                    lg: 7,\n                    md: 12,\n                    sm: 24,\n                    xs: 24\n                },\n                roleData: {\n                    is_show: '',\n                    keyword: ''\n                },\n                loading: false,\n                tableData: [],\n                FromData: null,\n                icons: '',\n                formValidate: {},\n                titleFrom: '',\n                modalTitleSs: ''\n            }\n        },\n        components: { menusFrom, formCreate: formCreate.$form() },\n        computed: {\n            ...mapState('media', [\n                'isMobile'\n            ]),\n            labelWidth () {\n                return this.isMobile ? undefined : 75\n            },\n            labelPosition () {\n                return this.isMobile ? 'top' : 'right'\n            }\n        },\n        mounted () {\n            // this.formValidate.auth_type = '1';\n            this.getData()\n        },\n        methods: {\n            // 修改规则状态\n            onchangeIsShow (row) {\n                let data = {\n                    id: row.id,\n                    is_show: row.is_show\n                }\n                isShowApi(data).then(async res => {\n                    this.$Message.success(res.msg)\n                    this.$store.dispatch('menus/getMenusNavList')\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 请求列表\n            getList () {\n                this.formValidate = Object.assign({}, this.$options.data().formValidate)\n                this.getData()\n            },\n            // 清除表单数据\n            clearFrom () {\n                this.formValidate = Object.assign({}, this.$options.data().formValidate)\n            },\n            // 添加子菜单\n            addE (row, title) {\n              let pid = row.id.toString();\n                if (pid) {\n                  menusDetailsApi(row.id).then(async res => {\n                    this.formValidate.path = res.data.path;\n                    this.formValidate.path.push(row.id);\n                    this.formValidate.pid = pid;\n                    this.$refs.menusFrom.modals = true\n                    this.$refs.menusFrom.valids = false\n                    this.titleFrom = title\n                    this.formValidate.auth_type = 1\n                    this.formValidate.is_show = '0'\n                  }).catch(res => {\n                    this.$Message.error(res.msg)\n                  })\n                } else {\n                  this.formValidate.pid = pid;\n                  this.$refs.menusFrom.modals = true\n                  this.$refs.menusFrom.valids = false\n                  this.titleFrom = title\n                  this.formValidate.auth_type = 1\n                  this.formValidate.is_show = '0'\n                }\n            },\n            // 删除\n            del (row, tit) {\n                let delfromData = {\n                    title: tit,\n                    url: `/setting/menus/${row.id}`,\n                    method: 'DELETE',\n                    ids: ''\n                }\n                this.$modalSure(delfromData).then((res) => {\n                    this.$Message.success(res.msg)\n                    this.getData()\n                    this.$store.dispatch('menus/getMenusNavList')\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 规则详情\n            menusDetails (id) {\n                menusDetailsApi(id).then(async res => {\n                    this.formValidate = res.data\n                    this.$refs.menusFrom.modals = true\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 编辑\n            edit (row, title, index) {\n                this.menusDetails(row.id)\n                this.titleFrom = title\n                this.$refs.menusFrom.valids = false\n                this.$refs.menusFrom.getAddFrom(row.id);\n            },\n            // 添加\n            menusAdd (title) {\n                this.$refs.menusFrom.modals = true\n                this.$refs.menusFrom.valids = false\n                // this.formValidate = Object.assign(this.$data, this.$options.formValidate());\n                this.titleFrom = title\n                this.formValidate.auth_type = '1'\n            },\n            // 新增页面表单\n            // getAddFrom () {\n            //     this.spinShow = true;\n            //     addMenus(this.roleData).then(async res => {\n            //         this.FromData = res.data;\n            //         this.$refs.menusFrom.modals = true;\n            //         this.spinShow = false;\n            //     }).catch(res => {\n            //         this.spinShow = false;\n            //         this.$Message.error(res.msg);\n            //     })\n            // },\n            // 列表\n            getData () {\n                this.loading = true\n                this.roleData.is_show = this.roleData.is_show || ''\n                getTable(this.roleData).then(async res => {\n                    this.tableData = res.data\n                    this.loading = false\n                }).catch(res => {\n                    this.loading = false\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 关闭按钮\n            cancel () {\n                this.$emit('onCancel')\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n    .vxeTable\n      >>> .vxe-table--header-wrapper\n        background #fff !important\n</style>\n"]}]}