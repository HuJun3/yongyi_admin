{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/components/diyComponents/c_upload_list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/components/diyComponents/c_upload_list.vue","mtime":1610681298000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1cGxvYWRQaWN0dXJlcyBmcm9tICdAL2NvbXBvbmVudHMvdXBsb2FkUGljdHVyZXMnOwppbXBvcnQgdnVlZHJhZ2dhYmxlIGZyb20gJ3Z1ZWRyYWdnYWJsZScKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ2NfdXBsb2FkX2xpc3QnLAogICAgcHJvcHM6IHsKICAgICAgICBuYW1lOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZwogICAgICAgIH0sCiAgICAgICAgY29uZmlnRGF0YTp7CiAgICAgICAgICAgIHR5cGU6bnVsbAogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgdXBsb2FkUGljdHVyZXMsCiAgICAgICAgZHJhZ2dhYmxlOiB2dWVkcmFnZ2FibGUKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGRlZmF1bHRzOiB7fSwKICAgICAgICAgICAgbWVudXM6IFtdLAogICAgICAgICAgICBtb2RhbFBpYzogZmFsc2UsCiAgICAgICAgICAgIGlzQ2hvaWNlOiAn5Y2V6YCJJywKICAgICAgICAgICAgZ3JpZEJ0bjogewogICAgICAgICAgICAgICAgeGw6IDQsCiAgICAgICAgICAgICAgICBsZzogOCwKICAgICAgICAgICAgICAgIG1kOiA4LAogICAgICAgICAgICAgICAgc206IDgsCiAgICAgICAgICAgICAgICB4czogOAogICAgICAgICAgICB9LAogICAgICAgICAgICBncmlkUGljOiB7CiAgICAgICAgICAgICAgICB4bDogNiwKICAgICAgICAgICAgICAgIGxnOiA4LAogICAgICAgICAgICAgICAgbWQ6IDEyLAogICAgICAgICAgICAgICAgc206IDEyLAogICAgICAgICAgICAgICAgeHM6IDEyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFjdGl2ZUluZGV4OiAwLAogICAgICAgICAgICBsYXN0T2JqOiB7fSwKICAgICAgICAgICAgZGF0YXM6IHRoaXMuY29uZmlnRGF0YQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkICgpIHt9LAogICAgd2F0Y2g6IHsKICAgICAgICBjb25maWdEYXRhOiB7CiAgICAgICAgICAgIGhhbmRsZXIgKG5WYWwsIG9WYWwpIHsKICAgICAgICAgICAgICAgIHRoaXMuZGF0YXMgPSBuVmFsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRlZXA6IHRydWUKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFkZEJveCgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnRGF0YVt0aGlzLm5hbWVdLmxpc3QubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnRGF0YVt0aGlzLm5hbWVdLmxpc3QucHVzaCh0aGlzLmxhc3RPYmopCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgb2JqID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNvbmZpZ0RhdGFbdGhpcy5uYW1lXS5saXN0W3RoaXMuY29uZmlnRGF0YVt0aGlzLm5hbWVdLmxpc3QubGVuZ3RoIC0gMV0pKQogICAgICAgICAgICAgICAgdGhpcy5jb25maWdEYXRhW3RoaXMubmFtZV0ubGlzdC5wdXNoKG9iaikKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g54K55Ye75Zu+5paH5bCB6Z2iCiAgICAgICAgbW9kYWxQaWNUYXAodGl0bGUsIGluZGV4KSB7CiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleAogICAgICAgICAgICB0aGlzLm1vZGFsUGljID0gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIC8vIOa3u+WKoOiHquWumuS5ieW8ueeqlwogICAgICAgIGFkZEN1c3RvbURpYWxvZyhlZGl0b3JJZCkgewogICAgICAgICAgICB3aW5kb3cuVUUucmVnaXN0ZXJVSSgndGVzdC1kaWFsb2cnLCBmdW5jdGlvbiAoZWRpdG9yLCB1aU5hbWUpIHsKICAgICAgICAgICAgICAgIGxldCBkaWFsb2cgPSBuZXcgd2luZG93LlVFLnVpLkRpYWxvZyh7CiAgICAgICAgICAgICAgICAgICAgaWZyYW1lVXJsOiAnL2FkbWluL3dpZGdldC5pbWFnZXMvaW5kZXguaHRtbD9mb2RkZXI9ZGlhbG9nJywKICAgICAgICAgICAgICAgICAgICBlZGl0b3I6IGVkaXRvciwKICAgICAgICAgICAgICAgICAgICBuYW1lOiB1aU5hbWUsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkuIrkvKDlm77niYcnLAogICAgICAgICAgICAgICAgICAgIGNzc1J1bGVzOiAnd2lkdGg6MTIwMHB4O2hlaWdodDo1MDBweDtwYWRkaW5nOjIwcHg7JwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGRpYWxvZzsKICAgICAgICAgICAgICAgIC8vIOWPguiAg+S4iumdoueahOiHquWumuS5ieaMiemSrgogICAgICAgICAgICAgICAgdmFyIGJ0biA9IG5ldyB3aW5kb3cuVUUudWkuQnV0dG9uKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZGlhbG9nLWJ1dHRvbicsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkuIrkvKDlm77niYcnLAogICAgICAgICAgICAgICAgICAgIGNzc1J1bGVzOiBgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWFnZXMvaWNvbnMucG5nKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNzI2cHggLTc3cHg7YCwKICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOa4suafk2RpYWxvZwogICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cucmVuZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIGJ0bjsKICAgICAgICAgICAgfSwgMzcpOwogICAgICAgIH0sCiAgICAgICAgLy8g6I635Y+W5Zu+54mH5L+h5oGvCiAgICAgICAgZ2V0UGljKHBjKSB7CiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnRGF0YVt0aGlzLm5hbWVdLmxpc3RbdGhpcy5hY3RpdmVJbmRleF0uaW1nID0gcGMuYXR0X2RpcjsKICAgICAgICAgICAgICAgIHRoaXMubW9kYWxQaWMgPSBmYWxzZTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOWIoOmZpAogICAgICAgIGJpbmREZWxldGUoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnRGF0YVt0aGlzLm5hbWVdLmxpc3QubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgICAgIHRoaXMubGFzdE9iaiA9IHRoaXMuY29uZmlnRGF0YVt0aGlzLm5hbWVdLmxpc3RbMF0KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmNvbmZpZ0RhdGFbdGhpcy5uYW1lXS5saXN0LnNwbGljZShpbmRleCwgMSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["c_upload_list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"c_upload_list.vue","sourceRoot":"src/components/diyComponents","sourcesContent":["<template>\n    <div class=\"hot_imgs\">\n        <div class=\"title\" >\n            {{datas[name].title}}\n        </div>\n        <div class=\"list-box\">\n            <draggable\n                    class=\"dragArea list-group\"\n                    :list=\"datas[name].list\"\n                    group=\"peoples\"\n                    handle=\".move-icon\"\n            >\n               <div class=\"item\" v-for=\"(item,index) in datas[name].list\" :key=\"index\">\n                <div class=\"move-icon\">\n                    <span class=\"iconfont icondrag2\"></span>\n                </div>\n                <div class=\"img-box\" @click=\"modalPicTap('单选',index)\">\n                    <img :src=\"item.img\" alt=\"\" v-if=\"item.img\">\n                    <div class=\"upload-box\" v-else>\n                        <Icon type=\"ios-camera-outline\" size=\"36\"/>\n                    </div>\n                    <div v-if=\"!datas[name].isDelete\" class=\"delect-btn\" @click.stop=\"bindDelete(item,index)\"><Icon type=\"md-close-circle\" size=\"26\" /></div>\n                </div>\n                <div class=\"info\">\n                    <div class=\"info-item\" v-for=\"(infos,key) in item.info\" :key=\"key\">\n                        <span>{{infos.title}}</span>\n                        <div class=\"input-box\">\n                            <Input v-model=\"infos.value\" :placeholder=\"infos.tips\" :maxlength=\"infos.maxlength\"/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            </draggable>\n            <div>\n                <Modal v-model=\"modalPic\" width=\"950px\" scrollable footer-hide closable title='上传商品图'\n                       :mask-closable=\"false\" :z-index=\"888\">\n                    <uploadPictures :isChoice=\"isChoice\" @getPic=\"getPic\" :gridBtn=\"gridBtn\" :gridPic=\"gridPic\"\n                                    v-if=\"modalPic\"></uploadPictures>\n                </Modal>\n            </div>\n        </div>\n        <template v-if=\"datas[name]\">\n            <div class=\"add-btn\" v-if=\"datas[name].list.length < datas[name].max || datas[name].max == '' \">\n                <Button type=\"primary\" ghost style=\"width: 100%; height: 40px; border-color:#1890FF; color: #1890FF;\"\n                        @click=\"addBox\">添加图片\n                </Button>\n            </div>\n        </template>\n    </div>\n</template>\n\n<script>\n    import uploadPictures from '@/components/uploadPictures';\n    import vuedraggable from 'vuedraggable'\n    export default {\n        name: 'c_upload_list',\n        props: {\n            name: {\n                type: String\n            },\n            configData:{\n                type:null\n            }\n        },\n        components: {\n            uploadPictures,\n            draggable: vuedraggable\n        },\n        data() {\n            return {\n                defaults: {},\n                menus: [],\n                modalPic: false,\n                isChoice: '单选',\n                gridBtn: {\n                    xl: 4,\n                    lg: 8,\n                    md: 8,\n                    sm: 8,\n                    xs: 8\n                },\n                gridPic: {\n                    xl: 6,\n                    lg: 8,\n                    md: 12,\n                    sm: 12,\n                    xs: 12\n                },\n                activeIndex: 0,\n                lastObj: {},\n                datas: this.configData\n            }\n        },\n        mounted () {},\n        watch: {\n            configData: {\n                handler (nVal, oVal) {\n                    this.datas = nVal\n                },\n                deep: true\n            }\n        },\n        methods: {\n            addBox() {\n                if (this.configData[this.name].list.length == 0) {\n                    this.configData[this.name].list.push(this.lastObj)\n                } else {\n                    let obj = JSON.parse(JSON.stringify(this.configData[this.name].list[this.configData[this.name].list.length - 1]))\n                    this.configData[this.name].list.push(obj)\n                }\n            },\n            // 点击图文封面\n            modalPicTap(title, index) {\n                this.activeIndex = index\n                this.modalPic = true;\n            },\n            // 添加自定义弹窗\n            addCustomDialog(editorId) {\n                window.UE.registerUI('test-dialog', function (editor, uiName) {\n                    let dialog = new window.UE.ui.Dialog({\n                        iframeUrl: '/admin/widget.images/index.html?fodder=dialog',\n                        editor: editor,\n                        name: uiName,\n                        title: '上传图片',\n                        cssRules: 'width:1200px;height:500px;padding:20px;'\n                    });\n                    this.dialog = dialog;\n                    // 参考上面的自定义按钮\n                    var btn = new window.UE.ui.Button({\n                        name: 'dialog-button',\n                        title: '上传图片',\n                        cssRules: `background-image: url(../../../assets/images/icons.png);background-position: -726px -77px;`,\n                        onclick: function () {\n                            // 渲染dialog\n                            dialog.render();\n                            dialog.open();\n                        }\n                    });\n\n                    return btn;\n                }, 37);\n            },\n            // 获取图片信息\n            getPic(pc) {\n                this.$nextTick(() => {\n                    this.configData[this.name].list[this.activeIndex].img = pc.att_dir;\n                    this.modalPic = false;\n                })\n            },\n            // 删除\n            bindDelete(item, index) {\n                if (this.configData[this.name].list.length == 1) {\n                    this.lastObj = this.configData[this.name].list[0]\n                }\n                this.configData[this.name].list.splice(index, 1)\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n    .icondrag2{\n        font-size: 26px;\n        color: #d8d8d8;\n    }\n    .hot_imgs\n        margin-bottom 20px\n        .title\n            padding 0 0 13px 0\n            color #999\n            font-size 12px\n            border-bottom 1px solid rgba(0, 0, 0, 0.05)\n\n        .list-box\n            .item\n                position relative\n                display flex\n                margin-top 20px\n\n                .move-icon\n                    display flex\n                    align-items center\n                    justify-content center\n                    width 30px\n                    height 80px\n                    cursor move\n                    color #D8D8D8\n\n                .img-box\n                    position relative\n                    width 80px\n                    height 80px\n\n                    img\n                        width 100%\n                        height 100%\n\n                .info\n                    flex 1\n                    margin-left 22px\n\n                    .info-item\n                        display flex\n                        align-items center\n                        margin-bottom 10px\n\n                        span\n                            width 40px\n                            font-size 13px\n\n                        .input-box\n                            flex 1\n\n                .delect-btn\n                    position absolute\n                    right: -12px;\n                    top: -12px;\n                    color #999999\n\n                    .iconfont\n                        font-size 28px\n                        color #999\n\n        .add-btn\n            margin-top 10px\n\n    .upload-box\n        display flex\n        align-items center\n        justify-content center\n        width 100%\n        height 100%\n        background #ccc\n\n    .iconfont\n        color #DDDDDD\n        font-size 28px\n</style>\n"]}]}