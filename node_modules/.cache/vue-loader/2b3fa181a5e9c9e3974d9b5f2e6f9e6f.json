{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/setting/devise/index.vue?vue&type=style&index=0&id=2c2715ac&scoped=true&lang=stylus&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/setting/devise/index.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY29udGVudAogICAgd2lkdGggNDUwcHg7Ci5mbGV4LXdyYXBwZXIKICAgIGRpc3BsYXkgZmxleAouaWZyYW1lLWJveAogICAgd2lkdGg6IDM3NXB4OwogICAgaGVpZ2h0OiA3MDBweDsKICAgIC8qYm9yZGVyOiAxcHggc29saWQgI2RkZDsqLwogICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgYm94LXNoYWRvdyA6IDAgMCA3cHggI2NjY2NjYzsKLnJpZ2h0LWJveAogICAgd2lkdGggNDAwcHgKICAgIG1hcmdpbi1sZWZ0IDUwcHgKICAgIGJvcmRlcjoxcHggc29saWQgI2RkZDsKICAgIGJvcmRlci1yYWRpdXMgNHB4CiAgICAudGl0bGUtYmFyCiAgICAgICAgd2lkdGggMTAwJQogICAgICAgIGhlaWdodCAzOHB4CiAgICAgICAgbGluZS1oZWlnaHQgMzhweAogICAgICAgIHBhZGRpbmctbGVmdCAyNHB4CiAgICAgICAgY29sb3IgIzMzMwogICAgICAgIGJvcmRlci1yYWRpdXMgNHB4CiAgICAgICAgYm9yZGVyLWJvdHRvbSAxcHggc29saWQgI2VlZQoK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/setting/devise","sourcesContent":["<template>\n    <div>\n    <div class=\"i-layout-page-header\">\n        <div class=\"i-layout-page-header\">\n            <router-link :to=\"{path:'/admin/setting/pages/devise'}\"><Button icon=\"ios-arrow-back\" size=\"small\"  class=\"mr20\">返回</Button></router-link>\n            <span class=\"ivu-page-header-title mr20\">页面设计</span>\n        </div>\n    </div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n    <div class=\"flex-wrapper\">\n        <!-- :src=\"iframeUrl\" -->\n        <iframe class=\"iframe-box\" :src=\"iframeUrl\" frameborder=\"0\" ref=\"iframe\"></iframe>\n        <div>\n            <div class=\"content\">\n                <rightConfig :name=\"configName\" :pageId=\"pageId\"></rightConfig>\n            </div>\n        </div>\n        <links></links>\n    </div>\n    </Card>\n    </div>\n</template>\n\n<script>\n    import { diyGetInfo, storeStatus } from  '@/api/diy'\n    import { mapMutations } from 'vuex'\n    import rightConfig from '@/components/rightConfig/index'\n    import links from './links'\n    export default {\n        name: \"index\",\n        components:{\n            rightConfig,\n            links\n        },\n        data(){\n            return {\n                configName:'',\n                iframeUrl:'',\n                setConfig:'',\n                updataConfig:'',\n                pageId:0\n            }\n        },\n        created() {\n            let that = this;\n            let pageId = this.$route.query.id;\n            let names = this.$route.query.name;\n            this.setConfig = names +'/setConfig';\n            this.updataConfig = names +'/updataConfig';\n            this.pageId = parseInt(pageId);\n            this.iframeUrl = `${location.origin}?type=iframeMakkMinkkJuan`;\n            diyGetInfo(parseInt(pageId)).then(datas=>{\n                let data = datas.data.info.value;\n                this.upData(data);\n            })\n        },\n        mounted() {\n            //监听子页面给当前页面传值\n            window.addEventListener(\"message\", this.handleMessage,false)\n        },\n        methods:{\n            //接收iframe值\n            handleMessage (event) {\n                if(event.data.name){\n                    this.configName = event.data.name\n                    this.add(event.data.name)\n                }\n            },\n            add (data) {\n                this.$store.commit(this.setConfig, data);\n            },\n            upData (data) {\n                this.$store.commit(this.updataConfig, data);\n            }\n            // ...mapMutations({\n            //     add: 'diy/setConfig',\n            //     upData:'diy/updataConfig'\n            // })\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n    .content\n        width 450px;\n    .flex-wrapper\n        display flex\n    .iframe-box\n        width: 375px;\n        height: 700px;\n        /*border: 1px solid #ddd;*/\n        border-radius: 4px;\n        box-shadow : 0 0 7px #cccccc;\n    .right-box\n        width 400px\n        margin-left 50px\n        border:1px solid #ddd;\n        border-radius 4px\n        .title-bar\n            width 100%\n            height 38px\n            line-height 38px\n            padding-left 24px\n            color #333\n            border-radius 4px\n            border-bottom 1px solid #eee\n\n</style>\n"]}]}