{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/product/productAdd/index.vue?vue&type=style&index=0&id=4f4fb64e&scoped=true&lang=stylus&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/product/productAdd/index.vue","mtime":1610682228000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmxpc3QtZ3JvdXB7CiAgICBtYXJnaW4tbGVmdCAtOHB4Cn0KLmJvcmRlclN0eWxlewogICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICAgIHBhZGRpbmc6IDhweDsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKfQouZHJhZwogICAgY3Vyc29yIG1vdmUKLm1vdmUtaWNvbnsKICAgIHdpZHRoIDMwcHgKICAgIGN1cnNvciBtb3ZlCiAgICBtYXJnaW4tcmlnaHQgMTBweAp9Ci5tb3ZlLWljb24gLmljb25kcmFnMnsKICAgIGZvbnQtc2l6ZTogMjZweDsKICAgIGNvbG9yOiAjZDhkOGQ4Owp9CgoubWF4VyAvZGVlcC8uaXZ1LXNlbGVjdC1kcm9wZG93bnsKICAgIG1heC13aWR0aCA2MDBweDsKfQojc2hvcHAtbWFuYWdlciAuaXZ1LXRhYmxlLXdyYXBwZXIKICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNkY2RlZTI7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkY2RlZTI7Ci5ub0xlZnQKICAgID4+PiAuaXZ1LWZvcm0taXRlbS1jb250ZW50CiAgICAgbWFyZ2luLWxlZnQgMCAhaW1wb3J0YW50CiNzaG9wcC1tYW5hZ2VyIC5pdnUtZm9ybS1pdGVtewogICAgcG9zaXRpb246IHJlbGF0aXZlOwp9CiNzaG9wcC1tYW5hZ2VyIC5pdnUtZm9ybS1pdGVtIC50aXBzewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgY29sb3I6ICM5OTk7CiAgICB0b3A6IDI5cHg7CiAgICBsZWZ0OiAtNzdweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKfQouaXZpZXctdmlkZW8tc3R5bGV7CiAgICB3aWR0aDogNDAlOwogICAgaGVpZ2h0OiAxODBweDsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzA3MDcwOwogICAgbWFyZ2luLXRvcDogMTBweDsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KLml2aWV3LXZpZGVvLXN0eWxlIC5pY29udnsKICAgIGNvbG9yOiAjZmZmOwogICAgbGluZS1oZWlnaHQ6IDE4MHB4OwogICAgd2lkdGg6IDUwcHg7CiAgICBoZWlnaHQ6IDUwcHg7CiAgICBkaXNwbGF5OiBpbmhlcml0OwogICAgZm9udC1zaXplOiAyNnB4OwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAtNzRweDsKICAgIGxlZnQ6IDUwJTsKICAgIG1hcmdpbi1sZWZ0OiAtMjVweDsKfQouaXZpZXctdmlkZW8tc3R5bGUgLm1hcmt7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMzBweDsKICAgIHRvcDogMDsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsLjUpOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CiAgICAudXBsb2FkVmlkZW8KICAgICAgICBtYXJnaW4tbGVmdCAxMHB4OwogICAgLnN1Ym1pc3Npb24KICAgICAgICBtYXJnaW4tbGVmdCAxMHB4OwogICAgLmNvbG9yLWxpc3QgLnRpcHsKICAgICAgICBjb2xvcjogI2M5YzljOTsKICAgIH0KICAgIC5jb2xvci1saXN0IC5jb2xvci1pdGVtewogICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICBsaW5lLWhlaWdodDogMzBweDsKICAgICAgICBwYWRkaW5nOiAwIDEwcHg7CiAgICAgICAgY29sb3I6I2ZmZjsKICAgICAgICBtYXJnaW4tcmlnaHQgOjEwcHg7CiAgICB9CiAgICAuY29sb3ItbGlzdCAuY29sb3ItaXRlbS5ibHVlewogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxRTlGRkY7CiAgICB9CiAgICAuY29sb3ItbGlzdCAuY29sb3ItaXRlbS55ZWxsb3d7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NCwgMTg1LCAwKTsKICAgIH0KICAgIC5jb2xvci1saXN0IC5jb2xvci1pdGVtLmdyZWVuewogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDk2ODg7CiAgICB9CiAgICAuY29sb3ItbGlzdCAuY29sb3ItaXRlbS5yZWR7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2VkNDAxNDsKICAgIH0KICAgIC5jb2x1bW5zQm94CiAgICAgICAgbWFyZ2luLXJpZ2h0IDEwcHgKICAgIC5wcmljZUJveAogICAgICAgIHdpZHRoIDEwMCUKICAgIC5ydWxlc0JveAogICAgICAgIGRpc3BsYXkgZmxleAogICAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgIC5waWN0cnVlQm94CiAgICAgICAgZGlzcGxheSBpbmxpbmUtYmxvY2s7CiAgICAucGljdHJ1ZVRhYgogICAgICAgIHdpZHRoOjQwcHggIWltcG9ydGFudDsKICAgICAgICBoZWlnaHQ6NDBweCAhaW1wb3J0YW50OwogICAgLnBpY3RydWUKICAgICAgICB3aWR0aDo2MHB4OwogICAgICAgIGhlaWdodDo2MHB4OwogICAgICAgIGJvcmRlcjoxcHggZG90dGVkIHJnYmEoMCwwLDAsMC4xKTsKICAgICAgICBtYXJnaW4tcmlnaHQ6MTVweDsKICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICBpbWcKICAgICAgICAgICAgd2lkdGggMTAwJQogICAgICAgICAgICBoZWlnaHQgMTAwJQogICAgICAgIC5idG5kZWwKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB6LWluZGV4OiAxOwogICAgICAgICAgICB3aWR0aCA6MjBweCAhaW1wb3J0YW50OwogICAgICAgICAgICBoZWlnaHQ6IDIwcHggIWltcG9ydGFudDsKICAgICAgICAgICAgbGVmdDogNDZweDsKICAgICAgICAgICAgdG9wOiAtNHB4OwogICAgLnVwTG9hZCB7CiAgICAgICAgd2lkdGg6IDU4cHg7CiAgICAgICAgaGVpZ2h0OiA1OHB4OwogICAgICAgIGxpbmUtaGVpZ2h0OiA1OHB4OwogICAgICAgIGJvcmRlcjogMXB4IGRvdHRlZCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4wMik7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgfQogICAgLmN1cnMKICAgICAgICBjdXJzb3IgcG9pbnRlcgogICAgLmlucFdpdGgKICAgICAgICB3aWR0aCA2MCU7CiAgICAubGFiZWx0b3AKICAgICAgICA+Pj4gLml2dS1mb3JtLWl0ZW0tbGFiZWwKICAgICAgICAgICAgZmxvYXQ6IG5vbmUgIWltcG9ydGFudDsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAxMjBweCAhaW1wb3J0YW50OwogICAgICAgICAgICB3aWR0aCBhdXRvICFpbXBvcnRhbnQKCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA24CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/product/productAdd","sourcesContent":["<template>\n    <div class=\"article-manager\" id=\"shopp-manager\">\n      <div class=\"i-layout-page-header\">\n        <div class=\"i-layout-page-header\">\n          <router-link :to=\"{path:'/admin/product/product_list'}\"><Button icon=\"ios-arrow-back\" size=\"small\"  class=\"mr20\">返回</Button></router-link>\n          <span class=\"ivu-page-header-title mr20\" v-text=\"$route.params.id?'编辑商品':'添加商品'\"></span>\n        </div>\n      </div>\n        <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n            <Tabs v-model=\"currentTab\" @on-click=\"onhangeTab\">\n                <TabPane label=\"商品信息\" name=\"1\"></TabPane>\n                <TabPane label=\"商品详情\" name=\"2\"></TabPane>\n                <TabPane label=\"其他设置\" name=\"3\"></TabPane>\n            </Tabs>\n            <Form class=\"formValidate mt35\" ref=\"formValidate\" :rules=\"ruleValidate\" :model=\"formValidate\" :label-width=\"120\" label-position=\"right\" @submit.native.prevent>\n                <Row :gutter=\"24\" type=\"flex\" v-show=\"currentTab === '1'\">\n                    <!-- 商品信息-->\n                    <Col span=\"24\">\n                        <FormItem label=\"商品名称：\" prop=\"store_name\">\n                            <Input v-model=\"formValidate.store_name\" placeholder=\"请输入商品名称\" class=\"perW50\"/>\n                        </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                        <FormItem label=\"商品分类：\" prop=\"cate_id\">\n                            <Select v-model=\"formValidate.cate_id\" multiple class=\"perW50\">\n                                <Option v-for=\"item in treeSelect\" :disabled=\"item.pid === 0\" :value=\"item.id\" :key=\"item.id\">{{ item.html + item.cate_name }}</Option>\n                            </Select>\n                        </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                        <FormItem label=\"商品关键字：\" prop=\"\">\n                            <Input v-model=\"formValidate.keyword\" placeholder=\"请输入商品关键字\" class=\"perW50\"/>\n                        </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                        <FormItem label=\"单位：\" prop=\"unit_name\">\n                            <Input v-model=\"formValidate.unit_name\"  placeholder=\"请输入单位\" class=\"perW50\"/>\n                        </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                        <FormItem label=\"商品简介：\" prop=\"\">\n                            <Input v-model=\"formValidate.store_info\" type=\"textarea\" :rows=\"3\" placeholder=\"请输入商品简介\" class=\"perW50\"/>\n                        </FormItem>\n                    </Col>\n                    <!--<Col v-bind=\"grid2\">-->\n                        <!--<FormItem label=\"邮费：\">-->\n                            <!--<InputNumber  v-model=\"formValidate.postage\" placeholder=\"请输入邮费\"  />-->\n                        <!--</FormItem>-->\n                    <!--</Col>-->\n                    <Col span=\"24\">\n                        <FormItem label=\"商品封面图：\" prop=\"image\">\n                            <div class=\"pictrueBox\" @click=\"modalPicTap('dan','danFrom')\">\n                                <div class=\"pictrue\" v-if=\"formValidate.image\">\n                                    <img v-lazy=\"formValidate.image\">\n                                    <Input v-model=\"formValidate.image\" style=\"display: none\"></Input>\n                                </div>\n                                <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n                                    <Input v-model=\"formValidate.image\" style=\"display: none\"></Input>\n                                    <Icon type=\"ios-camera-outline\" size=\"26\"/>\n                                </div>\n                            </div>\n                        </FormItem>\n                    </Col>\n                  <Col span=\"24\">\n                    <FormItem label=\"商品推荐图：\">\n                      <div class=\"pictrueBox\" @click=\"modalPicTap('dan','recommend_image')\">\n                        <div class=\"pictrue\" v-if=\"formValidate.recommend_image\">\n                          <img v-lazy=\"formValidate.recommend_image\">\n                          <Input v-model=\"formValidate.recommend_image\" style=\"display: none\"></Input>\n                        </div>\n                        <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n                          <Input v-model=\"formValidate.recommend_image\" style=\"display: none\"></Input>\n                          <Icon type=\"ios-camera-outline\" size=\"26\"/>\n                        </div>\n                      </div>\n                    </FormItem>\n                  </Col>\n                    <Col span=\"24\">\n                        <FormItem label=\"商品轮播图：\" prop=\"slider_image\">\n                            <div class=\"acea-row\">\n                                <div class=\"pictrue\" v-for=\"(item,index) in formValidate.slider_image\" :key=\"index\"\n                                     draggable=\"true\"\n                                     @dragstart=\"handleDragStart($event, item)\"\n                                     @dragover.prevent=\"handleDragOver($event, item)\"\n                                     @dragenter=\"handleDragEnter($event, item)\"\n                                     @dragend=\"handleDragEnd($event, item)\">\n                                    <img v-lazy=\"item\">\n                                    <Button shape=\"circle\" icon=\"md-close\"  @click.native=\"handleRemove(index)\" class=\"btndel\"></Button>\n                                </div>\n                                <div v-if=\"formValidate.slider_image.length<10\" class=\"upLoad acea-row row-center-wrapper\" @click=\"modalPicTap('duo')\">\n                                    <Icon type=\"ios-camera-outline\" size=\"26\"/>\n                                </div>\n                                <Input v-model=\"formValidate.slider_image[0]\" style=\"display: none\"></Input>\n                            </div>\n                            <div class=\"tips\">(最多10张)</div>\n                        </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                        <FormItem label=\"主图视频：\" prop=\"video_link\">\n                            <Input class=\"perW50\" v-model=\"videoLink\" placeholder=\"请输入视频链接\"/>\n                            <input type=\"file\" ref='refid' @change=\"zh_uploadFile_change\" style=\"display:none\">\n                            <Button type=\"primary\" icon=\"ios-cloud-upload-outline\" class=\"uploadVideo\" @click=\"zh_uploadFile\">{{videoLink ? '确认添加' : '上传视频'}}</Button>\n                            <Progress :percent = progress :stroke-width=\"5\" v-if=\"upload.videoIng\" />\n                            <div class=\"iview-video-style\" v-if=\"formValidate.video_link\">\n                                <video style=\"width:100%;height: 100%!important;border-radius: 10px;\" :src=\"formValidate.video_link\" controls=\"controls\">\n                                    您的浏览器不支持 video 标签。\n                                </video>\n                                <div class=\"mark\">\n                                </div>\n                                <Icon type=\"ios-trash-outline\" class=\"iconv\" @click=\"delVideo\"/>\n                            </div>\n                        </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                        <FormItem label=\"商品规格：\" props=\"spec_type\">\n                            <RadioGroup v-model=\"formValidate.spec_type\"  @on-change=\"changeSpec\">\n                                <Radio :label=\"0\" class=\"radio\">单规格</Radio>\n                                <Radio :label=\"1\">多规格</Radio>\n                            </RadioGroup>\n                        </FormItem>\n                    </Col>\n                    <!-- 多规格添加-->\n                    <Col span=\"24\" v-if=\"formValidate.spec_type === 1\" class=\"noForm\">\n                        <Col span=\"24\">\n                            <FormItem label=\"选择规格：\" prop=\"\">\n                                <div  class=\"acea-row row-middle\">\n                                    <Select v-model=\"formValidate.selectRule\" style=\"width: 23%;\">\n                                        <Option v-for=\"(item, index) in ruleList\" :value=\"item.rule_name\" :key=\"index\">{{ item.rule_name }}</Option>\n                                    </Select>\n                                    <Button type=\"primary\" class=\"mr20\" @click=\"confirm\">确认</Button>\n                                    <Button @click=\"addRule\">添加规格模板</Button>\n                                </div>\n                            </FormItem>\n                        </Col>\n                        <Col span=\"24\">\n                            <FormItem v-if=\"attrs.length!==0\">\n                                <draggable\n                                        class=\"dragArea list-group\"\n                                        :list=\"attrs\"\n                                        group=\"peoples\"\n                                        handle=\".move-icon\"\n                                        :move=\"checkMove\"\n                                        @end=\"end\"\n                                >\n                                    <div v-for=\"(item, index) in attrs\" :key=\"index\" class=\"acea-row row-middle mb10\">\n                                        <div class=\"move-icon\">\n                                            <span class=\"iconfont icondrag2\"></span>\n                                        </div>\n                                        <div style=\"width: 90%\" :class=\"moveIndex===index?'borderStyle':''\">\n                                            <div class=\"acea-row row-middle\"><span class=\"mr5\">{{item.value}}</span><Icon type=\"ios-close-circle\" size=\"14\" class=\"curs\" @click=\"handleRemoveRole(index)\"/></div>\n                                            <div class=\"rulesBox\">\n                                                <draggable\n                                                        :list=\"item.detail\"\n                                                        handle=\".drag\"\n                                                >\n                                                    <Tag type=\"dot\" closable color=\"primary\" v-for=\"(j, indexn) in item.detail\" :key=\"indexn\" :name=\"j\" class=\"mr20 drag\" @on-close=\"handleRemove2(item.detail,indexn)\">{{j}}</Tag>\n                                                </draggable>\n                                                <Input search enter-button=\"添加\" placeholder=\"请输入属性名称\" v-model=\"item.detail.attrsVal\" @on-search=\"createAttr(item.detail.attrsVal,index)\" style=\"width: 150px\"/>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </draggable>\n                            </FormItem>\n                        </Col>\n                        <Col span=\"24\" v-if=\"createBnt\">\n                            <FormItem>\n                                <Button type=\"primary\" icon=\"md-add\" @click=\"addBtn\" class=\"mr15\">添加新规格</Button>\n                                <Button type=\"success\" @click=\"generate(1)\">立即生成</Button>\n                            </FormItem>\n                        </Col>\n                        <Col span=\"24\" v-if=\"showIput\">\n                            <Col  :xl=\"6\" :lg=\"9\" :md=\"10\" :sm=\"24\" :xs=\"24\" >\n                                <FormItem label=\"规格：\">\n                                    <Input  placeholder=\"请输入规格\" v-model=\"formDynamic.attrsName\"  />\n                                </FormItem>\n                            </Col>\n                            <Col  :xl=\"6\" :lg=\"9\" :md=\"10\" :sm=\"24\" :xs=\"24\">\n                                <FormItem label=\"规格值：\">\n                                    <Input v-model=\"formDynamic.attrsVal\" placeholder=\"请输入规格值\"  />\n                                </FormItem>\n                            </Col>\n                            <Col :xl=\"6\" :lg=\"5\" :md=\"10\" :sm=\"24\" :xs=\"24\" >\n                                <FormItem>\n                                    <Button type=\"primary\" class=\"mr15\"   @click=\"createAttrName\">确定</Button>\n                                    <Button  @click=\"offAttrName\" >取消</Button>\n                                </FormItem>\n                            </Col>\n                        </Col>\n                        <!-- 多规格设置-->\n                        <Col :xl=\"24\" :lg=\"24\" :md=\"24\" :sm=\"24\" :xs=\"24\" v-if=\"manyFormValidate.length && formValidate.header.length!==0 && attrs.length!==0\">\n                            <!-- 批量设置-->\n                            <Col span=\"24\">\n                                <FormItem label=\"批量设置：\" class=\"labeltop\">\n                                    <Table :data=\"oneFormBatch\" :columns=\"columns2\" border>\n                                        <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                                            <div class=\"acea-row row-middle row-center-wrapper\" @click=\"modalPicTap('dan','duopi',index)\">\n                                                <div class=\"pictrue pictrueTab\" v-if=\"oneFormBatch[0].pic\"><img v-lazy=\"oneFormBatch[0].pic\"></div>\n                                                <div class=\"upLoad pictrueTab acea-row row-center-wrapper\"   v-else>\n                                                    <Icon type=\"ios-camera-outline\" size=\"21\"/>\n                                                </div>\n                                            </div>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"price\">\n                                            <InputNumber  v-model=\"oneFormBatch[0].price\" :min=\"0\"  class=\"priceBox\"></InputNumber>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"cost\">\n                                            <InputNumber  v-model=\"oneFormBatch[0].cost\" :min=\"0\"  class=\"priceBox\"></InputNumber>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"ot_price\">\n                                            <InputNumber  v-model=\"oneFormBatch[0].ot_price\" :min=\"0\"  class=\"priceBox\"></InputNumber>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"stock\">\n                                            <InputNumber  v-model=\"oneFormBatch[0].stock\" :min=\"0\" class=\"priceBox\"></InputNumber>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"bar_code\">\n                                            <Input  v-model=\"oneFormBatch[0].bar_code\"></Input>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"weight\">\n                                            <InputNumber  v-model=\"oneFormBatch[0].weight\" :step=\"0.1\" :min=\"0\" class=\"priceBox\"></InputNumber>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"volume\">\n                                            <InputNumber  v-model=\"oneFormBatch[0].volume\" :step=\"0.1\" :min=\"0\"  class=\"priceBox\"></InputNumber>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"action\">\n                                            <a @click=\"batchAdd\">批量添加</a>\n                                            <Divider type=\"vertical\"/>\n                                            <a @click=\"batchDel\">清空</a>\n                                        </template>\n                                    </Table>\n                                </FormItem>\n                            </Col>\n                            <!-- 多规格表格-->\n                            <Col span=\"24\">\n                                <FormItem label=\"商品属性：\" class=\"labeltop\">\n                                    <Table :data=\"manyFormValidate\" :columns=\"formValidate.header\" border>\n                                        <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                                            <div class=\"acea-row row-middle row-center-wrapper\" @click=\"modalPicTap('dan','duoTable',index)\">\n                                                <div class=\"pictrue pictrueTab\" v-if=\"manyFormValidate[index].pic\"><img v-lazy=\"manyFormValidate[index].pic\"></div>\n                                                <div class=\"upLoad pictrueTab acea-row row-center-wrapper\"   v-else>\n                                                    <Icon type=\"ios-camera-outline\" size=\"21\"/>\n                                                </div>\n                                            </div>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"price\">\n                                            <InputNumber  v-model=\"manyFormValidate[index].price\" :min=\"0\"  class=\"priceBox\"></InputNumber>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"cost\">\n                                            <InputNumber  v-model=\"manyFormValidate[index].cost\" :min=\"0\"  class=\"priceBox\"></InputNumber>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"ot_price\">\n                                            <InputNumber  v-model=\"manyFormValidate[index].ot_price\" :min=\"0\"  class=\"priceBox\"></InputNumber>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"stock\">\n                                            <InputNumber  v-model=\"manyFormValidate[index].stock\" :min=\"0\" :precision=\"0\" class=\"priceBox\"></InputNumber>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"bar_code\">\n                                            <Input  v-model=\"manyFormValidate[index].bar_code\"></Input>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"weight\">\n                                            <InputNumber  v-model=\"manyFormValidate[index].weight\" :min=\"0\" class=\"priceBox\"></InputNumber>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"volume\">\n                                            <InputNumber  v-model=\"manyFormValidate[index].volume\" :min=\"0\" class=\"priceBox\"></InputNumber>\n                                        </template>\n                                        <template slot-scope=\"{ row, index }\" slot=\"action\">\n                                            <a @click=\"delAttrTable(index)\">删除</a>\n                                        </template>\n                                    </Table>\n                                </FormItem>\n                            </Col>\n                        </Col>\n                    </Col>\n                    <!-- 单规格表格-->\n                    <Col :xl=\"23\" :lg=\"24\" :md=\"24\" :sm=\"24\" :xs=\"24\" v-if=\"formValidate.spec_type === 0\">\n                        <FormItem >\n                            <Table :data=\"oneFormValidate\" :columns=\"columns\" border>\n                                <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                                    <div class=\"acea-row row-middle row-center-wrapper\" @click=\"modalPicTap('dan','danTable',index)\">\n                                        <div class=\"pictrue pictrueTab\" v-if=\"oneFormValidate[0].pic\"><img v-lazy=\"oneFormValidate[0].pic\"></div>\n                                        <div class=\"upLoad pictrueTab acea-row row-center-wrapper\"   v-else>\n                                            <Icon type=\"ios-camera-outline\" size=\"21\"/>\n                                        </div>\n                                    </div>\n                                </template>\n                                <template slot-scope=\"{ row, index }\" slot=\"price\">\n                                    <InputNumber  v-model=\"oneFormValidate[0].price\" :min=\"0\"  class=\"priceBox\"></InputNumber>\n                                </template>\n                                <template slot-scope=\"{ row, index }\" slot=\"cost\">\n                                    <InputNumber  v-model=\"oneFormValidate[0].cost\" :min=\"0\"  class=\"priceBox\"></InputNumber>\n                                </template>\n                                <template slot-scope=\"{ row, index }\" slot=\"ot_price\">\n                                    <InputNumber  v-model=\"oneFormValidate[0].ot_price\" :min=\"0\"  class=\"priceBox\"></InputNumber>\n                                </template>\n                                <template slot-scope=\"{ row, index }\" slot=\"stock\">\n                                    <InputNumber  v-model=\"oneFormValidate[0].stock\" :min=\"0\" :precision=\"0\" class=\"priceBox\"></InputNumber>\n                                </template>\n                                <template slot-scope=\"{ row, index }\" slot=\"bar_code\">\n                                    <Input  v-model=\"oneFormValidate[0].bar_code\"></Input>\n                                </template>\n                                <template slot-scope=\"{ row, index }\" slot=\"weight\">\n                                    <InputNumber  v-model=\"oneFormValidate[0].weight\" :min=\"0\" class=\"priceBox\"></InputNumber>\n                                </template>\n                                <template slot-scope=\"{ row, index }\" slot=\"volume\">\n                                    <InputNumber  v-model=\"oneFormValidate[0].volume\" :min=\"0\" class=\"priceBox\"></InputNumber>\n                                </template>\n                            </Table>\n                        </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                        <FormItem label=\"运费模板：\" prop=\"temp_id\">\n                            <div class=\"acea-row\">\n                                <Select v-model=\"formValidate.temp_id\" clearable class=\"mr20 perW50 maxW\">\n                                    <Option v-for=\"(item,index) in templateList\" :value=\"item.id\" :key=\"index\">{{ item.name }}</Option>\n                                </Select>\n                                <Button @click=\"addTemp\">添加运费模板</Button>\n                            </div>\n                        </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                        <FormItem label=\"关联用户标签：\" prop=\"label_id\">\n                            <Select v-model=\"formValidate.label_id\" multiple class=\"perW50\">\n                                <Option v-for=\"item in labelSelect\" :value=\"item.id\" :key=\"item.id\">{{ item.label_name }}</Option>\n                            </Select>\n                        </FormItem>\n                    </Col>\n                </Row>\n                <!-- 商品详情-->\n                <Row v-show=\"currentTab === '2'\">\n                    <Col span=\"24\">\n                        <FormItem label=\"商品详情：\">\n                            <vue-ueditor-wrap v-model=\"formValidate.description\"  @beforeInit=\"addCustomDialog\"  :config=\"myConfig\"  style=\"width: 90%;\"></vue-ueditor-wrap>\n                        </FormItem>\n                    </Col>\n                </Row>\n                <!-- 其他设置-->\n                <Row type=\"flex\" justify=\"space-between\" v-show=\"currentTab === '3'\">\n                    <Col v-bind=\"grid\">\n                        <FormItem label=\"虚拟销量：\">\n                            <InputNumber class=\"perW50\" :min=\"0\" v-model=\"formValidate.ficti\" placeholder=\"请输入虚拟销量\"  />\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid\">\n                        <FormItem label=\"额外赠送积分：\" prop=\"give_integral\">\n                            <InputNumber class=\"perW50\" v-model=\"formValidate.give_integral\" :min=\"0\" placeholder=\"请输入积分\" />\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid\">\n                        <FormItem label=\"排序：\">\n                            <InputNumber :min=\"0\" class=\"perW50\" v-model=\"formValidate.sort\" placeholder=\"请输入排序\" />\n                        </FormItem>\n                    </Col>\n                    <Col span=\"24\">\n                        <FormItem label=\"单独设置：\">\n                            <CheckboxGroup v-model=\"formValidate.is_sub\" @on-change=\"checkAllGroupChange\">\n                                <Checkbox :label=\"1\">佣金设置</Checkbox>\n                            </CheckboxGroup>\n                        </FormItem>\n                    </Col>\n                    <Col span=\"24\" v-if=\"formValidate.is_sub.length\">\n                        <!--单规格返佣-->\n                        <FormItem label=\"商品属性：\" v-if=\"formValidate.spec_type === 0\">\n                            <Table :data=\"oneFormValidate\" :columns=\"columnsInstall\" border>\n                                <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                                    <div class=\"pictrue pictrueTab\"><img v-lazy=\"oneFormValidate[0].pic\"></div>\n                                </template>\n                                <template slot-scope=\"{ row, index }\" slot=\"price\">{{oneFormValidate[0].price}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"cost\">{{oneFormValidate[0].cost}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"ot_price\">{{oneFormValidate[0].ot_price}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"stock\">{{oneFormValidate[0].stock}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"bar_code\">{{oneFormValidate[0].bar_code}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"weight\">{{oneFormValidate[0].weight}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"volume\">{{oneFormValidate[0].volume}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"brokerage\">\n                                    <InputNumber  v-model=\"oneFormValidate[0].brokerage\" :min=\"0\" class=\"priceBox\"></InputNumber>\n                                </template>\n                                <template slot-scope=\"{ row, index }\" slot=\"brokerage_two\">\n                                    <InputNumber  v-model=\"oneFormValidate[0].brokerage_two\" :min=\"0\" class=\"priceBox\"></InputNumber>\n                                </template>\n                            </Table>\n                        </FormItem>\n                        <!--多规格返佣-->\n                        <FormItem label=\"批量设置：\" v-if=\"formValidate.spec_type === 1\">\n                            <span v-if=\"formValidate.is_sub.indexOf(1) > -1\">\n                                一级返佣：<InputNumber placeholder=\"请输入一级返佣\" :min=\"0\" class=\"columnsBox perW20\" v-model=\"manyBrokerage\"></InputNumber>\n                                二级返佣：<InputNumber placeholder=\"请输入二级返佣\" :min=\"0\" class=\"columnsBox perW20\" v-model=\"manyBrokerageTwo\"></InputNumber>\n                            </span>\n                            <Button type=\"primary\" @click=\"brokerageSetUp\">批量设置</Button>\n                        </FormItem>\n                        <FormItem label=\"商品属性：\" v-if=\"formValidate.spec_type === 1 && manyFormValidate.length\">\n                            <Table :data=\"manyFormValidate\" :columns=\"columnsInstal2\" border>\n                                <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                                    <div class=\"pictrue pictrueTab\"><img v-lazy=\"manyFormValidate[index].pic\"></div>\n                                </template>\n                                <template slot-scope=\"{ row, index }\" slot=\"price\">{{manyFormValidate[index].price}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"cost\">{{manyFormValidate[index].cost}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"ot_price\">{{manyFormValidate[index].ot_price}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"stock\">{{manyFormValidate[index].stock}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"bar_code\">{{manyFormValidate[index].bar_code}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"weight\">{{manyFormValidate[index].weight}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"volume\">{{manyFormValidate[index].volume}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"brokerage\">\n                                    <InputNumber  v-model=\"manyFormValidate[index].brokerage\" :min=\"0\" class=\"priceBox\"></InputNumber>\n                                </template>\n                                <template slot-scope=\"{ row, index }\" slot=\"brokerage_two\">\n                                    <InputNumber  v-model=\"manyFormValidate[index].brokerage_two\" :min=\"0\" class=\"priceBox\"></InputNumber>\n                                </template>\n                            </Table>\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid\">\n                        <FormItem label=\"商品状态：\">\n                            <RadioGroup v-model=\"formValidate.is_show\" >\n                                <Radio :label=\"1\" class=\"radio\">上架</Radio>\n                                <Radio :label=\"0\">下架</Radio>\n                            </RadioGroup>\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid\">\n                        <FormItem label=\"热卖单品：\">\n                            <RadioGroup v-model=\"formValidate.is_hot\" >\n                                <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                                <Radio :label=\"0\">关闭</Radio>\n                            </RadioGroup>\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid\">\n                        <FormItem label=\"促销单品：\">\n                            <RadioGroup v-model=\"formValidate.is_benefit\" >\n                                <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                                <Radio :label=\"0\">关闭</Radio>\n                            </RadioGroup>\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid\">\n                        <FormItem label=\"精品推荐：\">\n                            <RadioGroup v-model=\"formValidate.is_best\" >\n                                <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                                <Radio :label=\"0\">关闭</Radio>\n                            </RadioGroup>\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid\">\n                        <FormItem label=\"首发新品：\">\n                            <RadioGroup v-model=\"formValidate.is_new\" >\n                                <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                                <Radio :label=\"0\">关闭</Radio>\n                            </RadioGroup>\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid\">\n                        <FormItem label=\"优品推荐：\">\n                            <RadioGroup v-model=\"formValidate.is_good\">\n                                <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                                <Radio :label=\"0\">关闭</Radio>\n                            </RadioGroup>\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid3\">\n                        <FormItem label=\"活动优先级：\">\n                            <div class=\"color-list acea-row row-middle\">\n                                <div\n                                        class=\"color-item\" :class=\"activity[color]\"\n                                        v-for=\"color in formValidate.activity\" v-dragging=\"{ item: color, list: formValidate.activity, group: 'color' }\"\n                                        :key=\"color\"\n                                >{{color}}</div>\n                                <div class=\"tip\">可拖动按钮调整活动的优先展示顺序</div>\n                            </div>\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid3\">\n                        <FormItem label=\"赠送优惠券：\">\n                            <div v-if=\"couponName.length\" class=\"mb20\">\n                                <Tag closable v-for=\"(item, index) in couponName\" :key=\"index\" @on-close=\"handleClose(item)\">{{item.title}}</Tag>\n                            </div>\n                            <Button type=\"primary\" @click=\"addCoupon\">添加优惠券</Button>\n                        </FormItem>\n                    </Col>\n                    <Col v-bind=\"grid3\">\n                        <FormItem label=\"商品口令：\">\n                            <Input v-model=\"formValidate.command_word\" placeholder=\"请输入商品口令\" style=\"width: 50%\"/>\n                        </FormItem>\n                    </Col>\n                </Row>\n                <FormItem>\n                    <Button v-if=\"currentTab !== '1'\" @click=\"upTab\">上一步</Button>\n                    <Button type=\"primary\" class=\"submission\" v-if=\"currentTab !== '3'\" @click=\"downTab\">下一步</Button>\n                    <Button type=\"primary\" :disabled=\"openSubimit\" class=\"submission\" @click=\"handleSubmit('formValidate')\" v-if=\"$route.params.id || currentTab === '3'\">保存</Button>\n                </FormItem>\n                <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\n            </Form>\n            <Modal v-model=\"modalPic\" width=\"950px\" scrollable  footer-hide closable title='上传商品图' :mask-closable=\"false\" :z-index=\"999\">\n                <uploadPictures :isChoice=\"isChoice\" @getPic=\"getPic\" @getPicD=\"getPicD\" :gridBtn=\"gridBtn\" :gridPic=\"gridPic\" v-if=\"modalPic\"></uploadPictures>\n            </Modal>\n        </Card>\n        <freightTemplate :template=\"template\" v-on:changeTemplate=\"changeTemplate\" ref=\"templates\"></freightTemplate>\n        <add-attr ref=\"addattr\" @getList=\"userSearchs\"></add-attr>\n        <coupon-list ref=\"couponTemplates\" @nameId=\"nameId\" :couponids=\"formValidate.coupon_ids\" :updateIds=\"updateIds\" :updateName=\"updateName\"></coupon-list>\n    </div>\n</template>\n\n<script>\n// import COS from 'cos-js-sdk-v5'\n    import { mapState } from 'vuex'\n    import vuedraggable from 'vuedraggable'\n    import uploadPictures from '@/components/uploadPictures'\n    import freightTemplate from '@/components/freightTemplate'\n    import couponList from '@/components/couponList'\n    import addAttr from '../productAttr/addAttr'\n    import VueUeditorWrap from 'vue-ueditor-wrap'\n    import { productInfoApi, treeListApi, productAddApi, generateAttrApi, productGetRuleApi, productGetTemplateApi, productGetTempKeysApi, checkActivityApi, labelListApi } from '@/api/product'\n    export default {\n        name: 'product_productAdd',\n        components: { VueUeditorWrap, uploadPictures, freightTemplate, addAttr, couponList, draggable: vuedraggable },\n        data () {\n            return {\n                spinShow: false,\n                openSubimit:false,\n                grid2: {\n                    xl: 10,\n                    lg: 12,\n                    md: 12,\n                    sm: 24,\n                    xs: 24\n                },\n                grid3: {\n                    xl: 18,\n                    lg: 18,\n                    md: 20,\n                    sm: 24,\n                    xs: 24\n                },\n                // 批量设置表格data\n                oneFormBatch: [\n                    {\n                        pic: '',\n                        price: 0,\n                        cost: 0,\n                        ot_price: 0,\n                        stock: 0,\n                        bar_code: '',\n                        weight: 0,\n                        volume: 0\n                    }\n                ],\n                // 规格数据\n                formDynamic: {\n                    attrsName: '',\n                    attrsVal: ''\n                },\n                formDynamicNameData: [],\n                isBtn: false,\n                myConfig: {\n                    autoHeightEnabled: false, // 编辑器不自动被内容撑高\n                    initialFrameHeight: 500, // 初始容器高度\n                    initialFrameWidth: '100%', // 初始容器宽度\n                    UEDITOR_HOME_URL: '/admin/UEditor/',\n                    serverUrl: ''\n                },\n                columns2: [\n                    {\n                        title: '图片',\n                        slot: 'pic',\n                        align: 'center',\n                        minWidth: 80\n                    },\n                    {\n                        title: '售价',\n                        slot: 'price',\n                        align: 'center',\n                        minWidth: 95\n                    },\n                    {\n                        title: '成本价',\n                        slot: 'cost',\n                        align: 'center',\n                        minWidth: 95\n                    },\n                    {\n                        title: '原价',\n                        slot: 'ot_price',\n                        align: 'center',\n                        minWidth: 95\n                    },\n                    {\n                        title: '库存',\n                        slot: 'stock',\n                        align: 'center',\n                        minWidth: 95\n                    },\n                    {\n                        title: '商品编号',\n                        slot: 'bar_code',\n                        align: 'center',\n                        minWidth: 120\n                    },\n                    {\n                        title: '重量（KG）',\n                        slot: 'weight',\n                        align: 'center',\n                        minWidth: 95\n                    },\n                    {\n                        title: '体积(m³)',\n                        slot: 'volume',\n                        align: 'center',\n                        minWidth: 95\n                    },\n                    {\n                        title: '操作',\n                        slot: 'action',\n                        fixed: 'right',\n                        align: 'center',\n                        minWidth: 140\n                    }\n                ],\n                columns: [],\n                columnsInstall: [],\n                columnsInstal2: [],\n                gridPic: {\n                    xl: 6,\n                    lg: 8,\n                    md: 12,\n                    sm: 12,\n                    xs: 12\n                },\n                gridBtn: {\n                    xl: 4,\n                    lg: 8,\n                    md: 8,\n                    sm: 8,\n                    xs: 8\n                },\n                formValidate: {\n                    store_name: '',\n                    cate_id: [],\n                    label_id: [],\n                    keyword: '',\n                    unit_name: '',\n                    store_info: '',\n                    image: '',\n                    recommend_image: '',\n                    slider_image: [],\n                    description: '',\n                    ficti: 0,\n                    give_integral: 0,\n                    sort: 0,\n                    is_show: 1,\n                    is_hot: 0,\n                    is_benefit: 0,\n                    is_best: 0,\n                    is_new: 0,\n                    is_good: 0,\n                    is_postage: 0,\n                    is_sub: [],\n                    id: 0,\n                    spec_type: 0,\n                    video_link: '',\n                    // postage: 0,\n                    temp_id: '',\n                    attrs: [],\n                    items: [\n                        {\n                            pic: '',\n                            price: 0,\n                            cost: 0,\n                            ot_price: 0,\n                            stock: 0,\n                            bar_code: ''\n                        }\n                    ],\n                    activity: ['默认', '秒杀', '砍价', '拼团'],\n                    couponName: [],\n                    header: [],\n                    selectRule: '',\n                    coupon_ids: [],\n                    command_word: ''\n                },\n                ruleList: [],\n                templateList: [],\n                createBnt: false,\n                showIput: false,\n                manyFormValidate: [],\n                // 单规格表格data\n                oneFormValidate: [\n                    {\n                        pic: '',\n                        price: 0,\n                        cost: 0,\n                        ot_price: 0,\n                        stock: 0,\n                        bar_code: '',\n                        weight: 0,\n                        volume: 0,\n                        brokerage: 0,\n                        brokerage_two: 0,\n                        vip_price: 0\n                    }\n                ],\n                images: [],\n                imagesTable: '',\n                currentTab: '1',\n                isChoice: '',\n                grid: {\n                    xl: 8,\n                    lg: 8,\n                    md: 12,\n                    sm: 24,\n                    xs: 24\n                },\n                loading: false,\n                modalPic: false,\n                template: false,\n                uploadList: [],\n                treeSelect: [],\n                labelSelect: [],\n                picTit: '',\n                tableIndex: 0,\n                ruleValidate: {\n                    store_name: [\n                        { required: true, message: '请输入商品名称', trigger: 'blur' }\n                    ],\n                    cate_id: [\n                        { required: true, message: '请选择商品分类', trigger: 'change', type: 'array', min: '1' }\n                    ],\n                    keyword: [\n                        { required: true, message: '请输入商品关键字', trigger: 'blur' }\n                    ],\n                    unit_name: [\n                        { required: true, message: '请输入单位', trigger: 'blur' }\n                    ],\n                    store_info: [\n                        { required: true, message: '请输入商品简介', trigger: 'blur' }\n                    ],\n                    image: [\n                        { required: true, message: '请上传商品图', trigger: 'change' }\n                    ],\n                    slider_image: [\n                        { required: true, message: '请上传商品轮播图', type: 'array', trigger: 'change' }\n                    ],\n                    spec_type: [\n                        { required: true, message: '请选择商品规格', trigger: 'change' }\n                    ],\n                    selectRule: [\n                        { required: true, message: '请选择商品规格属性', trigger: 'change' }\n                    ],\n                    temp_id: [\n                        { required: true, message: '请选择运费模板', trigger: 'change', type: 'number' }\n                    ],\n                    give_integral: [\n                        { type: \"integer\", message: \"请输入整数\" }\n                    ]\n                },\n                manyBrokerage: 0,\n                manyBrokerageTwo: 0,\n                manyVipPrice: 0,\n                upload: {\n                    videoIng: false // 是否显示进度条；\n                },\n                progress: 0, // 进度条默认0\n                videoLink: '',\n                attrs: [],\n                activity: { '默认': 'red', '秒杀': 'blue', '砍价': 'green', '拼团': 'yellow' },\n                couponName: [],\n                updateIds:[],\n                updateName:[],\n                rakeBack:[\n                    {\n                        title: '一级返佣(元)',\n                        slot: 'brokerage',\n                        align: 'center',\n                        width: 95\n                    },\n                    {\n                        title: '二级返佣(元)',\n                        slot: 'brokerage_two',\n                        align: 'center',\n                        width: 95\n                    }\n                ],\n                columnsInstalM:[],\n                moveIndex:''\n            }\n        },\n        computed: {\n            labelBottom () {\n                return this.isMobile ? undefined : 15\n            }\n        },\n        created () {\n            this.columns = this.columns2.slice(0, 8);\n        },\n        mounted () {\n            if (this.$route.params.id !== '0' && this.$route.params.id) {\n                this.getInfo()\n            }\n            this.goodsCategory()\n            this.productGetRule()\n            this.productGetTemplate()\n            this.userLabel()\n        },\n        methods: {\n            checkMove(evt){\n                this.moveIndex = evt.draggedContext.index;\n            },\n            end(){\n                this.moveIndex = '';\n            },\n            checkAllGroupChange(data) {\n                this.checkAllGroup(data);\n            },\n            checkAllGroup(data){\n                if(this.formValidate.spec_type === 0){\n                    if(data.indexOf(0) > -1){\n                        this.columnsInstall = this.columns2.slice(0, 4).concat(this.member)\n                    }else if(data.indexOf(1) > -1){\n                        this.columnsInstall = this.columns2.slice(0, 4).concat(this.rakeBack);\n                    }else {\n                        this.columnsInstall = this.columns2.slice(0, 4)\n                    }\n                    if(data.length === 2){\n                        this.columnsInstall = this.columns2.slice(0, 4).concat(this.rakeBack).concat(this.member);\n                    }\n                }else {\n                    if(data.indexOf(0) > -1){\n                        this.columnsInstal2 = this.columnsInstalM.slice(0, 4).concat(this.member)\n                    }else if(data.indexOf(1) > -1){\n                        this.columnsInstal2 = this.columnsInstalM.slice(0, 4).concat(this.rakeBack);\n                    }else {\n                        this.columnsInstal2 = this.columnsInstalM.slice(0, 4)\n                    }\n                    if(data.length === 2){\n                        console.log('kjhhhhhhhhhhhhhhhhhooo');\n                        this.columnsInstal2 = this.columnsInstalM.slice(0, 4).concat(this.rakeBack).concat(this.member);\n                    }\n                }\n            },\n            // 添加优惠券\n            addCoupon () {\n                this.$refs.couponTemplates.isTemplate = true\n                this.$refs.couponTemplates.tableList()\n            },\n            //对象数组去重；\n            unique(arr) {\n                const res = new Map();\n                return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1))\n            },\n            nameId (id,names) {\n                this.formValidate.coupon_ids = id;\n                this.couponName = this.unique(names);\n            },\n            handleClose (name) {\n                let index = this.couponName.indexOf(name);\n                this.couponName.splice(index, 1);\n                let couponIds = this.formValidate.coupon_ids;\n                couponIds.splice(index, 1);\n                this.updateIds = couponIds;\n                this.updateName = this.couponName;\n            },\n            // 运费模板\n            getList () {\n                this.productGetTemplate()\n            },\n            // 添加运费模板\n            addTemp () {\n                this.$refs.templates.isTemplate = true\n            },\n            // 删除视频；\n            delVideo () {\n                let that = this\n                that.$set(that.formValidate, 'video_link', '')\n            },\n            zh_uploadFile () {\n                if (this.videoLink) {\n                    this.formValidate.video_link = this.videoLink\n                } else {\n                    this.$refs.refid.click()\n                }\n            },\n            zh_uploadFile_change (evfile) {\n                let that = this\n                let suffix = evfile.target.files[0].name.substr(evfile.target.files[0].name.indexOf('.'))\n                if (suffix !== '.mp4') {\n                    return that.$Message.error('只能上传MP4文件')\n                }\n                productGetTempKeysApi().then(res => {\n                    that.$videoCloud.videoUpload({\n                        type: res.data.type,\n                        evfile: evfile,\n                        res: res,\n                        uploading (status, progress) {\n                            that.upload.videoIng = status\n                            console.log(status, progress)\n                        }\n                    }).then(res => {\n                        that.formValidate.video_link = res.url\n                        that.$Message.success('视频上传成功')\n                    }).catch(res => {\n                        that.$Message.error(res)\n                    })\n                }).catch(res => {\n                    that.$Message.error(res.msg);\n                });\n            },\n            // 上一页；\n            upTab () {\n                this.currentTab = (Number(this.currentTab) - 1).toString()\n            },\n            // 下一页；\n            downTab () {\n                this.currentTab = (Number(this.currentTab) + 1).toString()\n            },\n            // 属性弹窗回调函数；\n            userSearchs () {\n                this.productGetRule()\n            },\n            // 添加规则；\n            addRule () {\n                this.$refs.addattr.modal = true\n            },\n            // 批量设置分佣；\n            brokerageSetUp () {\n                let that = this\n                if(that.formValidate.is_sub.indexOf(1) > -1){\n                    if(that.manyBrokerage <= 0 || that.manyBrokerageTwo <= 0){\n                        return that.$Message.error('请填写返佣金额后进行批量添加')\n                    }\n                }else if(that.formValidate.is_sub.indexOf(0) > -1){\n                    if(that.manyVipPrice <= 0){\n                        return that.$Message.error('请填写会员价后进行批量添加')\n                    }\n                }\n                if(this.formValidate.is_sub.length===2){\n                    if(that.manyBrokerage <= 0 || that.manyBrokerageTwo <= 0 || that.manyVipPrice <= 0){\n                        return that.$Message.error('请填写完金额后进行批量添加')\n                    }\n                }\n                for (let val of that.manyFormValidate) {\n                    this.$set(val, 'brokerage', that.manyBrokerage)\n                    this.$set(val, 'brokerage_two', that.manyBrokerageTwo)\n                    this.$set(val, 'vip_price', that.manyVipPrice)\n                }\n            },\n            batchDel () {\n                this.oneFormBatch = [\n                    {\n                        pic: '',\n                        price: 0,\n                        cost: 0,\n                        ot_price: 0,\n                        stock: 0,\n                        bar_code: '',\n                        weight: 0,\n                        volume: 0\n                    }\n                ]\n            },\n            confirm () {\n                let that = this\n                that.createBnt = true\n                if (that.formValidate.selectRule.trim().length <= 0) {\n                    return that.$Message.error('请选择属性')\n                }\n                that.ruleList.forEach(function (item, index) {\n                    if (item.rule_name === that.formValidate.selectRule) {\n                        that.attrs = item.rule_value\n                    }\n                })\n            },\n            // 获取商品属性模板；\n            productGetRule () {\n                productGetRuleApi().then(res => {\n                    this.ruleList = res.data\n                })\n            },\n            // 获取运费模板；\n            productGetTemplate () {\n                productGetTemplateApi().then(res => {\n                    this.templateList = res.data\n                })\n            },\n            // 删除表格中的属性\n            delAttrTable (index) {\n                let id = this.$route.params.id\n                if (id) {\n                    checkActivityApi(id).then(res => {\n                        this.manyFormValidate.splice(index, 1)\n                        this.$Message.success(res.msg)\n                    }).catch(res => {\n                        this.$Message.error(res.msg);\n                    })\n                } else {\n                    this.manyFormValidate.splice(index, 1)\n                }\n            },\n            // 批量添加\n            batchAdd () {\n                // if (!this.oneFormBatch[0].pic || !this.oneFormBatch[0].price || !this.oneFormBatch[0].cost || !this.oneFormBatch[0].ot_price ||\n                //     !this.oneFormBatch[0].stock || !this.oneFormBatch[0].bar_code) return this.$Message.warning('请填写完整的批量设置内容！');\n                // if (!this.oneFormBatch[0].pic) {\n                //     return this.$Message.warning('请选择有效图片');\n                // }\n                for (let val of this.manyFormValidate) {\n                    if (this.oneFormBatch[0].pic) {\n                        this.$set(val, 'pic', this.oneFormBatch[0].pic)\n                    }\n                    if (this.oneFormBatch[0].price > 0) {\n                        this.$set(val, 'price', this.oneFormBatch[0].price)\n                    }\n                    if (this.oneFormBatch[0].cost > 0) {\n                        this.$set(val, 'cost', this.oneFormBatch[0].cost)\n                    }\n                    if (this.oneFormBatch[0].ot_price > 0) {\n                        this.$set(val, 'ot_price', this.oneFormBatch[0].ot_price)\n                    }\n                    if (this.oneFormBatch[0].stock > 0) {\n                        this.$set(val, 'stock', this.oneFormBatch[0].stock)\n                    }\n                    if (this.oneFormBatch[0].bar_code !== '') {\n                        this.$set(val, 'bar_code', this.oneFormBatch[0].bar_code)\n                    }\n                    if (this.oneFormBatch[0].weight > 0) {\n                        this.$set(val, 'weight', this.oneFormBatch[0].weight)\n                    }\n                    if (this.oneFormBatch[0].volume > 0) {\n                        this.$set(val, 'volume', this.oneFormBatch[0].volume)\n                    }\n                    // this.$set(val, 'price', this.oneFormBatch[0].price);\n                    // this.$set(val, 'cost', this.oneFormBatch[0].cost);\n                    // this.$set(val, 'ot_price', this.oneFormBatch[0].ot_price);\n                    // this.$set(val, 'stock', this.oneFormBatch[0].stock);\n                    // this.$set(val, 'bar_code', this.oneFormBatch[0].bar_code);\n                    // this.$set(val, 'weight', this.oneFormBatch[0].weight);\n                    // this.$set(val, 'volume', this.oneFormBatch[0].volume);\n                }\n            },\n            // 添加按钮\n            addBtn () {\n                this.clearAttr()\n                this.createBnt = false\n                this.showIput = true\n            },\n            // 立即生成\n            generate (type) {\n                generateAttrApi({ attrs: this.attrs }, this.formValidate.id, type).then(res => {\n                    let info = res.data.info, header1 = JSON.parse(JSON.stringify(info.header));\n                    this.manyFormValidate = info.value;\n                    this.formValidate.header = header1;\n                    let header = info.header;\n                    // let brokerage = [\n                    //     {\n                    //         title: '一级返佣',\n                    //         slot: 'brokerage',\n                    //         align: 'center',\n                    //         width: 95\n                    //     },\n                    //     {\n                    //         title: '二级返佣',\n                    //         slot: 'brokerage_two',\n                    //         align: 'center',\n                    //         width: 95\n                    //     }\n                    // ];\n                    header.pop();\n                    // this.columnsInstal2 = info.header.concat(brokerage);\n                    this.columnsInstalM = info.header;\n                    this.checkAllGroup(this.formValidate.is_sub);\n                    if (!this.$route.params.id && this.formValidate.spec_type === 1) {\n                        this.manyFormValidate.map((item) => {\n                            item.pic = this.formValidate.image\n                        });\n                        this.oneFormBatch[0].pic = this.formValidate.image;\n                    }\n                }).catch(res => {\n                    this.$Message.error(res.msg);\n                })\n            },\n            // 取消\n            offAttrName () {\n                this.showIput = false\n                this.createBnt = true\n            },\n            clearAttr () {\n                this.formDynamic.attrsName = ''\n                this.formDynamic.attrsVal = ''\n            },\n            // 删除规格\n            handleRemoveRole (index) {\n                this.attrs.splice(index, 1)\n                this.manyFormValidate.splice(index, 1)\n            },\n            // 删除属性\n            handleRemove2 (item, index) {\n                item.splice(index, 1)\n            },\n            // 添加规则名称\n            createAttrName () {\n                if (this.formDynamic.attrsName && this.formDynamic.attrsVal) {\n                    let data = {\n                        value: this.formDynamic.attrsName,\n                        detail: [\n                            this.formDynamic.attrsVal\n                        ]\n                    }\n                    this.attrs.push(data)\n                    var hash = {}\n                    this.attrs = this.attrs.reduce(function (item, next) {\n                        /* eslint-disable */\n                        hash[next.value] ? '' : hash[next.value] = true && item.push(next);\n                        return item\n                    }, [])\n                    this.clearAttr();\n                    this.showIput = false;\n                    this.createBnt = true;\n                } else {\n                    this.$Message.warning('请添加完整的规格！');\n                }\n            },\n            // 添加属性\n            createAttr (num, idx) {\n                if (num) {\n                    this.attrs[idx].detail.push(num);\n                    var hash = {};\n                    this.attrs[idx].detail = this.attrs[idx].detail.reduce(function (item, next) {\n                        /* eslint-disable */\n                        hash[next] ? '' : hash[next] = true && item.push(next);\n                        return item\n                    }, [])\n                } else {\n                    this.$Message.warning('请添加属性');\n                }\n            },\n            // 商品分类；\n            goodsCategory () {\n                treeListApi(1).then(res => {\n                    this.treeSelect = res.data;\n                }).catch(res => {\n                    this.$Message.error(res.msg);\n                })\n            },\n            // 用户标签\n            userLabel () {\n                labelListApi().then(res => {\n                    this.labelSelect = res.data.list;\n                }).catch(res => {\n                    this.$Message.error(res.msg);\n                })\n            },\n            // 改变规格\n            changeSpec () {\n                this.formValidate.is_sub = [];\n                let id = this.$route.params.id;\n                if (id) {\n                    checkActivityApi(id).then(res => {\n\n                    }).catch(res => {\n                        this.formValidate.spec_type = this.spec_type;\n                        this.$Message.error(res.msg);\n                    })\n                }\n            },\n            // 详情\n            getInfo () {\n                let that = this;\n                that.spinShow = true;\n                productInfoApi(that.$route.params.id).then(async res => {\n                    let data = res.data.productInfo;\n                    let cate_id = data.cate_id.map(Number);\n                    let label_id = data.label_id.map(Number);\n                    this.attrs = data.items || [];\n                    let ids = [];\n                    // let names = [];\n                    data.coupons.map((item) => {\n                        ids.push(item.id);\n                        // names.push(item.title);\n                    });\n                    that.formValidate = data;\n                    that.couponName = data.coupons;\n                    that.formValidate.coupon_ids = ids;\n                    that.updateIds = ids;\n                    that.updateName = data.coupons;\n                    that.formValidate.cate_id = cate_id;\n                    that.formValidate.label_id = label_id;\n                    that.oneFormValidate = [data.attr];\n                    that.formValidate.header = [];\n                    that.generate(0);\n                    that.manyFormValidate = data.attrs;\n                    that.spec_type = data.spec_type;\n                    if(data.spec_type === 0){\n                        that.manyFormValidate = [];\n                    }else {\n                        that.createBnt = true;\n                        that.oneFormValidate = [\n                            {\n                                pic: '',\n                                price: 0,\n                                cost: 0,\n                                ot_price: 0,\n                                stock: 0,\n                                bar_code: '',\n                                weight:0,\n                                volume:0,\n                                brokerage:0,\n                                brokerage_two:0,\n                                vip_price:0\n                            }\n                        ]\n                    }\n                    this.spinShow = false;\n                }).catch(res => {\n                    this.spinShow = false;\n                    this.$Message.error(res.msg);\n                })\n            },\n            // tab切换\n            onhangeTab (name) {\n                this.currentTab = name;\n            },\n            handleRemove (i) {\n                this.images.splice(i, 1);\n                this.formValidate.slider_image.splice(i, 1);\n            },\n            // 关闭图片上传模态框\n            changeCancel (msg) {\n                this.modalPic = false\n            },\n            // 点击商品图\n            modalPicTap (tit,picTit,index) {\n                this.modalPic = true;\n                this.isChoice = tit === 'dan' ? '单选' : '多选';\n                this.picTit = picTit;\n                this.tableIndex = index;\n            },\n            // 获取单张图片信息\n            getPic (pc) {\n                switch (this.picTit) {\n                    case 'danFrom':\n                        this.formValidate.image = pc.att_dir;\n                        if(!this.$route.params.id){\n                            if(this.formValidate.spec_type === 0){\n                                this.oneFormValidate[0].pic =  pc.att_dir;\n                            }else{\n                                this.manyFormValidate.map((item) => {\n                                    item.pic = pc.att_dir;\n                                });\n                                this.oneFormBatch[0].pic =  pc.att_dir;\n                            }\n                        }\n                        break;\n                    case 'danTable':\n                        this.oneFormValidate[this.tableIndex].pic = pc.att_dir;\n                        break;\n                    case 'duopi':\n                        this.oneFormBatch[this.tableIndex].pic = pc.att_dir;\n                        break;\n                  case 'recommend_image':\n                        this.formValidate.recommend_image=pc.att_dir;\n                        break;\n                  default:\n                        this.manyFormValidate[this.tableIndex].pic=pc.att_dir;\n                }\n                this.modalPic = false;\n            },\n            // 获取多张图信息\n            getPicD (pc) {\n                this.images = pc;\n                this.images.map((item) => {\n                    this.formValidate.slider_image.push(item.att_dir);\n                    this.formValidate.slider_image = this.formValidate.slider_image.splice(0,10);\n                });\n                this.modalPic = false;\n            },\n            // 提交\n            handleSubmit (name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        if(this.formValidate.spec_type ===0 ){\n                            this.formValidate.attrs = this.oneFormValidate;\n                            this.formValidate.header = [];\n                            this.formValidate.items = [];\n                        }else{\n                            this.formValidate.items = this.attrs;\n                            this.formValidate.attrs = this.manyFormValidate;\n                        }\n                        if(this.formValidate.spec_type === 1 && this.manyFormValidate.length===0){\n                            return this.$Message.warning('商品信息-请点击生成多规格');\n                        }\n                        let item = this.formValidate.attrs;\n                        if(this.formValidate.is_sub[0] === 1){\n                            for (let i = 0; i < item.length; i++) {\n                                if(item[i].brokerage === null || item[i].brokerage_two === null){\n                                    return this.$Message.error('其他设置- 一二级返佣不能为空');\n                                }\n                            }\n                        }else{\n                            for (let i = 0; i < item.length; i++) {\n                                if(item[i].vip_price === null){\n                                    return this.$Message.error('其他设置-会员价不能为空');\n                                }\n                            }\n                        }\n                        if(this.formValidate.is_sub.length === 2){\n                            for (let i = 0; i < item.length; i++) {\n                                if(item[i].brokerage === null || item[i].brokerage_two === null || item[i].vip_price === null){\n                                    return this.$Message.error('其他设置- 一二级返佣和会员价不能为空');\n                                }\n                            }\n                        }\n                        this.openSubimit = true;\n                        productAddApi(this.formValidate).then(async res => {\n                            this.openSubimit = false;\n                            this.$Message.success(res.msg);\n                            setTimeout(() => {\n                                this.$router.push({ path: '/admin/product/product_list' });\n                            }, 500);\n                        }).catch(res => {\n                            this.openSubimit = false;\n                            this.$Message.error(res.msg);\n                        })\n                    } else {\n                        if(!this.formValidate.store_name){\n                            return this.$Message.warning(\"商品信息-商品名称不能为空\");\n                        }else if(!this.formValidate.cate_id.length){\n                            return this.$Message.warning(\"商品信息-商品分类不能为\");\n                        }else if(!this.formValidate.keyword){\n                            return this.$Message.warning(\"商品信息-商品关键字不能为\");\n                        }else if(!this.formValidate.unit_name){\n                            return this.$Message.warning(\"商品信息-商品单位不能为\");\n                        }else if(!this.formValidate.store_info){\n                            return this.$Message.warning(\"商品信息-商品简介不能为\");\n                        }else if(!this.formValidate.image){\n                            return this.$Message.warning(\"商品信息-商品封面图不能为\");\n                        }else if(!this.formValidate.slider_image.length){\n                            return this.$Message.warning(\"商品信息-商品轮播图不能为\");\n                        }else if(!this.formValidate.temp_id){\n                            return this.$Message.warning(\"商品信息-运费模板不能为\");\n                        }\n                    }\n                })\n            },\n            changeTemplate (msg) {\n                this.template = msg\n            },\n            // 表单验证\n            validate (prop, status, error) {\n                if (status === false) {\n                    this.$Message.warning(error);\n                }\n            },\n            // 移动\n            handleDragStart (e, item) {\n                this.dragging = item;\n            },\n            handleDragEnd (e, item) {\n                this.dragging = null\n            },\n            handleDragOver (e) {\n                e.dataTransfer.dropEffect = 'move'\n            },\n            handleDragEnter (e, item) {\n                e.dataTransfer.effectAllowed = 'move'\n                if (item === this.dragging) {\n                    return\n                }\n                const newItems = [...this.formValidate.slider_image]\n                const src = newItems.indexOf(this.dragging)\n                const dst = newItems.indexOf(item)\n                newItems.splice(dst, 0, ...newItems.splice(src, 1))\n                this.formValidate.slider_image = newItems;\n            },\n            // 添加自定义弹窗\n            addCustomDialog (editorId) {\n                window.UE.registerUI('test-dialog', function (editor, uiName) {\n                    // 创建 dialog\n                    let dialog = new window.UE.ui.Dialog({\n                        iframeUrl: '/admin/widget.images/index.html?fodder=dialog',\n                        editor: editor,\n                        name: uiName,\n                        title: '上传图片',\n                        cssRules: 'width:1200px;height:500px;padding:20px;'\n                    });\n                    this.dialog = dialog;\n                    let btn = new window.UE.ui.Button({\n                        name: 'dialog-button',\n                        title: '上传图片',\n                        cssRules: `background-image: url(../../../assets/images/icons.png);background-position: -726px -77px;`,\n                        onclick: function () {\n                            // 渲染dialog\n                            dialog.render();\n                            dialog.open();\n                        }\n                    });\n                    return btn;\n                }, 37);\n                window.UE.registerUI('video-dialog', function (editor, uiName) {\n                    let dialog = new window.UE.ui.Dialog({\n                        iframeUrl: '/admin/widget.video/index.html?fodder=video',\n                        editor: editor,\n                        name: uiName,\n                        title: '上传视频',\n                        cssRules: 'width:1000px;height:500px;padding:20px;'\n                    });\n                    this.dialog = dialog;\n                    let btn = new window.UE.ui.Button({\n                        name: 'video-button',\n                        title: '上传视频',\n                        cssRules: `background-image: url(../../../assets/images/icons.png);background-position: -320px -20px;`,\n                        onclick: function () {\n                            // 渲染dialog\n                            dialog.render();\n                            dialog.open();\n                        }\n                    });\n                    return btn;\n                }, 38);\n            }\n        }\n    }\n</script>\n<style scoped lang=\"stylus\">\n    .list-group{\n        margin-left -8px\n    }\n    .borderStyle{\n        border: 1px solid #ccc;\n        padding: 8px;\n        border-radius: 4px;\n    }\n    .drag\n        cursor move\n    .move-icon{\n        width 30px\n        cursor move\n        margin-right 10px\n    }\n    .move-icon .icondrag2{\n        font-size: 26px;\n        color: #d8d8d8;\n    }\n\n    .maxW /deep/.ivu-select-dropdown{\n        max-width 600px;\n    }\n    #shopp-manager .ivu-table-wrapper\n      border-left: 1px solid #dcdee2;\n      border-top: 1px solid #dcdee2;\n    .noLeft\n        >>> .ivu-form-item-content\n         margin-left 0 !important\n    #shopp-manager .ivu-form-item{\n        position: relative;\n    }\n    #shopp-manager .ivu-form-item .tips{\n        position: absolute;\n        color: #999;\n        top: 29px;\n        left: -77px;\n        font-size: 12px;\n    }\n    .iview-video-style{\n        width: 40%;\n        height: 180px;\n        border-radius: 10px;\n        background-color: #707070;\n        margin-top: 10px;\n        position: relative;\n        overflow: hidden;\n    }\n    .iview-video-style .iconv{\n        color: #fff;\n        line-height: 180px;\n        width: 50px;\n        height: 50px;\n        display: inherit;\n        font-size: 26px;\n        position: absolute;\n        top: -74px;\n        left: 50%;\n        margin-left: -25px;\n    }\n    .iview-video-style .mark{\n        position: absolute;\n        width: 100%;\n        height: 30px;\n        top: 0;\n        background-color: rgba(0,0,0,.5);\n        text-align: center;\n    }\n        .uploadVideo\n            margin-left 10px;\n        .submission\n            margin-left 10px;\n        .color-list .tip{\n            color: #c9c9c9;\n        }\n        .color-list .color-item{\n            height: 30px;\n            line-height: 30px;\n            padding: 0 10px;\n            color:#fff;\n            margin-right :10px;\n        }\n        .color-list .color-item.blue{\n            background-color: #1E9FFF;\n        }\n        .color-list .color-item.yellow{\n            background-color: rgb(254, 185, 0);\n        }\n        .color-list .color-item.green{\n            background-color: #009688;\n        }\n        .color-list .color-item.red{\n            background-color: #ed4014;\n        }\n        .columnsBox\n            margin-right 10px\n        .priceBox\n            width 100%\n        .rulesBox\n            display flex\n            flex-wrap: wrap;\n        .pictrueBox\n            display inline-block;\n        .pictrueTab\n            width:40px !important;\n            height:40px !important;\n        .pictrue\n            width:60px;\n            height:60px;\n            border:1px dotted rgba(0,0,0,0.1);\n            margin-right:15px;\n            display: inline-block;\n            position: relative;\n            cursor: pointer;\n            img\n                width 100%\n                height 100%\n            .btndel\n                position: absolute;\n                z-index: 1;\n                width :20px !important;\n                height: 20px !important;\n                left: 46px;\n                top: -4px;\n        .upLoad {\n            width: 58px;\n            height: 58px;\n            line-height: 58px;\n            border: 1px dotted rgba(0, 0, 0, 0.1);\n            border-radius: 4px;\n            background: rgba(0, 0, 0, 0.02);\n            cursor: pointer;\n        }\n        .curs\n            cursor pointer\n        .inpWith\n            width 60%;\n        .labeltop\n            >>> .ivu-form-item-label\n                float: none !important;\n                display: inline-block !important;\n                margin-left: 120px !important;\n                width auto !important\n\n</style>\n"]}]}