{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/finance/commission/handle/commissionDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/finance/commission/handle/commissionDetails.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNvbW1pc3Npb25EZXRhaWxBcGksIGV4dHJhY3RsaXN0QXBpIH0gZnJvbSAnQC9hcGkvZmluYW5jZScKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnY29tbWlzc2lvbkRldGFpbHMnLAogICAgZGF0YSAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgICAgICAgc3BpblNob3c6IGZhbHNlLAogICAgICAgICAgICBkZXRhaWxzRGF0YToge30sCiAgICAgICAgICAgIElkczogMCwKICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgIGZvcm1WYWxpZGF0ZTogewogICAgICAgICAgICAgICAgbmlja25hbWU6ICcnLAogICAgICAgICAgICAgICAgc3RhcnRfdGltZTogJycsCiAgICAgICAgICAgICAgICBlbmRfdGltZTogJycsCiAgICAgICAgICAgICAgICBwYWdlOiAxLCAvLyDlvZPliY3pobUKICAgICAgICAgICAgICAgIGxpbWl0OiAyMCAvLyDmr4/pobXmmL7npLrmnaHmlbAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG90YWw6IDAsCiAgICAgICAgICAgIGNvbHVtbnM6IFsKICAgICAgICAgICAgICAgIC8vIHsKICAgICAgICAgICAgICAgIC8vICAgICB0aXRsZTon5pi156ewJywKICAgICAgICAgICAgICAgIC8vICAgICBrZXk6J25pY2tuYW1lJwogICAgICAgICAgICAgICAgLy8gfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S9o+mHkemHkeminScsCiAgICAgICAgICAgICAgICAgICAga2V5OiAnbnVtYmVyJywKICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDo4MAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+iOt+W+l+aXtumXtCcsCiAgICAgICAgICAgICAgICAgICAga2V5OiAnX2FkZF90aW1lJywKICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDoxNTAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICflpIfms6gnLAogICAgICAgICAgICAgICAgICAgIGtleTogJ21hcmsnLAogICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOjMzMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdLAogICAgICAgICAgICB0YWJMaXN0OiBbXQoKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBTdGF0ZSgnbWVkaWEnLCBbCiAgICAgICAgICAgICdpc01vYmlsZScKICAgICAgICBdKSwKICAgICAgICBsYWJlbFdpZHRoICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyB1bmRlZmluZWQgOiAxMDAKICAgICAgICB9LAogICAgICAgIGxhYmVsUG9zaXRpb24gKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/ICd0b3AnIDogJ2xlZnQnCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQgKCkgewogICAgICAgIGlmICh0aGlzLklkcykgewogICAgICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLy8g5pe26Ze0CiAgICAgICAgb25jaGFuZ2VUaW1lIChlKSB7CiAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnN0YXJ0X3RpbWUgPSBlWzBdCiAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmVuZF90aW1lID0gZVsxXQogICAgICAgIH0sCiAgICAgICAgLy8g6K+m5oOFCiAgICAgICAgZ2V0RGV0YWlscyAoaWQpIHsKICAgICAgICAgICAgdGhpcy5JZHMgPSBpZAogICAgICAgICAgICB0aGlzLnNwaW5TaG93ID0gdHJ1ZQogICAgICAgICAgICBjb21taXNzaW9uRGV0YWlsQXBpKGlkKS50aGVuKGFzeW5jIHJlcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGV0YWlsc0RhdGEgPSBkYXRhLnVzZXJfaW5mbwogICAgICAgICAgICAgICAgICAgIHRoaXMuc3BpblNob3cgPSBmYWxzZQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNwaW5TaG93ID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnNwaW5TaG93ID0gZmFsc2UKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZykKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOWIl+ihqAogICAgICAgIGdldExpc3QgKCkgewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgIGV4dHJhY3RsaXN0QXBpKHRoaXMuSWRzLCB0aGlzLmZvcm1WYWxpZGF0ZSkudGhlbihhc3luYyByZXMgPT4gewogICAgICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YQogICAgICAgICAgICAgICAgdGhpcy50YWJMaXN0ID0gZGF0YS5kYXRhCiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gZGF0YS5jb3VudAogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBwYWdlQ2hhbmdlIChpbmRleCkgewogICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wYWdlID0gaW5kZXgKICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICB9LAogICAgICAgIC8vIOaQnOe0ogogICAgICAgIHVzZXJTZWFyY2hzICgpIHsKICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFnZSA9IDEKICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["commissionDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"commissionDetails.vue","sourceRoot":"src/pages/finance/commission/handle","sourcesContent":["<template>\n    <div style=\"width: 100%\">\n        <Modal v-model=\"modals\" scrollable footer-hide closable title=\"用户详情\" :mask-closable=\"false\"\n               width=\"700\">\n            <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\n            <div class=\"acea-row\">\n                <div class=\"dashboard-workplace-header-tip\">\n                    <div class=\"dashboard-workplace-header-tip-desc\">\n                        <span class=\"dashboard-workplace-header-tip-desc-sp\">姓名：{{detailsData.nickname}}</span>\n                        <span class=\"dashboard-workplace-header-tip-desc-sp\">上级推广人：{{detailsData.spread_name?detailsData.spread_name:'无'}}</span>\n                        <span class=\"dashboard-workplace-header-tip-desc-sp\">佣金总收入：{{detailsData.number}}</span>\n                        <span class=\"dashboard-workplace-header-tip-desc-sp\">用户余额：{{detailsData.now_money}}</span>\n                        <span class=\"dashboard-workplace-header-tip-desc-sp\">创建时间：{{detailsData.add_time}}</span>\n                    </div>\n                </div>\n            </div>\n            <Divider dashed/>\n            <Form ref=\"formValidate\" :label-width=\"labelWidth\" :label-position=\"labelPosition\" class=\"tabform\" @submit.native.prevent>\n                <Row :gutter=\"24\" type=\"flex\">\n<!--                    <Col span=\"8\">-->\n<!--                        <FormItem label=\"订单号/昵称：\">-->\n<!--                            <Input enter-button placeholder=\"请输入\" element-id=\"name\" v-model=\"formValidate.nickname\"-->\n<!--                                   clearable/>-->\n<!--                        </FormItem>-->\n<!--                    </Col>-->\n                    <Col span=\"12\">\n                        <FormItem label=\"时间范围：\" class=\"tab_data\">\n                            <DatePicker :editable=\"false\" style=\"width: 100%\" @on-change=\"onchangeTime\" format=\"yyyy-MM-dd\"\n                                        type=\"daterange\" placement=\"bottom-end\" placeholder=\"自定义时间\"></DatePicker>\n                        </FormItem>\n                    </Col>\n                    <Col span=\"4\">\n                            <Button type=\"primary\" icon=\"ios-search\" @click=\"userSearchs\">搜索</Button>\n                    </Col>\n                </Row>\n            </Form>\n            <Divider dashed/>\n            <Table :columns=\"columns\" :data=\"tabList\"\n                   ref=\"table\"\n                   :loading=\"loading\"\n                   no-userFrom-text=\"暂无数据\"\n                   no-filtered-userFrom-text=\"暂无筛选结果\"\n                   class=\"table\"\n            ></Table>\n            <div class=\"acea-row row-right page\">\n                <Page :total=\"total\" :current=\"formValidate.page\" show-elevator show-total @on-change=\"pageChange\"\n                      :page-size=\"formValidate.limit\"/>\n            </div>\n        </Modal>\n    </div>\n</template>\n\n<script>\n    import { commissionDetailApi, extractlistApi } from '@/api/finance'\n    import { mapState } from 'vuex'\n    export default {\n        name: 'commissionDetails',\n        data () {\n            return {\n                modals: false,\n                spinShow: false,\n                detailsData: {},\n                Ids: 0,\n                loading: false,\n                formValidate: {\n                    nickname: '',\n                    start_time: '',\n                    end_time: '',\n                    page: 1, // 当前页\n                    limit: 20 // 每页显示条数\n                },\n                total: 0,\n                columns: [\n                    // {\n                    //     title:'昵称',\n                    //     key:'nickname'\n                    // },\n                    {\n                        title: '佣金金额',\n                        key: 'number',\n                        minWidth:80\n                    },\n                    {\n                        title: '获得时间',\n                        key: '_add_time',\n                        minWidth:150\n                    },\n                    {\n                        title: '备注',\n                        key: 'mark',\n                        minWidth:330\n                    }\n                ],\n                tabList: []\n\n            }\n        },\n        computed: {\n            ...mapState('media', [\n                'isMobile'\n            ]),\n            labelWidth () {\n                return this.isMobile ? undefined : 100\n            },\n            labelPosition () {\n                return this.isMobile ? 'top' : 'left'\n            }\n        },\n        mounted () {\n            if (this.Ids) {\n                this.getList()\n            }\n        },\n        methods: {\n            // 时间\n            onchangeTime (e) {\n                this.formValidate.start_time = e[0]\n                this.formValidate.end_time = e[1]\n            },\n            // 详情\n            getDetails (id) {\n                this.Ids = id\n                this.spinShow = true\n                commissionDetailApi(id).then(async res => {\n                    if (res.status === 200) {\n                        let data = res.data\n                        this.detailsData = data.user_info\n                        this.spinShow = false\n                    } else {\n                        this.spinShow = false\n                        this.$Message.error(res.msg)\n                    }\n                }).catch(res => {\n                    this.spinShow = false\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 列表\n            getList () {\n                this.loading = true\n                extractlistApi(this.Ids, this.formValidate).then(async res => {\n                    let data = res.data\n                    this.tabList = data.data\n                    this.total = data.count\n                    this.loading = false\n                }).catch(res => {\n                    this.loading = false\n                    this.$Message.error(res.msg)\n                })\n            },\n            pageChange (index) {\n                this.formValidate.page = index\n                this.getList()\n            },\n            // 搜索\n            userSearchs () {\n                this.formValidate.page = 1\n                this.getList()\n            }\n        }\n    }\n</script>\n\n<style lang=\"less\">\n    .table {\n        .ivu-table-default{\n            overflow-y: auto;\n            max-height: 350px;\n        }\n    }\n    .dashboard-workplace {\n        &-header {\n            &-avatar {\n                width: 64px;\n                height: 64px;\n                border-radius: 50%;\n                margin-right: 16px;\n                font-weight: 600;\n            }\n\n            &-tip {\n                width: 82%;\n                display: inline-block;\n                vertical-align: middle;\n\n                &-title {\n                    font-size: 13px;\n                    color: #000000;\n                    margin-bottom: 12px;\n                }\n\n                &-desc {\n                    &-sp {\n                        width: 33.33%;\n                        color: #17233D;\n                        font-size: 12px;\n                        display: inline-block;\n                    }\n                }\n            }\n\n            &-extra {\n                .ivu-col {\n                    p {\n                        text-align: right;\n                    }\n\n                    p:first-child {\n                        span:first-child {\n                            margin-right: 4px;\n                        }\n\n                        span:last-child {\n                            color: #808695;\n                        }\n                    }\n\n                    p:last-child {\n                        font-size: 22px;\n                    }\n                }\n            }\n        }\n    }\n</style>\n"]}]}