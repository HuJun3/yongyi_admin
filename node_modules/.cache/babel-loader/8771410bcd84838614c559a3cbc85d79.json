{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js!/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/kefu/mobile/user/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/kefu/mobile/user/index.vue","mtime":1610680940000},{"path":"/Users/hujun/Downloads/永益科技后端/.babelrc","mtime":1610587842000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHVzZXJMYWJlbHMgZnJvbSAiLi91c2VyTGFiZWwiOwppbXBvcnQgeyB1c2VySW5mbywgdXNlckdyb3VwQXBpLCBwdXRHcm91cEFwaSwgdXNlckxhYmVsIH0gZnJvbSAnQC9hcGkva2VmdSc7CmltcG9ydCB2dWVQaWNrZXJzIGZyb20gJ3Z1ZS1waWNrZXJzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJpbmRleCIsCiAgY29tcG9uZW50czogewogICAgdXNlckxhYmVsczogdXNlckxhYmVscywKICAgIHZ1ZVBpY2tlcnM6IHZ1ZVBpY2tlcnMKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGFuZ2U6IGZhbHNlLAogICAgICAvL+aooeaAgeahhuaYvuekuumakOiXjwogICAgICBhY3RpdmVVc2VySW5mbzogJycsCiAgICAgIHBpY2tlclZpc2libGU6IGZhbHNlLAogICAgICAvL+WIhue7hOmAieaLqQogICAgICBncm91cExpc3Q6IFtdLAogICAgICAvL+WIhue7hAogICAgICBsYWJlbExpc3Q6IFtdIC8v5qCH562+CgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEdyb3VwKCk7CiAgICB0aGlzLmdldFVzZXJJbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+iOt+WPlueUqOaIt+agh+etvgogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHVzZXJMYWJlbCh0aGlzLiRyb3V0ZS5wYXJhbXMudWlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5sYWJlbExpc3QgPSByZXMuZGF0YSB8fCBbXTsKCiAgICAgICAgaWYgKF90aGlzLmxhYmVsTGlzdC5sZW5ndGgpIHsKICAgICAgICAgIF90aGlzLmNoYW5nZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiRkaWFsb2cuZXJyb3IoJ+aaguaXoOagh+etvicpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLiRkaWFsb2cuZXJyb3IoZXJyLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v6I635Y+W55So5oi36K+m5oOFCiAgICBnZXRVc2VySW5mbzogZnVuY3Rpb24gZ2V0VXNlckluZm8oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdXNlckluZm8odGhpcy4kcm91dGUucGFyYW1zLnVpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmFjdGl2ZVVzZXJJbmZvID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczIuJGRpYWxvZy5lcnJvcihlcnIubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5bnlKjmiLfliIbnu4QKICAgIGdldEdyb3VwOiBmdW5jdGlvbiBnZXRHcm91cCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgb2JqID0gewogICAgICAgIGlkOiAwLAogICAgICAgIGdyb3VwX25hbWU6ICLml6AiCiAgICAgIH07CiAgICAgIHVzZXJHcm91cEFwaSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJlcy5kYXRhLnVuc2hpZnQob2JqKTsKICAgICAgICB2YXIgdGRhdGEgPSBbXTsKICAgICAgICByZXMuZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHRkYXRhLnB1c2goewogICAgICAgICAgICBsYWJlbDogaXRlbS5ncm91cF9uYW1lLAogICAgICAgICAgICB2YWx1ZTogaXRlbS5pZAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMzLmdyb3VwTGlzdCA9IFt0ZGF0YV07CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczMuJGRpYWxvZy5lcnJvcihlcnIubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgZWRpdExhYmVsOiBmdW5jdGlvbiBlZGl0TGFiZWwoKSB7CiAgICAgIHRoaXMuY2hhbmdlID0gZmFsc2U7CiAgICAgIHRoaXMuZ2V0VXNlckluZm8oKTsKICAgIH0sCiAgICBvblNob3dMYWJlbDogZnVuY3Rpb24gb25TaG93TGFiZWwoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIHNob3dOYW1lOiBmdW5jdGlvbiBzaG93TmFtZSgpIHsKICAgICAgdGhpcy5waWNrZXJWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHt9LAogICAgLy8g6YCJ5oup5YiG57uECiAgICBjb25maXJtOiBmdW5jdGlvbiBjb25maXJtKHJlcykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHB1dEdyb3VwQXBpKHRoaXMuJHJvdXRlLnBhcmFtcy51aWQsIHJlc1swXS52YWx1ZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CgogICAgICAgIF90aGlzNC5nZXRVc2VySW5mbygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXM0LiRkaWFsb2cuZXJyb3IoZXJyLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlQ2hhbmdlOiBmdW5jdGlvbiBjbG9zZUNoYW5nZShtc2cpIHsKICAgICAgdGhpcy5jaGFuZ2UgPSBtc2c7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"userBox\" v-if=\"activeUserInfo\">\n        <div class=\"user-header acea-row row-middle\">\n            <div class=\"user-header-img mr20\">\n                <img v-lazy=\"activeUserInfo.avatar\">\n            </div>\n            <div class=\"user-header-name\">\n                <span class=\"sp1 mr10\" v-text=\"activeUserInfo.nickname\"></span>\n                <span class=\"sp2\">{{ $route.params.type | sourceType}}</span>\n            </div>\n        </div>\n        <div class=\"user-list\">\n            <div class=\"acea-row item bgt\">\n                <span class=\"sp1\">用户标签</span>\n                <div class=\"labelBox\" v-if=\"activeUserInfo.labelNames.length\">\n                    <span class=\"label\" v-for=\"(item, index) in activeUserInfo.labelNames\" :key=\"index\">{{item}}</span>\n                </div>\n                <span v-else class=\"labelBox\">无</span>\n                <span class=\"iconfontYI icon-up\" @click=\"onShowLabel\"></span>\n            </div>\n            <div class=\"acea-row item bgt\">\n                <span class=\"sp1\">手机号</span>\n                <span class=\"sp2\" v-text=\"activeUserInfo.phone || '无'\"></span>\n            </div>\n            <div class=\"acea-row item\">\n                <span class=\"sp1\">分组</span>\n                <span class=\"checkName\" v-if=\"activeUserInfo.group_name\" v-text=\"activeUserInfo.group_name\" @click=\"showName\"></span>\n                <span v-else @click=\"showName\">无</span>\n                <vue-pickers :data=\"groupList\"\n                             v-if=\"groupList.length\"\n                             :showToolbar=\"true\"\n                             :maskClick=\"true\"\n                             @confirm=\"confirm\"\n                             :defaultIndex=\"0\"\n                             :visible.sync=\"pickerVisible\"\n                ></vue-pickers>\n\n            </div>\n        </div>\n        <div class=\"user-list\">\n            <div class=\"acea-row item bgt\">\n                <span class=\"sp1\">会员等级</span>\n                <span class=\"sp2\" v-text=\"activeUserInfo.level_name?activeUserInfo.level_name:'无'\"></span>\n            </div>\n            <div class=\"acea-row item bgt\">\n                <span class=\"sp1\">用户类型</span>\n                <span class=\"sp2\">{{activeUserInfo.user_type | userType}}</span>\n            </div>\n            <div class=\"acea-row item bgt\">\n                <span class=\"sp1\">余额</span>\n                <span class=\"sp2\" v-text=\"activeUserInfo.now_money || '无'\"></span>\n            </div>\n            <div class=\"acea-row item bgt\">\n                <span class=\"sp1\">推广员</span>\n                <span class=\"sp2\" v-text=\"activeUserInfo.is_promoter===1?'是':'否'\"></span>\n            </div>\n            <div class=\"acea-row item\">\n                <span class=\"sp1\">生日</span>\n                <span class=\"sp2\" v-text=\"activeUserInfo.birthday||'无'\"></span>\n            </div>\n        </div>\n        <user-labels v-if=\"change\" :change=\"change\"\n                    @cancel=\"cancel\"\n                    :labelList=\"labelList\"\n                    :uid=\"Number($route.params.uid)\"\n                    @editLabel=\"editLabel\"\n                    @closeChange=\"closeChange\"></user-labels>\n    </div>\n</template>\n\n<script>\n    import userLabels from \"./userLabel\";\n    import { userInfo, userGroupApi, putGroupApi, userLabel } from '@/api/kefu';\n    import vuePickers from 'vue-pickers';\n    export default {\n        name: \"index\",\n        components: {\n            userLabels,\n            vuePickers\n        },\n        data() {\n            return {\n                change: false, //模态框显示隐藏\n                activeUserInfo: '',\n                pickerVisible: false, //分组选择\n                groupList: [], //分组\n                labelList: [] //标签\n            }\n        },\n        mounted() {\n            this.getGroup();\n            this.getUserInfo();\n        },\n        methods: {\n            //获取用户标签\n            getList(){\n                userLabel(this.$route.params.uid).then(res=>{\n                    this.labelList =res.data || [];\n                    if(this.labelList.length){\n                        this.change = true;\n                    }else{\n                        this.$dialog.error('暂无标签');\n                    }\n                }).catch(err => {\n                    this.$dialog.error(err.msg);\n                })\n            },\n            //获取用户详情\n            getUserInfo(){\n                userInfo(this.$route.params.uid).then(res=>{\n                    this.activeUserInfo = res.data;\n                }).catch(err => {\n                    this.$dialog.error(err.msg);\n                })\n            },\n            //获取用户分组\n            getGroup(){\n                let obj = {\n                    id: 0,\n                    group_name: \"无\"\n                }\n                userGroupApi().then(res=>{\n                    res.data.unshift(obj)\n                    let tdata = []\n                    res.data.map(item => {\n                        tdata.push({\n                            label: item.group_name,\n                            value: item.id\n                        })\n                    });\n                    this.groupList = [tdata];\n                }).catch(err => {\n                    this.$dialog.error(err.msg);\n                })\n            },\n            editLabel(){\n                this.change = false;\n                this.getUserInfo();\n            },\n            onShowLabel() {\n                this.getList();\n            },\n            showName(){\n                this.pickerVisible=true;\n            },\n            cancel() {},\n            // 选择分组\n            confirm(res) {\n                putGroupApi(this.$route.params.uid, res[0].value).then(res=>{\n                    this.$Message.success(res.msg)\n                    this.getUserInfo();\n                }).catch(err => {\n                    this.$dialog.error(err.msg);\n                })\n            },\n            closeChange(msg){\n                this.change = msg;\n            },\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    .userBox{\n        background: #F0F1F2;\n    }\n    .bgt{\n        border-bottom: 1px solid #F0F2F7;\n    }\n    .user{\n        &-header{\n            width: 100%;\n            height: 1.5rem;\n            line-height: 1.5rem;\n            &-img{\n                width: 1.1rem;\n                height: 1.1rem;\n                border-radius: 50%;\n                overflow: hidden;\n                img{\n                    width: 100%;\n                    height: 100%;\n                }\n            }\n            &-name{\n                .sp1{\n                    color: #282828;\n                    font-size: 0.32rem;\n                    font-weight: bold;\n                }\n                .sp2{\n                    background: rgba(56, 117, 234, 0.14);\n                    color: #3875EA;\n                    font-size: 0.18rem;\n                    padding: 0.1rem;\n                    border-radius: 4px;\n                }\n            }\n            padding: 0 0.3rem;\n            background: #fff;\n            margin-bottom: 0.15rem;\n        }\n        &-list{\n            padding: 0 0.2rem;\n            background: #fff;\n            margin-bottom: 0.15rem;\n            .item{\n                width: 100%;\n                padding: .2rem 0;\n                .sp1{\n                    color: #686868;\n                    font-size: 0.28rem;\n                    width: 1.6rem;\n                }\n                .sp2{\n                    color: #282828;\n                    font-size: 0.28rem;\n                }\n            }\n            .labelBox{\n                display: flex;\n                flex-wrap: wrap;\n                width: 4.8rem;\n            }\n            .label{\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                height: .5rem;\n                border: 1px solid #3875EA;\n                opacity: 1;\n                border-radius: 16px;\n                padding: 0 0.15rem;\n                text-align: center;\n                color: #3875EA;\n                font-size: 0.2rem;\n                margin: .07rem .15rem .07rem 0;\n            }\n        }\n    }\n\n</style>\n"],"sourceRoot":"src/pages/kefu/mobile/user"}]}