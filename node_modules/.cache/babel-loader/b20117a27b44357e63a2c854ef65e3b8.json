{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js!/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/kefu/mobile/user/userLabel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/kefu/mobile/user/userLabel.vue","mtime":1610680940000},{"path":"/Users/hujun/Downloads/永益科技后端/.babelrc","mtime":1610587842000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm51bWJlci5jb25zdHJ1Y3RvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHVzZXJMYWJlbCwgdXNlckxhYmVsUHV0IH0gZnJvbSAnQC9hcGkva2VmdSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidXNlckxhYmVyIiwKICBwcm9wczogewogICAgY2hhbmdlOiBCb29sZWFuLAogICAgdWlkOiBOdW1iZXIsCiAgICBsYWJlbExpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vICBsYWJlbExpc3Q6W10sCiAgICAgIGFjdGl2ZUlkczogW10KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgbGFiZWxMaXN0OiBmdW5jdGlvbiBsYWJlbExpc3QoZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZGF0YS5tYXAoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgZWwubGFiZWwubWFwKGZ1bmN0aW9uIChsYWJlbCkgewogICAgICAgICAgaWYgKGxhYmVsLmRpc2FibGVkKSB7CiAgICAgICAgICAgIF90aGlzLmFjdGl2ZUlkcy5wdXNoKGxhYmVsLmlkKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3RMYWJlbDogZnVuY3Rpb24gc2VsZWN0TGFiZWwobGFiZWwpIHsKICAgICAgaWYgKGxhYmVsLmRpc2FibGVkKSB7CiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5hY3RpdmVJZHMuaW5kZXhPZihsYWJlbC5pZCk7CiAgICAgICAgdGhpcy5hY3RpdmVJZHMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICBsYWJlbC5kaXNhYmxlZCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWN0aXZlSWRzLnB1c2gobGFiZWwuaWQpOwogICAgICAgIGxhYmVsLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8vIOehruWumgogICAgc3ViQnRuOiBmdW5jdGlvbiBzdWJCdG4oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHVuTGFiZXJpZHMgPSBbXTsKICAgICAgdGhpcy5sYWJlbExpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbS5sYWJlbC5tYXAoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgIGlmIChpLmRpc2FibGVkID09IGZhbHNlKSB7CiAgICAgICAgICAgIHVuTGFiZXJpZHMucHVzaChpLmlkKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHVzZXJMYWJlbFB1dCh0aGlzLnVpZCwgewogICAgICAgIGxhYmVsX2lkczogdGhpcy5hY3RpdmVJZHMsCiAgICAgICAgdW5fbGFiZWxfaWRzOiB1bkxhYmVyaWRzCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwoKICAgICAgICBfdGhpczIuJGVtaXQoJ2VkaXRMYWJlbCcsIGZhbHNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMyLiRNZXNzYWdlLmVycm9yKGVycm9yLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2VDaGFuZ2UiLCBmYWxzZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["userLabel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA,SAAA,SAAA,EAAA,YAAA,QAAA,YAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA,OADA;AAEA,IAAA,GAAA,EAAA,MAFA;AAGA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA;AAHA,GAFA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA;AACA,MAAA,SAAA,EAAA;AAFA,KAAA;AAIA,GAfA;AAgBA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA,mBAAA,IAAA,EAAA;AAAA;;AACA,MAAA,IAAA,CAAA,GAAA,CAAA,UAAA,EAAA,EAAA;AACA,QAAA,EAAA,CAAA,KAAA,CAAA,GAAA,CAAA,UAAA,KAAA,EAAA;AACA,cAAA,KAAA,CAAA,QAAA,EAAA;AACA,YAAA,KAAA,CAAA,SAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA;AACA,SAJA;AAKA,OANA;AAOA;AATA,GAhBA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,KADA,EACA;AACA,UAAA,KAAA,CAAA,QAAA,EAAA;AACA,YAAA,KAAA,GAAA,KAAA,SAAA,CAAA,OAAA,CAAA,KAAA,CAAA,EAAA,CAAA;AACA,aAAA,SAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA,OAJA,MAIA;AACA,aAAA,SAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA;AACA,KAVA;AAWA;AACA,IAAA,MAZA,oBAYA;AAAA;;AACA,UAAA,UAAA,GAAA,EAAA;AACA,WAAA,SAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,CAAA,CAAA,QAAA,IAAA,KAAA,EAAA;AACA,YAAA,UAAA,CAAA,IAAA,CAAA,CAAA,CAAA,EAAA;AACA;AACA,SAJA;AAKA,OANA;AAOA,MAAA,YAAA,CAAA,KAAA,GAAA,EAAA;AACA,QAAA,SAAA,EAAA,KAAA,SADA;AAEA,QAAA,YAAA,EAAA;AAFA,OAAA,CAAA,CAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,WAAA,EAAA,KAAA;AACA,OANA,EAMA,KANA,CAMA,UAAA,KAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,KAAA,CAAA,GAAA;AACA,OARA;AASA,KA9BA;AA+BA,IAAA,KAAA,EAAA,iBAAA;AACA,WAAA,KAAA,CAAA,aAAA,EAAA,KAAA;AACA;AAjCA;AA3BA,CAAA","sourcesContent":["<template>\n    <div>\n        <div class=\"labelChange\" :class=\"change === true ? 'on' : ''\">\n            <div class=\"priceTitle cor32\">\n                用户标签\n                <span class=\"iconfontYI icon-guanbi\" @click=\"close\"></span>\n            </div>\n            <div class=\"label-wrapper\">\n                <div class=\"label-box\" v-for=\"(item,index) in labelList\" :key=\"index\">\n                    <div class=\"title\">{{item.name}}</div>\n                    <div class=\"list\">\n                        <div class=\"label-item\" :class=\"{on:label.disabled}\" v-for=\"(label,j) in item.label\" :key=\"j\" @click=\"selectLabel(label)\">{{label.label_name}}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"footer\">\n                <Button type=\"primary\" class=\"btn\" @click=\"subBtn\">确定</Button>\n            </div>\n        </div>\n        <div class=\"maskModel\" @touchmove.prevent v-show=\"change === true\"></div>\n    </div>\n</template>\n\n<script>\n    import { userLabel,userLabelPut } from '@/api/kefu'\n    export default {\n        name: \"userLaber\",\n        props: {\n            change: Boolean,\n            uid: Number,\n            labelList: {\n                type: Array,\n                default: ()=> []\n            }\n        },\n        data() {\n            return {\n              //  labelList:[],\n                activeIds:[]\n            }\n        },\n        watch: {\n            labelList: function (data) {\n                data.map(el=>{\n                    el.label.map(label=>{\n                        if(label.disabled){\n                            this.activeIds.push(label.id)\n                        }\n                    })\n                })\n            }\n        },\n        methods: {\n            selectLabel(label){\n                if(label.disabled){\n                    let index = this.activeIds.indexOf(label.id)\n                    this.activeIds.splice(index,1)\n                    label.disabled = false\n                }else{\n                    this.activeIds.push(label.id)\n                    label.disabled = true\n                }\n            },\n            // 确定\n            subBtn(){\n                let unLaberids = [];\n                this.labelList.map(item=>{\n                    item.label.map( i => {\n                        if(i.disabled == false){\n                            unLaberids.push(i.id);\n                        }\n                    });\n                });\n                userLabelPut(this.uid,{\n                    label_ids: this.activeIds,\n                    un_label_ids: unLaberids\n                }).then(res=>{\n                    this.$Message.success(res.msg)\n                    this.$emit('editLabel', false)\n                }).catch(error=>{\n                    this.$Message.error(error.msg)\n                })\n            },\n            close: function () {\n                this.$emit(\"closeChange\", false);\n            },\n        }\n    }\n</script>\n<style lang=\"stylus\" scoped>\n    .label-wrapper\n        height 9rem\n        overflow: scroll;\n        .list\n            display flex\n            flex-wrap wrap\n            .label-item\n                margin: 0.2rem 0.3rem 0.1rem 0;\n                padding: 0 0.2rem;\n                background #EEEEEE\n                color #282828\n                border-radius 6px\n                cursor pointer\n                font-size 0.28rem\n                height 0.56rem\n                line-height 0.56rem\n                &.on\n                    color #fff\n                    background #3875EA\n    .footer\n        margin-top: 0.25rem;\n    .btn\n        width 100%\n        height 0.76rem\n        border-radius: 43px;\n        background #3875EA\n    .title\n        font-size 0.32rem\n        color #282828\n\n</style>\n<style scoped lang=\"less\">\n    .label{\n        &-title{\n            margin-bottom: 0.25rem;\n        }\n    }\n    .priceTitle{\n        position: relative;\n        text-align: center;\n        .iconfontYI{\n            position: absolute;\n            font-size: 0.2rem;\n            right: 0.13rem;\n            top: 0.11rem;\n            width: 0.2rem;\n            height: 0.2rem;\n            line-height: 0.2rem;\n        }\n    }\n    .labelCheck{\n        /deep/.ivu-checkbox {\n            display: none !important;\n        }\n        /deep/.ivu-checkbox-wrapper-checked.ivu-checkbox-border{\n            background: #3875EA;\n            color: #fff;\n        }\n    }\n    .labelChange{\n        padding: 0.3rem;\n        position: fixed;\n        width: 90%;\n        height: 11.1rem;\n        background-color: #fff;\n        border-radius: 0.1rem;\n        top: 50%;\n        left: 50%;\n        margin-left: -3.4rem;\n        margin-top: -5.6rem;\n        z-index: 99;\n        transition:all 0.3s ease-in-out 0s;\n        -webkit-transition:all 0.3s ease-in-out 0s;\n        -o-transition:all 0.3s ease-in-out 0s;\n        -moz-transition:all 0.3s ease-in-out 0s;\n        -webkit-transform:scale(0);\n        -o-transform:scale(0);\n        -moz-transform:scale(0);\n        -ms-transform:scale(0);\n        transform: scale(0);opacity:0;\n    }\n    .cor32{\n        font-size: 0.32rem;\n        color: #282828;\n    }\n    .mb80{\n        margin-bottom: 0.5rem;\n    }\n    .on{\n        opacity:1;\n        transform: scale(1);\n        -webkit-transform:scale(1);\n        -o-transform:scale(1);\n        -moz-transform:scale(1);\n        -ms-transform:scale(1);\n    }\n\n</style>"],"sourceRoot":"src/pages/kefu/mobile/user"}]}