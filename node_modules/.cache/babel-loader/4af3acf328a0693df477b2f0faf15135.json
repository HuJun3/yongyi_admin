{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js!/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/index/components/userChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/index/components/userChart.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/.babelrc","mtime":1610587842000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2h1anVuL0Rvd25sb2Fkcy9cdTZDMzhcdTc2Q0FcdTc5RDFcdTYyODBcdTU0MEVcdTdBRUYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHVzZXJBcGksIHJhbmtBcGkgfSBmcm9tICdAL2FwaS9pbmRleCc7CmltcG9ydCBlY2hhcnRzRnJvbSBmcm9tICdAL2NvbXBvbmVudHMvZWNoYXJ0cy9pbmRleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndXNlci1jaGFydCcsCiAgY29tcG9uZW50czogewogICAgZWNoYXJ0c0Zyb206IGVjaGFydHNGcm9tCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGluZTogJ2xpbmUnLAogICAgICBjaXJjbGU6ICdjaXJjbGUnLAogICAgICBpbmZvTGlzdDoge30sCiAgICAgIHNlcmllczogW10sCiAgICAgIHhEYXRhOiBbXSwKICAgICAgeTFEYXRhOiBbXSwKICAgICAgeTJEYXRhOiBbXSwKICAgICAgbGlzdHM6IFtdLAogICAgICBiaW5nX2RhdGE6IFtdLAogICAgICBiaW5nX3hkYXRhOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOe7n+iuoQogICAgZ2V0U3RhdGlzdGljczogZnVuY3Rpb24gZ2V0U3RhdGlzdGljcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHVzZXJBcGkoKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlcykgewogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfdGhpcy5pbmZvTGlzdCA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgICBfdGhpcy5zZXJpZXMgPSBbewogICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlcy5kYXRhLnNlcmllcywKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn5Lq65pWw77yI5Lq677yJJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBzbW9vdGg6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgc3ltYm9sOiAnbm9uZScsCiAgICAgICAgICAgICAgICAgICAgYXJlYVN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICBub3JtYWw6IHsKICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4yCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9XTsKICAgICAgICAgICAgICAgICAgX3RoaXMuYmluZ19kYXRhID0gcmVzLmJpbmdfZGF0YTsKICAgICAgICAgICAgICAgICAgX3RoaXMuYmluZ194ZGF0YSA9IHJlcy5iaW5nX3hkYXRhOwoKICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFJhbms6IGZ1bmN0aW9uIGdldFJhbmsoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmFua0FwaSgpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihyZXMpIHsKICAgICAgICAgIHZhciBkYXRhOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgICBfdGhpczIubGlzdHMgPSBkYXRhLmxpc3Q7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDnm5HlkKzpobXpnaLlrr3luqblj5jljJbvvIzliLfmlrDooajmoLwKICAgIGhhbmRsZVJlc2l6ZTogZnVuY3Rpb24gaGFuZGxlUmVzaXplKCkgewogICAgICBpZiAodGhpcy5pbmZvTGlzdCAmJiB0aGlzLnNlcmllcy5sZW5ndGggIT09IDApIHRoaXMuJHJlZnMudXNlckNoYXJ0LmhhbmRsZVJlc2l6ZSgpOwogICAgICBpZiAodGhpcy5pbmZvTGlzdCkgdGhpcy4kcmVmcy52aXNpdENoYXJ0LmhhbmRsZVJlc2l6ZSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0U3RhdGlzdGljcygpOwogICAgdGhpcy5nZXRSYW5rKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKHRoaXMudmlzaXRDaGFydCkgewogICAgICB0aGlzLnZpc2l0Q2hhcnQuZGlzcG9zZSgpOwogICAgICB0aGlzLnZpc2l0Q2hhcnQgPSBudWxsOwogICAgfQogIH0KfTs="},{"version":3,"sources":["userChart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,SAAA,OAAA,EAAA,OAAA,QAAA,aAAA;AACA,OAAA,WAAA,MAAA,4BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,WAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,MAAA,EAAA,QAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA,EAJA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA,MAAA,MAAA,EAAA,EANA;AAOA,MAAA,MAAA,EAAA,EAPA;AAQA,MAAA,KAAA,EAAA,EARA;AASA,MAAA,SAAA,EAAA,EATA;AAUA,MAAA,UAAA,EAAA;AAVA,KAAA;AAYA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,aAFA,2BAEA;AAAA;;AACA,MAAA,OAAA,GAAA,IAAA;AAAA,2EAAA,iBAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AACA,kBAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA;AACA,kBAAA,KAAA,CAAA,MAAA,GAAA,CACA;AACA,oBAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA,MADA;AAEA,oBAAA,IAAA,EAAA,OAFA;AAGA,oBAAA,IAAA,EAAA,MAHA;AAIA,oBAAA,OAAA,EAAA,IAJA;AAKA,oBAAA,MAAA,EAAA,IALA;AAMA,oBAAA,MAAA,EAAA,MANA;AAOA,oBAAA,SAAA,EAAA;AACA,sBAAA,MAAA,EAAA;AACA,wBAAA,OAAA,EAAA;AADA;AADA;AAPA,mBADA,CAAA;AAeA,kBAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,SAAA;AACA,kBAAA,KAAA,CAAA,UAAA,GAAA,GAAA,CAAA,UAAA;;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;;AAAA;AAAA;AAAA;AAAA,WAmBA,KAnBA,CAmBA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA;AACA,OArBA;AAsBA,KAzBA;AA0BA,IAAA,OA1BA,qBA0BA;AAAA;;AACA,MAAA,OAAA,GAAA,IAAA;AAAA,4EAAA,kBAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,kBAAA,IADA,GACA,GAAA,CAAA,IADA;AAEA,kBAAA,MAAA,CAAA,KAAA,GAAA,IAAA,CAAA,IAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;;AAAA;AAAA;AAAA;AAAA,WAGA,KAHA,CAGA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA;AACA,OALA;AAMA,KAjCA;AAkCA;AACA,IAAA,YAnCA,0BAmCA;AACA,UAAA,KAAA,QAAA,IAAA,KAAA,MAAA,CAAA,MAAA,KAAA,CAAA,EAAA,KAAA,KAAA,CAAA,SAAA,CAAA,YAAA;AACA,UAAA,KAAA,QAAA,EAAA,KAAA,KAAA,CAAA,UAAA,CAAA,YAAA;AACA;AAtCA,GAjBA;AAyDA,EAAA,OAzDA,qBAyDA;AACA,SAAA,aAAA;AACA,SAAA,OAAA;AACA,GA5DA;AA6DA,EAAA,aA7DA,2BA6DA;AACA,QAAA,KAAA,UAAA,EAAA;AACA,WAAA,UAAA,CAAA,OAAA;AACA,WAAA,UAAA,GAAA,IAAA;AACA;AACA;AAlEA,CAAA","sourcesContent":["<template>\n    <div @resize=\"handleResize\">\n        <Row :gutter=\"24\">\n            <Col :xl=\"16\" :lg=\"12\" :md=\"24\" :sm=\"24\" :xs=\"24\" class=\"ivu-mb dashboard-console-visit\">\n                <Card :bordered=\"false\" dis-hover>\n                    <div slot=\"title\">\n                        <Avatar icon=\"ios-pulse\" size=\"small\" style=\"color: #1890ff;background-color: #e6f7ff\"/>\n                        <span class=\"ivu-pl-8\">用户</span>\n                    </div>\n                    <echarts-from ref=\"userChart\" :echartsTitle=\"line\" :infoList=\"infoList\" :series=\"series\" v-if=\"infoList&&series.length!==0\"></echarts-from>\n                </Card>\n            </Col>\n            <Col :xl=\"8\" :lg=\"12\" :md=\"24\" :sm=\"24\" :xs=\"24\">\n                <Card :bordered=\"false\" dis-hover class=\"dashboard-console-visit\">\n                    <div slot=\"title\">\n                        <Avatar icon=\"ios-analytics\" size=\"small\" style=\"color: #1890ff;background-color: #e6f7ff\" />\n                        <span class=\"ivu-pl-8\">购买用户统计</span>\n                    </div>\n                    <echarts-from ref=\"visitChart\" :infoList=\"infoList\" :echartsTitle=\"circle\"></echarts-from>\n                </Card>\n            </Col>\n        </Row>\n    </div>\n</template>\n\n<script>\n    import { userApi, rankApi } from '@/api/index'\n    import echartsFrom from '@/components/echarts/index'\n    export default {\n        name: 'user-chart',\n        components: { echartsFrom },\n        data () {\n            return {\n                line: 'line',\n                circle: 'circle',\n                infoList: {},\n                series: [],\n                xData: [],\n                y1Data: [],\n                y2Data: [],\n                lists: [],\n                bing_data: [],\n                bing_xdata: []\n            }\n        },\n        methods: {\n            // 统计\n            getStatistics () {\n                userApi().then(async res => {\n                    this.infoList = res.data\n                    this.series = [\n                        {\n                            data: res.data.series,\n                            name: '人数（人）',\n                            type: 'line',\n                            tooltip: true,\n                            smooth: true,\n                            symbol: 'none',\n                            areaStyle: {\n                                normal: {\n                                    opacity: 0.2\n                                }\n                            }\n                        }\n                    ]\n                    this.bing_data = res.bing_data\n                    this.bing_xdata = res.bing_xdata\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            getRank () {\n                rankApi().then(async res => {\n                    let data = res.data\n                    this.lists = data.list\n                }).catch(res => {\n                    this.$Message.error(res.msg)\n                })\n            },\n            // 监听页面宽度变化，刷新表格\n            handleResize () {\n                if (this.infoList && this.series.length !== 0) this.$refs.userChart.handleResize()\n                if (this.infoList) this.$refs.visitChart.handleResize()\n            }\n        },\n        mounted () {\n            this.getStatistics()\n            this.getRank()\n        },\n        beforeDestroy () {\n            if (this.visitChart) {\n                this.visitChart.dispose()\n                this.visitChart = null\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    .dashboard-console-visit{\n        ul{\n            li{\n                list-style-type: none;\n                margin-top: 12px;\n            }\n        }\n    }\n    .trees-coadd{\n        width: 100%;\n        height: 100%;\n        .scollhide{\n            width: 100%;\n            height: 100%;\n            overflow-x: hidden;\n            overflow-y: scroll;\n        }\n    }\n    .scollhide::-webkit-scrollbar {\n        display: none;\n    }\n    .names{\n        display: inline-block;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n        width: 84%;\n        margin-bottom: -7px;\n    }\n</style>\n"],"sourceRoot":"src/pages/index/components"}]}