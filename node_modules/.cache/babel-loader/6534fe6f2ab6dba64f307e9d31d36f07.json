{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js!/Users/hujun/Downloads/永益科技后端/src/libs/loading.js","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/libs/loading.js","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/.babelrc","mtime":1610587842000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CnZhciBldmVudHMgPSBbXTsKCnZhciAkc2Nyb2xsID0gZnVuY3Rpb24gJHNjcm9sbChkb20sIGZuKSB7CiAgZXZlbnRzLnB1c2goewogICAgZG9tOiBkb20sCiAgICBmbjogZm4KICB9KTsKICBmbi5faW5kZXggPSBldmVudHMubGVuZ3RoIC0gMTsKfTsKCiRzY3JvbGwucmVtb3ZlID0gZnVuY3Rpb24gKGZuKSB7CiAgZm4uX2luZGV4ICYmIGV2ZW50cy5zcGxpY2UoZm4uX2luZGV4LCAxKTsKfTsgLy/kuIrmi4nliqDovb3vvJsKCgp2YXIgU2Nyb2xsID0gewogIGFkZEhhbmRsZXI6IGZ1bmN0aW9uIGFkZEhhbmRsZXIoZWxlbWVudCwgdHlwZSwgaGFuZGxlcikgewogICAgaWYgKGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtlbHNlIGlmIChlbGVtZW50LmF0dGFjaEV2ZW50KSBlbGVtZW50LmF0dGFjaEV2ZW50KCJvbiIgKyB0eXBlLCBoYW5kbGVyKTtlbHNlIGVsZW1lbnRbIm9uIiArIHR5cGVdID0gaGFuZGxlcjsKICB9LAogIGxpc3RlblRvdWNoRGlyZWN0aW9uOiBmdW5jdGlvbiBsaXN0ZW5Ub3VjaERpcmVjdGlvbigpIHsKICAgIHRoaXMuYWRkSGFuZGxlcih3aW5kb3csICJzY3JvbGwiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB3aCA9IHdpbmRvdy5pbm5lckhlaWdodCwKICAgICAgICAgIHN0ID0gd2luZG93LnNjcm9sbFk7CiAgICAgIGV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5kb20uc2Nyb2xsSGVpZ2h0ICYmIGUuZG9tLnNjcm9sbEhlaWdodCA+IDA7CiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgZGggPSBlLmRvbS5zY3JvbGxIZWlnaHQ7CiAgICAgICAgdmFyIHMgPSBNYXRoLmNlaWwoc3QgLyAoZGggLSB3aCkgKiAxMDApOwogICAgICAgIGlmIChzID4gODUpIGUuZm4oKTsKICAgICAgfSk7CiAgICB9KTsKICB9Cn07ClNjcm9sbC5saXN0ZW5Ub3VjaERpcmVjdGlvbigpOwpleHBvcnQgZGVmYXVsdCAkc2Nyb2xsOwpleHBvcnQgeyBTY3JvbGwgfTs="},{"version":3,"sources":["/Users/hujun/Downloads/永益科技后端/src/libs/loading.js"],"names":["events","$scroll","dom","fn","push","_index","length","remove","splice","Scroll","addHandler","element","type","handler","addEventListener","attachEvent","listenTouchDirection","window","wh","innerHeight","st","scrollY","filter","e","scrollHeight","forEach","dh","s","Math","ceil"],"mappings":";AAAA,IAAMA,MAAM,GAAG,EAAf;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAASC,GAAT,EAAcC,EAAd,EAAkB;AAChCH,EAAAA,MAAM,CAACI,IAAP,CAAY;AAAEF,IAAAA,GAAG,EAAHA,GAAF;AAAOC,IAAAA,EAAE,EAAFA;AAAP,GAAZ;AACAA,EAAAA,EAAE,CAACE,MAAH,GAAYL,MAAM,CAACM,MAAP,GAAgB,CAA5B;AACD,CAHD;;AAKAL,OAAO,CAACM,MAAR,GAAiB,UAASJ,EAAT,EAAa;AAC5BA,EAAAA,EAAE,CAACE,MAAH,IAAaL,MAAM,CAACQ,MAAP,CAAcL,EAAE,CAACE,MAAjB,EAAyB,CAAzB,CAAb;AACD,CAFD,C,CAIA;;;AACA,IAAMI,MAAM,GAAG;AACbC,EAAAA,UAAU,EAAE,oBAASC,OAAT,EAAkBC,IAAlB,EAAwBC,OAAxB,EAAiC;AAC3C,QAAIF,OAAO,CAACG,gBAAZ,EACEH,OAAO,CAACG,gBAAR,CAAyBF,IAAzB,EAA+BC,OAA/B,EAAwC,KAAxC,EADF,KAEK,IAAIF,OAAO,CAACI,WAAZ,EAAyBJ,OAAO,CAACI,WAAR,CAAoB,OAAOH,IAA3B,EAAiCC,OAAjC,EAAzB,KACAF,OAAO,CAAC,OAAOC,IAAR,CAAP,GAAuBC,OAAvB;AACN,GANY;AAObG,EAAAA,oBAAoB,EAAE,gCAAW;AAC/B,SAAKN,UAAL,CAAgBO,MAAhB,EAAwB,QAAxB,EAAkC,YAAW;AAC3C,UAAMC,EAAE,GAAGD,MAAM,CAACE,WAAlB;AAAA,UACEC,EAAE,GAAGH,MAAM,CAACI,OADd;AAEArB,MAAAA,MAAM,CACHsB,MADH,CACU,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACrB,GAAF,CAAMsB,YAAN,IAAsBD,CAAC,CAACrB,GAAF,CAAMsB,YAAN,GAAqB,CAA/C;AAAA,OADX,EAEGC,OAFH,CAEW,UAAAF,CAAC,EAAI;AACZ,YAAIG,EAAE,GAAGH,CAAC,CAACrB,GAAF,CAAMsB,YAAf;AACA,YAAIG,CAAC,GAAGC,IAAI,CAACC,IAAL,CAAWT,EAAE,IAAIM,EAAE,GAAGR,EAAT,CAAH,GAAmB,GAA7B,CAAR;AACA,YAAIS,CAAC,GAAG,EAAR,EAAYJ,CAAC,CAACpB,EAAF;AACb,OANH;AAOD,KAVD;AAWD;AAnBY,CAAf;AAsBAM,MAAM,CAACO,oBAAP;AAEA,eAAef,OAAf;AACA,SAASQ,MAAT","sourcesContent":["const events = [];\n\nconst $scroll = function(dom, fn) {\n  events.push({ dom, fn });\n  fn._index = events.length - 1;\n};\n\n$scroll.remove = function(fn) {\n  fn._index && events.splice(fn._index, 1);\n};\n\n//上拉加载；\nconst Scroll = {\n  addHandler: function(element, type, handler) {\n    if (element.addEventListener)\n      element.addEventListener(type, handler, false);\n    else if (element.attachEvent) element.attachEvent(\"on\" + type, handler);\n    else element[\"on\" + type] = handler;\n  },\n  listenTouchDirection: function() {\n    this.addHandler(window, \"scroll\", function() {\n      const wh = window.innerHeight,\n        st = window.scrollY;\n      events\n        .filter(e => e.dom.scrollHeight && e.dom.scrollHeight > 0)\n        .forEach(e => {\n          var dh = e.dom.scrollHeight;\n          var s = Math.ceil((st / (dh - wh)) * 100);\n          if (s > 85) e.fn();\n        });\n    });\n  }\n};\n\nScroll.listenTouchDirection();\n\nexport default $scroll;\nexport { Scroll };\n"]}]}