{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js!/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/components/diyComponents/c_goods.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/components/diyComponents/c_goods.vue","mtime":1610681260000},{"path":"/Users/hujun/Downloads/永益科技后端/.babelrc","mtime":1610587842000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYubWFwIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHZ1ZWRyYWdnYWJsZSBmcm9tICd2dWVkcmFnZ2FibGUnOwppbXBvcnQgZ29vZHNMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9nb29kc0xpc3QnOwppbXBvcnQgc29ydExpc3QgZnJvbSAnQC9jb21wb25lbnRzL3NvcnRMaXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdjX2dvb2RzJywKICBwcm9wczogewogICAgbmFtZTogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBjb25maWdEYXRhOiB7CiAgICAgIHR5cGU6IG51bGwKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGdvb2RzTGlzdDogZ29vZHNMaXN0LAogICAgc29ydExpc3Q6IHNvcnRMaXN0LAogICAgZHJhZ2dhYmxlOiB2dWVkcmFnZ2FibGUKICB9LAogIHdhdGNoOiB7CiAgICBjb25maWdEYXRhOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoblZhbCwgb1ZhbCkgewogICAgICAgIHRoaXMuZGVmYXVsdHMgPSBuVmFsOwogICAgICAgIHRoaXMudHlwZSA9IG5WYWwuc2VsZWN0Q29uZmlnID8gblZhbC5zZWxlY3RDb25maWcudHlwZSA/IG5WYWwuc2VsZWN0Q29uZmlnLnR5cGUgOiAnJyA6ICcnOyAvLyB0aGlzLnR5cGUgPSBuVmFsLnNlbGVjdENvbmZpZy50eXBlP25WYWwuc2VsZWN0Q29uZmlnLnR5cGU6JycKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgZ29vZHNMaXN0OiBbXSwKICAgICAgdGVtcEdvb2RzOiBbXSwKICAgICAgZGVmYXVsdHM6IHt9LAogICAgICB0eXBlOiAnJywKICAgICAgaXNfbmV3OiAnJywKICAgICAgbG9hZGluZzogdHJ1ZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmRlZmF1bHRzID0gdGhpcy5jb25maWdEYXRhOwogICAgdGhpcy5pc19uZXcgPSB0aGlzLmNvbmZpZ0RhdGEuaXNfbmV3OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UHJvZHVjdERpeTogZnVuY3Rpb24gZ2V0UHJvZHVjdERpeShkYXRhKSB7CiAgICAgIHRoaXMudGVtcEdvb2RzID0gZGF0YTsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMudGVtcEdvb2RzID0gW107CiAgICB9LAogICAgLy/lr7nosaHmlbDnu4Tljrvph43vvJsKICAgIHVuaXF1ZTogZnVuY3Rpb24gdW5pcXVlKGFycikgewogICAgICB2YXIgcmVzID0gbmV3IE1hcCgpOwogICAgICByZXR1cm4gYXJyLmZpbHRlcihmdW5jdGlvbiAoYXJyKSB7CiAgICAgICAgcmV0dXJuICFyZXMuaGFzKGFyci5pZCkgJiYgcmVzLnNldChhcnIuaWQsIDEpOwogICAgICB9KTsKICAgIH0sCiAgICBvazogZnVuY3Rpb24gb2soKSB7CiAgICAgIGlmICghdGhpcy50ZW1wR29vZHMubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2Uud2FybmluZygn6K+35YWI6YCJ5oup5ZWG5ZOBJyk7CiAgICAgIH0KCiAgICAgIHZhciBsaXN0ID0gdGhpcy5kZWZhdWx0cy5nb29kc0xpc3QubGlzdDsKICAgICAgbGlzdC5wdXNoLmFwcGx5KGxpc3QsIHRoaXMudGVtcEdvb2RzKTsgLy8gbGlzdC5wdXNoKHRoaXMudGVtcEdvb2RzKTsKCiAgICAgIHZhciBwaWNMaXN0ID0gdGhpcy51bmlxdWUobGlzdCk7CiAgICAgIHRoaXMuZGVmYXVsdHMuZ29vZHNMaXN0Lmxpc3QgPSBwaWNMaXN0OyAvLyB0aGlzLmRlZmF1bHRzLmdvb2RzTGlzdC5saXN0LnB1c2godGhpcy50ZW1wR29vZHMpOwogICAgfSwKICAgIGJpbmREZWxldGU6IGZ1bmN0aW9uIGJpbmREZWxldGUoaW5kZXgpIHsKICAgICAgdGhpcy5kZWZhdWx0cy5nb29kc0xpc3QubGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["c_goods.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,YAAA,MAAA,cAAA;AACA,OAAA,SAAA,MAAA,wBAAA;AACA,OAAA,QAAA,MAAA,uBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KADA;AAIA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AAJA,GAFA;AAUA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,QAAA,EAAA,QAFA;AAGA,IAAA,SAAA,EAAA;AAHA,GAVA;AAeA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,MAAA,OADA,mBACA,IADA,EACA,IADA,EACA;AACA,aAAA,QAAA,GAAA,IAAA;AACA,aAAA,IAAA,GAAA,IAAA,CAAA,YAAA,GAAA,IAAA,CAAA,YAAA,CAAA,IAAA,GAAA,IAAA,CAAA,YAAA,CAAA,IAAA,GAAA,EAAA,GAAA,EAAA,CAFA,CAGA;AACA,OALA;AAMA,MAAA,SAAA,EAAA,IANA;AAOA,MAAA,IAAA,EAAA;AAPA;AADA,GAfA;AA0BA,EAAA,IA1BA,kBA0BA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,IAAA,EAAA,EALA;AAMA,MAAA,MAAA,EAAA,EANA;AAOA,MAAA,OAAA,EAAA;AAPA,KAAA;AASA,GApCA;AAqCA,EAAA,OArCA,qBAqCA;AACA,SAAA,QAAA,GAAA,KAAA,UAAA;AACA,SAAA,MAAA,GAAA,KAAA,UAAA,CAAA,MAAA;AAEA,GAzCA;AA0CA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,IADA,EACA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,KAJA;AAKA,IAAA,MALA,oBAKA;AACA,WAAA,SAAA,GAAA,EAAA;AACA,KAPA;AAQA;AACA,IAAA,MATA,kBASA,GATA,EASA;AACA,UAAA,GAAA,GAAA,IAAA,GAAA,EAAA;AACA,aAAA,GAAA,CAAA,MAAA,CAAA,UAAA,GAAA;AAAA,eAAA,CAAA,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,EAAA,CAAA,IAAA,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,EAAA,EAAA,CAAA,CAAA;AAAA,OAAA,CAAA;AACA,KAZA;AAaA,IAAA,EAbA,gBAaA;AACA,UAAA,CAAA,KAAA,SAAA,CAAA,MAAA,EAAA;AACA,eAAA,KAAA,QAAA,CAAA,OAAA,CAAA,QAAA,CAAA;AACA;;AACA,UAAA,IAAA,GAAA,KAAA,QAAA,CAAA,SAAA,CAAA,IAAA;AACA,MAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,EAAA,KAAA,SAAA,EALA,CAMA;;AACA,UAAA,OAAA,GAAA,KAAA,MAAA,CAAA,IAAA,CAAA;AACA,WAAA,QAAA,CAAA,SAAA,CAAA,IAAA,GAAA,OAAA,CARA,CASA;AACA,KAvBA;AAwBA,IAAA,UAxBA,sBAwBA,KAxBA,EAwBA;AACA,WAAA,QAAA,CAAA,SAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA;AA1BA;AA1CA,CAAA","sourcesContent":["<template>\n    <div class=\"goods-box\" v-if=\"defaults.goodsList\">\n        <div class=\"wrapper\">\n            <draggable\n                    class=\"dragArea list-group\"\n                    :list=\"defaults.goodsList.list\"\n                    group=\"peoples\"\n            >\n                <div class=\"item\" v-for=\"(goods,index) in defaults.goodsList.list\" :key=\"index\" v-if=\"defaults.goodsList.list.length\">\n                    <img :src=\"type?goods.pic:goods.image\" alt=\"\">\n                    <span class=\"iconfont icondel_1\" @click.stop=\"bindDelete(index)\"></span>\n                </div>\n                <div class=\"add-item item\" @click=\"modals = true\"><span class=\"iconfont iconaddto\"></span></div>\n            </draggable>\n\n        </div>\n\n        <Modal v-model=\"modals\" :loading=\"loading\" :title=\"type?'分类列表':'商品列表'\" class=\"paymentFooter\" scrollable width=\"900\" @on-cancel=\"cancel\" @on-ok=\"ok\">\n            <sort-list ref=\"goodslist\"  @getProductDiy=\"getProductDiy\" v-if=\"modals && type\"></sort-list>\n            <goods-list ref=\"goodslist\"  @getProductDiy=\"getProductDiy\" :ischeckbox=\"true\" :is_new=\"is_new\" :diy=\"true\" v-if=\"modals && !type\"></goods-list>\n        </Modal>\n    </div>\n</template>\n\n<script>\n    import vuedraggable from 'vuedraggable'\n    import goodsList from '@/components/goodsList'\n    import sortList from '@/components/sortList'\n    export default {\n        name: 'c_goods',\n        props: {\n            name: {\n                type: String\n            },\n            configData:{\n                type:null\n            }\n        },\n        components: {\n            goodsList,\n            sortList,\n            draggable: vuedraggable\n        },\n        watch: {\n            configData: {\n                handler (nVal, oVal) {\n                    this.defaults = nVal\n                    this.type = nVal.selectConfig?(nVal.selectConfig.type?nVal.selectConfig.type:''):''\n                    // this.type = nVal.selectConfig.type?nVal.selectConfig.type:''\n                },\n                immediate: true,\n                deep: true\n            }\n        },\n        data () {\n            return {\n                modals: false,\n                goodsList: [],\n                tempGoods: [],\n                defaults:{},\n                type:'',\n                is_new:'',\n                loading:true\n            }\n        },\n        created () {\n            this.defaults = this.configData\n            this.is_new = this.configData.is_new\n\n        },\n        methods: {\n            getProductDiy (data) {\n                this.tempGoods = data\n                this.loading = false\n            },\n            cancel () {\n                this.tempGoods = []\n            },\n            //对象数组去重；\n            unique(arr) {\n                const res = new Map();\n                return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1))\n            },\n            ok () {\n                if(!this.tempGoods.length){\n                    return this.$Message.warning('请先选择商品');\n                }\n                let list = this.defaults.goodsList.list;\n                list.push.apply(list,this.tempGoods);\n                // list.push(this.tempGoods);\n                let picList = this.unique(list);\n                this.defaults.goodsList.list= picList;\n                // this.defaults.goodsList.list.push(this.tempGoods);\n            },\n            bindDelete (index) {\n                this.defaults.goodsList.list.splice(index, 1)\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n    .goods-box\n        padding 16px 0\n        margin-bottom 16px\n        border-top 1px solid rgba(0,0,0,0.05)\n        border-bottom 1px solid rgba(0,0,0,0.05)\n        .wrapper,.list-group\n            display flex\n            flex-wrap wrap\n        .add-item\n            display flex\n            align-items center\n            justify-content center\n            width 80px\n            height 80px\n            margin-bottom 10px\n            background #F7F7F7\n            .iconfont\n                font-size 18px\n                color #D8D8D8\n        .item\n            position relative\n            width 80px\n            height 80px\n            margin-bottom 20px\n            margin-right 12px\n            &:nth-child(4n)\n               margin-right 0\n            img\n                width 100%\n                height 100%\n            .icondel_1\n                position absolute\n                right -10px\n                top -16px\n                color #999999\n                font-size 28px\n                cursor pointer\n</style>\n\n"],"sourceRoot":"src/components/diyComponents"}]}