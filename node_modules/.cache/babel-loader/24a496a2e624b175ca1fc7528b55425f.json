{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js!/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/components/freightTemplate/city.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/components/freightTemplate/city.vue","mtime":1610587842000},{"path":"/Users/hujun/Downloads/永益科技后端/.babelrc","mtime":1610587842000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm51bWJlci5jb25zdHJ1Y3RvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHRlbXBsYXRlc0NpdHlMaXN0QXBpIH0gZnJvbSAnQC9hcGkvc2V0dGluZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnY2l0eScsCiAgcHJvcHM6IHsKICAgIHR5cGU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaVNzZWxlY3Q6IGZhbHNlLAogICAgICBhZGRyZXNzTW9kYWw6IGZhbHNlLAogICAgICBjaXR5TGlzdDogW10sCiAgICAgIGFjdGl2ZUNpdHk6IC0xLAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBtZXRob2RzOiB7CiAgICBlbnRlcjogZnVuY3Rpb24gZW50ZXIoaW5kZXgpIHsKICAgICAgdGhpcy5hY3RpdmVDaXR5ID0gaW5kZXg7CiAgICB9LAogICAgbGVhdmU6IGZ1bmN0aW9uIGxlYXZlKCkgewogICAgICB0aGlzLmFjdGl2ZUNpdHkgPSBudWxsOwogICAgfSwKICAgIGdldENpdHlMaXN0OiBmdW5jdGlvbiBnZXRDaXR5TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRlbXBsYXRlc0NpdHlMaXN0QXBpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzLmNpdHlMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIOWFqOmAieaIluiAheWPjemAiQogICAgICogQHBhcmFtIGNoZWNrZWQKICAgICAqLwogICAgYWxsQ2hlY2tib3g6IGZ1bmN0aW9uIGFsbENoZWNrYm94KCkgewogICAgICB2YXIgdGhhdCA9IHRoaXMsCiAgICAgICAgICBjaGVja2VkID0gdGhpcy5pU3NlbGVjdDsKICAgICAgdGhhdC5jaXR5TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBrZXkpIHsKICAgICAgICB0aGF0LiRzZXQodGhhdC5jaXR5TGlzdFtrZXldLCAnY2hlY2tlZCcsIGNoZWNrZWQpOwoKICAgICAgICBpZiAoY2hlY2tlZCkgewogICAgICAgICAgdGhhdC4kc2V0KHRoYXQuY2l0eUxpc3Rba2V5XSwgJ2NvdW50JywgdGhhdC5jaXR5TGlzdFtrZXldLmNoaWxkcmVuLmxlbmd0aCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoYXQuJHNldCh0aGF0LmNpdHlMaXN0W2tleV0sICdjb3VudCcsIDApOwogICAgICAgIH0KCiAgICAgICAgdGhhdC5jaXR5TGlzdFtrZXldLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKHZhbCwgaykgewogICAgICAgICAgdGhhdC4kc2V0KHRoYXQuY2l0eUxpc3Rba2V5XS5jaGlsZHJlbltrXSwgJ2NoZWNrZWQnLCBjaGVja2VkKTsKICAgICAgICB9KTsKICAgICAgfSk7IC8vIHRoaXMucmVuZGVyKCk7CiAgICB9LAogICAgLy8g5riF56m677ybCiAgICBlbXB0eTogZnVuY3Rpb24gZW1wdHkoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdGhhdC5jaXR5TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBrZXkpIHsKICAgICAgICB0aGF0LiRzZXQodGhhdC5jaXR5TGlzdFtrZXldLCAnY2hlY2tlZCcsIGZhbHNlKTsKICAgICAgICB0aGF0LmNpdHlMaXN0W2tleV0uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAodmFsLCBrKSB7CiAgICAgICAgICB0aGF0LiRzZXQodGhhdC5jaXR5TGlzdFtrZXldLmNoaWxkcmVuW2tdLCAnY2hlY2tlZCcsIGZhbHNlKTsKICAgICAgICB9KTsKICAgICAgICB0aGF0LiRzZXQodGhhdC5jaXR5TGlzdFtrZXldLCAnY291bnQnLCAwKTsKICAgICAgfSk7CiAgICAgIHRoaXMuaVNzZWxlY3QgPSBmYWxzZTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDngrnlh7vnnIEKICAgICAqIEBwYXJhbSBpbmRleAogICAgICovCiAgICBjaGVja2VkQ2xpY2s6IGZ1bmN0aW9uIGNoZWNrZWRDbGljayhpbmRleCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CgogICAgICBpZiAodGhhdC5jaXR5TGlzdFtpbmRleF0uY2hlY2tlZCkgewogICAgICAgIHRoYXQuJHNldCh0aGF0LmNpdHlMaXN0W2luZGV4XSwgJ2NvdW50JywgdGhhdC5jaXR5TGlzdFtpbmRleF0uY2hpbGRyZW4ubGVuZ3RoKTsKICAgICAgICB0aGF0LmNpdHlMaXN0W2luZGV4XS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBrZXkpIHsKICAgICAgICAgIHRoYXQuJHNldCh0aGF0LmNpdHlMaXN0W2luZGV4XS5jaGlsZHJlbltrZXldLCAnY2hlY2tlZCcsIHRydWUpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoYXQuJHNldCh0aGF0LmNpdHlMaXN0W2luZGV4XSwgJ2NvdW50JywgMCk7CiAgICAgICAgdGhhdC4kc2V0KHRoYXQuY2l0eUxpc3RbaW5kZXhdLCAnY2hlY2tlZCcsIGZhbHNlKTsKICAgICAgICB0aGF0LmNpdHlMaXN0W2luZGV4XS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBrZXkpIHsKICAgICAgICAgIHRoYXQuJHNldCh0aGF0LmNpdHlMaXN0W2luZGV4XS5jaGlsZHJlbltrZXldLCAnY2hlY2tlZCcsIGZhbHNlKTsKICAgICAgICB9KTsKICAgICAgICB0aGF0LmlTc2VsZWN0ID0gZmFsc2U7CiAgICAgIH0gLy8gdGhpcy5yZW5kZXIoKTsKCiAgICB9LAoKICAgIC8qKgogICAgICog54K55Ye75biC5Yy6CiAgICAgKiBAcGFyYW0gaW5kZXgKICAgICAqIEBwYXJhbSBpbmQKICAgICAqLwogICAgcHJpbWFyeTogZnVuY3Rpb24gcHJpbWFyeShpbmRleCwgaW5kKSB7CiAgICAgIHZhciBjaGVja2VkID0gZmFsc2UsCiAgICAgICAgICBjb3VudCA9IDA7CiAgICAgIHRoaXMuY2l0eUxpc3RbaW5kZXhdLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGtleSkgewogICAgICAgIGlmIChpdGVtLmNoZWNrZWQpIHsKICAgICAgICAgIGNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgY291bnQrKzsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLiRzZXQodGhpcy5jaXR5TGlzdFtpbmRleF0sICdjb3VudCcsIGNvdW50KTsKICAgICAgdGhpcy4kc2V0KHRoaXMuY2l0eUxpc3RbaW5kZXhdLCAnY2hlY2tlZCcsIGNoZWNrZWQpOyAvLyB0aGlzLnJlbmRlcigpOwogICAgfSwKICAgIC8vIOehruWumjsKICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0oKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsgLy8g6KKr6YCJ5Lit55qE55yB5biC77ybCgogICAgICB2YXIgc2VsZWN0TGlzdCA9IFtdOwogICAgICB0aGF0LmNpdHlMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGtleSkgewogICAgICAgIHZhciBkYXRhID0ge307CgogICAgICAgIGlmIChpdGVtLmNoZWNrZWQpIHsKICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgY2l0eV9pZDogaXRlbS5jaXR5X2lkLAogICAgICAgICAgICBjaGlsZHJlbjogW10KICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICB0aGF0LmNpdHlMaXN0W2tleV0uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoaSwgaykgewogICAgICAgICAgaWYgKGkuY2hlY2tlZCkgewogICAgICAgICAgICBkYXRhLmNoaWxkcmVuLnB1c2goewogICAgICAgICAgICAgIGNpdHlfaWQ6IGkuY2l0eV9pZAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgaWYgKGRhdGEuY2l0eV9pZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBzZWxlY3RMaXN0LnB1c2goZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coc2VsZWN0TGlzdCk7CgogICAgICBpZiAoc2VsZWN0TGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gdGhhdC4kTWVzc2FnZS5lcnJvcign6Iez5bCR6YCJ5oup5LiA5Liq55yB5Lu95oiW6ICF5Z+O5biCJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0Q2l0eScsIHNlbGVjdExpc3QsIHRoaXMudHlwZSk7CiAgICAgICAgdGhhdC5hZGRyZXNzTW9kYWwgPSBmYWxzZTsKICAgICAgICB0aGlzLmNpdHlMaXN0ID0gW107CiAgICAgIH0gLy8gcGFyZW50LnNlbGVjdENpdHkoc2VsZWN0TGlzdCx0eXBlKTsKICAgICAgLy8gdmFyIGluZGV4ID0gcGFyZW50LmxheWVyLmdldEZyYW1lSW5kZXgod2luZG93Lm5hbWUpOwogICAgICAvLyBwYXJlbnQubGF5ZXIuY2xvc2UoaW5kZXgpOwogICAgICAvLyBjb25zb2xlLmxvZyhzZWxlY3RMaXN0KTsKCiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLmFkZHJlc3NNb2RhbCA9IGZhbHNlOwogICAgICB0aGlzLmNpdHlMaXN0ID0gW107CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgey8vIHRoaXMuZ2V0Q2l0eUxpc3QoKTsKICB9Cn07"},{"version":3,"sources":["city.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <Modal\n                v-model=\"addressModal\"\n                title=\"选择可配送区域\"\n                width=\"50%\"\n                class=\"modal\"\n                :mask=\"true\"\n        >\n            <Row :gutter=\"24\" type=\"flex\">\n                <Col :xl=\"24\" :lg=\"24\" :md=\"24\" :sm=\"24\" :xs=\"24\" class=\"item\">\n                    <div class=\"acea-row row-right row-middle\">\n                        <Checkbox v-model=\"iSselect\" @on-change=\"allCheckbox\">全选</Checkbox>\n                        <div class=\"empty\" @click=\"empty\">清空</div>\n                    </div>\n                </Col>\n            </Row>\n                <Row :gutter=\"24\" type=\"flex\" :loading=\"loading\">\n                    <Col :xl=\"6\" :lg=\"6\" :md=\"6\" :sm=\"8\" :xs=\"6\" class=\"item\" v-for=\"(item,index) in cityList\" :key=\"index\">\n                        <div @mouseenter=\"enter(index)\" @mouseleave=\"leave()\">\n                            <Checkbox v-model=\"item.checked\" :label=\"item.name\" @on-change=\"checkedClick(index)\">{{item.name}}</Checkbox><span class=\"red\">({{(item.count || 0) + '/' + item.children.length}})</span>\n                            <div class=\"city\" v-show=\"activeCity===index\">\n                                <div class=\"checkBox\">\n                                    <div class=\"arrow\"></div>\n                                        <div>\n                                            <Checkbox v-model=\"city.checked\" :label=\"city.name\" @on-change=\"primary(index,indexn)\" class=\"itemn\" v-for=\"(city,indexn) in item.children\" :key=\"indexn\">{{city.name}}</Checkbox>\n                                        </div>\n                                </div>\n                            </div>\n                        </div>\n                    </Col>\n                </Row>\n            <div slot=\"footer\">\n                <Button @click=\"close\">取消</Button>\n                <Button type=\"primary\" @click=\"confirm\">确定</Button>\n            </div>\n            <Spin size=\"large\" fix v-if=\"loading\"></Spin>\n        </Modal>\n    </div>\n</template>\n\n<script>\n    import { mapState } from 'vuex'\n    import { templatesCityListApi } from '@/api/setting'\n    export default {\n        name: 'city',\n        props: {\n            type: {\n                type: Number,\n                default: 0\n            }\n        },\n        data () {\n            return {\n                iSselect: false,\n                addressModal: false,\n                cityList: [],\n                activeCity: -1,\n                loading: false\n            }\n        },\n        computed: {\n        },\n        methods: {\n            enter (index) {\n                this.activeCity = index\n            },\n            leave () {\n                this.activeCity = null\n            },\n            getCityList () {\n                this.loading = true\n                templatesCityListApi().then(res => {\n                    this.loading = false\n                    this.cityList = res.data\n                })\n            },\n            /**\n             * 全选或者反选\n             * @param checked\n             */\n            allCheckbox: function () {\n                let that = this, checked = this.iSselect\n                that.cityList.forEach(function (item, key) {\n                    that.$set(that.cityList[key], 'checked', checked)\n                    if (checked) {\n                        that.$set(that.cityList[key], 'count', that.cityList[key].children.length)\n                    } else {\n                        that.$set(that.cityList[key], 'count', 0)\n                    }\n                    that.cityList[key].children.forEach(function (val, k) {\n                        that.$set(that.cityList[key].children[k], 'checked', checked)\n                    })\n                })\n                // this.render();\n            },\n            // 清空；\n            empty () {\n                let that = this\n                that.cityList.forEach(function (item, key) {\n                    that.$set(that.cityList[key], 'checked', false)\n                    that.cityList[key].children.forEach(function (val, k) {\n                        that.$set(that.cityList[key].children[k], 'checked', false)\n                    })\n                    that.$set(that.cityList[key], 'count', 0)\n                })\n                this.iSselect = false\n            },\n            /**\n             * 点击省\n             * @param index\n             */\n            checkedClick: function (index) {\n                let that = this\n                if (that.cityList[index].checked) {\n                    that.$set(that.cityList[index], 'count', that.cityList[index].children.length)\n                    that.cityList[index].children.forEach(function (item, key) {\n                        that.$set(that.cityList[index].children[key], 'checked', true)\n                    })\n                } else {\n                    that.$set(that.cityList[index], 'count', 0)\n                    that.$set(that.cityList[index], 'checked', false)\n                    that.cityList[index].children.forEach(function (item, key) {\n                        that.$set(that.cityList[index].children[key], 'checked', false)\n                    })\n                    that.iSselect = false\n                }\n                // this.render();\n            },\n            /**\n             * 点击市区\n             * @param index\n             * @param ind\n             */\n            primary: function (index, ind) {\n                let checked = false, count = 0\n                this.cityList[index].children.forEach(function (item, key) {\n                    if (item.checked) {\n                        checked = true\n                        count++\n                    }\n                })\n                this.$set(this.cityList[index], 'count', count)\n                this.$set(this.cityList[index], 'checked', checked)\n                // this.render();\n            },\n            // 确定;\n            confirm () {\n                let that = this\n                // 被选中的省市；\n                let selectList = []\n                that.cityList.forEach(function (item, key) {\n                    let data = {}\n                    if (item.checked) {\n                        data = {\n                            name: item.name,\n                            city_id: item.city_id,\n                            children: []\n                        }\n                    }\n                    that.cityList[key].children.forEach(function (i, k) {\n                        if (i.checked) {\n                            data.children.push({\n                                city_id: i.city_id\n                            })\n                        }\n                    })\n                    if (data.city_id !== undefined) {\n                        selectList.push(data)\n                    }\n                })\n                console.log(selectList)\n                if (selectList.length === 0) {\n                    return that.$Message.error('至少选择一个省份或者城市')\n                } else {\n                    this.$emit('selectCity', selectList, this.type)\n                    that.addressModal = false\n                    this.cityList = []\n                }\n                // parent.selectCity(selectList,type);\n                // var index = parent.layer.getFrameIndex(window.name);\n                // parent.layer.close(index);\n                // console.log(selectList);\n            },\n            close () {\n                this.addressModal = false\n                this.cityList = []\n            }\n        },\n        mounted () {\n            // this.getCityList();\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n    .modal .item{margin-bottom:20px;}\n    .modal .item .city{position:absolute;z-index:9;top:17px;width:100%;padding-top:18px;}\n    .modal .item .city .checkBox{width:97%;padding:10px;border:1px solid #eee;background-color:#fff;max-height:100px;overflow-x:hidden;overflow-y:auto;}\n    .modal .item .city .checkBox .arrow{position: absolute;top:3px;width: 0;height: 0;\n        border: 8px solid transparent;border-bottom-color:#ddd;}\n    .modal .item .city .checkBox .arrow:before{position: absolute;bottom: -8px;right: -7px;content: \"\";width: 0;height: 0;border: 7px solid transparent;border-bottom-color: #fff;}\n    .modal .item .city .checkBox .itemn{margin-bottom:10px;}\n    .radio{padding: 5px 0;font-size:14px!important;}\n    .red{color:#ff0000;}\n    .empty{cursor: pointer;}\n</style>\n"],"sourceRoot":"src/components/freightTemplate"}]}