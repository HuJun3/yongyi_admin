{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js!/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/setting/devise/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/setting/devise/index.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/.babelrc","mtime":1610587842000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBkaXlHZXRJbmZvLCBzdG9yZVN0YXR1cyB9IGZyb20gJ0AvYXBpL2RpeSc7CmltcG9ydCB7IG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgcmlnaHRDb25maWcgZnJvbSAnQC9jb21wb25lbnRzL3JpZ2h0Q29uZmlnL2luZGV4JzsKaW1wb3J0IGxpbmtzIGZyb20gIi4vbGlua3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImluZGV4IiwKICBjb21wb25lbnRzOiB7CiAgICByaWdodENvbmZpZzogcmlnaHRDb25maWcsCiAgICBsaW5rczogbGlua3MKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb25maWdOYW1lOiAnJywKICAgICAgaWZyYW1lVXJsOiAnJywKICAgICAgc2V0Q29uZmlnOiAnJywKICAgICAgdXBkYXRhQ29uZmlnOiAnJywKICAgICAgcGFnZUlkOiAwCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgdmFyIHBhZ2VJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOwogICAgdmFyIG5hbWVzID0gdGhpcy4kcm91dGUucXVlcnkubmFtZTsKICAgIHRoaXMuc2V0Q29uZmlnID0gbmFtZXMgKyAnL3NldENvbmZpZyc7CiAgICB0aGlzLnVwZGF0YUNvbmZpZyA9IG5hbWVzICsgJy91cGRhdGFDb25maWcnOwogICAgdGhpcy5wYWdlSWQgPSBwYXJzZUludChwYWdlSWQpOwogICAgdGhpcy5pZnJhbWVVcmwgPSAiIi5jb25jYXQobG9jYXRpb24ub3JpZ2luLCAiP3R5cGU9aWZyYW1lTWFra01pbmtrSnVhbiIpOwogICAgZGl5R2V0SW5mbyhwYXJzZUludChwYWdlSWQpKS50aGVuKGZ1bmN0aW9uIChkYXRhcykgewogICAgICB2YXIgZGF0YSA9IGRhdGFzLmRhdGEuaW5mby52YWx1ZTsKCiAgICAgIF90aGlzLnVwRGF0YShkYXRhKTsKICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8v55uR5ZCs5a2Q6aG16Z2i57uZ5b2T5YmN6aG16Z2i5Lyg5YC8CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIHRoaXMuaGFuZGxlTWVzc2FnZSwgZmFsc2UpOwogIH0sCiAgbWV0aG9kczogewogICAgLy/mjqXmlLZpZnJhbWXlgLwKICAgIGhhbmRsZU1lc3NhZ2U6IGZ1bmN0aW9uIGhhbmRsZU1lc3NhZ2UoZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LmRhdGEubmFtZSkgewogICAgICAgIHRoaXMuY29uZmlnTmFtZSA9IGV2ZW50LmRhdGEubmFtZTsKICAgICAgICB0aGlzLmFkZChldmVudC5kYXRhLm5hbWUpOwogICAgICB9CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoZGF0YSkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQodGhpcy5zZXRDb25maWcsIGRhdGEpOwogICAgfSwKICAgIHVwRGF0YTogZnVuY3Rpb24gdXBEYXRhKGRhdGEpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KHRoaXMudXBkYXRhQ29uZmlnLCBkYXRhKTsKICAgIH0gLy8gLi4ubWFwTXV0YXRpb25zKHsKICAgIC8vICAgICBhZGQ6ICdkaXkvc2V0Q29uZmlnJywKICAgIC8vICAgICB1cERhdGE6J2RpeS91cGRhdGFDb25maWcnCiAgICAvLyB9KQoKICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA,SAAA,UAAA,EAAA,WAAA,QAAA,WAAA;AACA,SAAA,YAAA,QAAA,MAAA;AACA,OAAA,WAAA,MAAA,gCAAA;AACA,OAAA,KAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA,WADA;AAEA,IAAA,KAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,YAAA,EAAA,EAJA;AAKA,MAAA,MAAA,EAAA;AALA,KAAA;AAOA,GAdA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AACA,QAAA,IAAA,GAAA,IAAA;AACA,QAAA,MAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,EAAA;AACA,QAAA,KAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA;AACA,SAAA,SAAA,GAAA,KAAA,GAAA,YAAA;AACA,SAAA,YAAA,GAAA,KAAA,GAAA,eAAA;AACA,SAAA,MAAA,GAAA,QAAA,CAAA,MAAA,CAAA;AACA,SAAA,SAAA,aAAA,QAAA,CAAA,MAAA;AACA,IAAA,UAAA,CAAA,QAAA,CAAA,MAAA,CAAA,CAAA,CAAA,IAAA,CAAA,UAAA,KAAA,EAAA;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;;AACA,MAAA,KAAA,CAAA,MAAA,CAAA,IAAA;AACA,KAHA;AAIA,GA3BA;AA4BA,EAAA,OA5BA,qBA4BA;AACA;AACA,IAAA,MAAA,CAAA,gBAAA,CAAA,SAAA,EAAA,KAAA,aAAA,EAAA,KAAA;AACA,GA/BA;AAgCA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,aAFA,yBAEA,KAFA,EAEA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,IAAA,EAAA;AACA,aAAA,UAAA,GAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA,aAAA,GAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA;AACA,KAPA;AAQA,IAAA,GARA,eAQA,IARA,EAQA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,KAAA,SAAA,EAAA,IAAA;AACA,KAVA;AAWA,IAAA,MAXA,kBAWA,IAXA,EAWA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,KAAA,YAAA,EAAA,IAAA;AACA,KAbA,CAcA;AACA;AACA;AACA;;AAjBA;AAhCA,CAAA","sourcesContent":["<template>\n    <div>\n    <div class=\"i-layout-page-header\">\n        <div class=\"i-layout-page-header\">\n            <router-link :to=\"{path:'/admin/setting/pages/devise'}\"><Button icon=\"ios-arrow-back\" size=\"small\"  class=\"mr20\">返回</Button></router-link>\n            <span class=\"ivu-page-header-title mr20\">页面设计</span>\n        </div>\n    </div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n    <div class=\"flex-wrapper\">\n        <!-- :src=\"iframeUrl\" -->\n        <iframe class=\"iframe-box\" :src=\"iframeUrl\" frameborder=\"0\" ref=\"iframe\"></iframe>\n        <div>\n            <div class=\"content\">\n                <rightConfig :name=\"configName\" :pageId=\"pageId\"></rightConfig>\n            </div>\n        </div>\n        <links></links>\n    </div>\n    </Card>\n    </div>\n</template>\n\n<script>\n    import { diyGetInfo, storeStatus } from  '@/api/diy'\n    import { mapMutations } from 'vuex'\n    import rightConfig from '@/components/rightConfig/index'\n    import links from './links'\n    export default {\n        name: \"index\",\n        components:{\n            rightConfig,\n            links\n        },\n        data(){\n            return {\n                configName:'',\n                iframeUrl:'',\n                setConfig:'',\n                updataConfig:'',\n                pageId:0\n            }\n        },\n        created() {\n            let that = this;\n            let pageId = this.$route.query.id;\n            let names = this.$route.query.name;\n            this.setConfig = names +'/setConfig';\n            this.updataConfig = names +'/updataConfig';\n            this.pageId = parseInt(pageId);\n            this.iframeUrl = `${location.origin}?type=iframeMakkMinkkJuan`;\n            diyGetInfo(parseInt(pageId)).then(datas=>{\n                let data = datas.data.info.value;\n                this.upData(data);\n            })\n        },\n        mounted() {\n            //监听子页面给当前页面传值\n            window.addEventListener(\"message\", this.handleMessage,false)\n        },\n        methods:{\n            //接收iframe值\n            handleMessage (event) {\n                if(event.data.name){\n                    this.configName = event.data.name\n                    this.add(event.data.name)\n                }\n            },\n            add (data) {\n                this.$store.commit(this.setConfig, data);\n            },\n            upData (data) {\n                this.$store.commit(this.updataConfig, data);\n            }\n            // ...mapMutations({\n            //     add: 'diy/setConfig',\n            //     upData:'diy/updataConfig'\n            // })\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n    .content\n        width 450px;\n    .flex-wrapper\n        display flex\n    .iframe-box\n        width: 375px;\n        height: 700px;\n        /*border: 1px solid #ddd;*/\n        border-radius: 4px;\n        box-shadow : 0 0 7px #cccccc;\n    .right-box\n        width 400px\n        margin-left 50px\n        border:1px solid #ddd;\n        border-radius 4px\n        .title-bar\n            width 100%\n            height 38px\n            line-height 38px\n            padding-left 24px\n            color #333\n            border-radius 4px\n            border-bottom 1px solid #eee\n\n</style>\n"],"sourceRoot":"src/pages/setting/devise"}]}