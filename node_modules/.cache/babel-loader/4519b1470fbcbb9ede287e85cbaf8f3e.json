{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js!/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/components/diyComponents/c_upload_list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/components/diyComponents/c_upload_list.vue","mtime":1610681298000},{"path":"/Users/hujun/Downloads/永益科技后端/.babelrc","mtime":1610587842000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgdXBsb2FkUGljdHVyZXMgZnJvbSAnQC9jb21wb25lbnRzL3VwbG9hZFBpY3R1cmVzJzsKaW1wb3J0IHZ1ZWRyYWdnYWJsZSBmcm9tICd2dWVkcmFnZ2FibGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NfdXBsb2FkX2xpc3QnLAogIHByb3BzOiB7CiAgICBuYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfSwKICAgIGNvbmZpZ0RhdGE6IHsKICAgICAgdHlwZTogbnVsbAogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgdXBsb2FkUGljdHVyZXM6IHVwbG9hZFBpY3R1cmVzLAogICAgZHJhZ2dhYmxlOiB2dWVkcmFnZ2FibGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZWZhdWx0czoge30sCiAgICAgIG1lbnVzOiBbXSwKICAgICAgbW9kYWxQaWM6IGZhbHNlLAogICAgICBpc0Nob2ljZTogJ+WNlemAiScsCiAgICAgIGdyaWRCdG46IHsKICAgICAgICB4bDogNCwKICAgICAgICBsZzogOCwKICAgICAgICBtZDogOCwKICAgICAgICBzbTogOCwKICAgICAgICB4czogOAogICAgICB9LAogICAgICBncmlkUGljOiB7CiAgICAgICAgeGw6IDYsCiAgICAgICAgbGc6IDgsCiAgICAgICAgbWQ6IDEyLAogICAgICAgIHNtOiAxMiwKICAgICAgICB4czogMTIKICAgICAgfSwKICAgICAgYWN0aXZlSW5kZXg6IDAsCiAgICAgIGxhc3RPYmo6IHt9LAogICAgICBkYXRhczogdGhpcy5jb25maWdEYXRhCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIHdhdGNoOiB7CiAgICBjb25maWdEYXRhOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoblZhbCwgb1ZhbCkgewogICAgICAgIHRoaXMuZGF0YXMgPSBuVmFsOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRCb3g6IGZ1bmN0aW9uIGFkZEJveCgpIHsKICAgICAgaWYgKHRoaXMuY29uZmlnRGF0YVt0aGlzLm5hbWVdLmxpc3QubGVuZ3RoID09IDApIHsKICAgICAgICB0aGlzLmNvbmZpZ0RhdGFbdGhpcy5uYW1lXS5saXN0LnB1c2godGhpcy5sYXN0T2JqKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNvbmZpZ0RhdGFbdGhpcy5uYW1lXS5saXN0W3RoaXMuY29uZmlnRGF0YVt0aGlzLm5hbWVdLmxpc3QubGVuZ3RoIC0gMV0pKTsKICAgICAgICB0aGlzLmNvbmZpZ0RhdGFbdGhpcy5uYW1lXS5saXN0LnB1c2gob2JqKTsKICAgICAgfQogICAgfSwKICAgIC8vIOeCueWHu+WbvuaWh+WwgemdogogICAgbW9kYWxQaWNUYXA6IGZ1bmN0aW9uIG1vZGFsUGljVGFwKHRpdGxlLCBpbmRleCkgewogICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gaW5kZXg7CiAgICAgIHRoaXMubW9kYWxQaWMgPSB0cnVlOwogICAgfSwKICAgIC8vIOa3u+WKoOiHquWumuS5ieW8ueeqlwogICAgYWRkQ3VzdG9tRGlhbG9nOiBmdW5jdGlvbiBhZGRDdXN0b21EaWFsb2coZWRpdG9ySWQpIHsKICAgICAgd2luZG93LlVFLnJlZ2lzdGVyVUkoJ3Rlc3QtZGlhbG9nJywgZnVuY3Rpb24gKGVkaXRvciwgdWlOYW1lKSB7CiAgICAgICAgdmFyIGRpYWxvZyA9IG5ldyB3aW5kb3cuVUUudWkuRGlhbG9nKHsKICAgICAgICAgIGlmcmFtZVVybDogJy9hZG1pbi93aWRnZXQuaW1hZ2VzL2luZGV4Lmh0bWw/Zm9kZGVyPWRpYWxvZycsCiAgICAgICAgICBlZGl0b3I6IGVkaXRvciwKICAgICAgICAgIG5hbWU6IHVpTmFtZSwKICAgICAgICAgIHRpdGxlOiAn5LiK5Lyg5Zu+54mHJywKICAgICAgICAgIGNzc1J1bGVzOiAnd2lkdGg6MTIwMHB4O2hlaWdodDo1MDBweDtwYWRkaW5nOjIwcHg7JwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZGlhbG9nID0gZGlhbG9nOyAvLyDlj4LogIPkuIrpnaLnmoToh6rlrprkuYnmjInpkq4KCiAgICAgICAgdmFyIGJ0biA9IG5ldyB3aW5kb3cuVUUudWkuQnV0dG9uKHsKICAgICAgICAgIG5hbWU6ICdkaWFsb2ctYnV0dG9uJywKICAgICAgICAgIHRpdGxlOiAn5LiK5Lyg5Zu+54mHJywKICAgICAgICAgIGNzc1J1bGVzOiAiYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWFnZXMvaWNvbnMucG5nKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNzI2cHggLTc3cHg7IiwKICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uIG9uY2xpY2soKSB7CiAgICAgICAgICAgIC8vIOa4suafk2RpYWxvZwogICAgICAgICAgICBkaWFsb2cucmVuZGVyKCk7CiAgICAgICAgICAgIGRpYWxvZy5vcGVuKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGJ0bjsKICAgICAgfSwgMzcpOwogICAgfSwKICAgIC8vIOiOt+WPluWbvueJh+S/oeaBrwogICAgZ2V0UGljOiBmdW5jdGlvbiBnZXRQaWMocGMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5jb25maWdEYXRhW190aGlzLm5hbWVdLmxpc3RbX3RoaXMuYWN0aXZlSW5kZXhdLmltZyA9IHBjLmF0dF9kaXI7CiAgICAgICAgX3RoaXMubW9kYWxQaWMgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yig6ZmkCiAgICBiaW5kRGVsZXRlOiBmdW5jdGlvbiBiaW5kRGVsZXRlKGl0ZW0sIGluZGV4KSB7CiAgICAgIGlmICh0aGlzLmNvbmZpZ0RhdGFbdGhpcy5uYW1lXS5saXN0Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgdGhpcy5sYXN0T2JqID0gdGhpcy5jb25maWdEYXRhW3RoaXMubmFtZV0ubGlzdFswXTsKICAgICAgfQoKICAgICAgdGhpcy5jb25maWdEYXRhW3RoaXMubmFtZV0ubGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["c_upload_list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"hot_imgs\">\n        <div class=\"title\" >\n            {{datas[name].title}}\n        </div>\n        <div class=\"list-box\">\n            <draggable\n                    class=\"dragArea list-group\"\n                    :list=\"datas[name].list\"\n                    group=\"peoples\"\n                    handle=\".move-icon\"\n            >\n               <div class=\"item\" v-for=\"(item,index) in datas[name].list\" :key=\"index\">\n                <div class=\"move-icon\">\n                    <span class=\"iconfont icondrag2\"></span>\n                </div>\n                <div class=\"img-box\" @click=\"modalPicTap('单选',index)\">\n                    <img :src=\"item.img\" alt=\"\" v-if=\"item.img\">\n                    <div class=\"upload-box\" v-else>\n                        <Icon type=\"ios-camera-outline\" size=\"36\"/>\n                    </div>\n                    <div v-if=\"!datas[name].isDelete\" class=\"delect-btn\" @click.stop=\"bindDelete(item,index)\"><Icon type=\"md-close-circle\" size=\"26\" /></div>\n                </div>\n                <div class=\"info\">\n                    <div class=\"info-item\" v-for=\"(infos,key) in item.info\" :key=\"key\">\n                        <span>{{infos.title}}</span>\n                        <div class=\"input-box\">\n                            <Input v-model=\"infos.value\" :placeholder=\"infos.tips\" :maxlength=\"infos.maxlength\"/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            </draggable>\n            <div>\n                <Modal v-model=\"modalPic\" width=\"950px\" scrollable footer-hide closable title='上传商品图'\n                       :mask-closable=\"false\" :z-index=\"888\">\n                    <uploadPictures :isChoice=\"isChoice\" @getPic=\"getPic\" :gridBtn=\"gridBtn\" :gridPic=\"gridPic\"\n                                    v-if=\"modalPic\"></uploadPictures>\n                </Modal>\n            </div>\n        </div>\n        <template v-if=\"datas[name]\">\n            <div class=\"add-btn\" v-if=\"datas[name].list.length < datas[name].max || datas[name].max == '' \">\n                <Button type=\"primary\" ghost style=\"width: 100%; height: 40px; border-color:#1890FF; color: #1890FF;\"\n                        @click=\"addBox\">添加图片\n                </Button>\n            </div>\n        </template>\n    </div>\n</template>\n\n<script>\n    import uploadPictures from '@/components/uploadPictures';\n    import vuedraggable from 'vuedraggable'\n    export default {\n        name: 'c_upload_list',\n        props: {\n            name: {\n                type: String\n            },\n            configData:{\n                type:null\n            }\n        },\n        components: {\n            uploadPictures,\n            draggable: vuedraggable\n        },\n        data() {\n            return {\n                defaults: {},\n                menus: [],\n                modalPic: false,\n                isChoice: '单选',\n                gridBtn: {\n                    xl: 4,\n                    lg: 8,\n                    md: 8,\n                    sm: 8,\n                    xs: 8\n                },\n                gridPic: {\n                    xl: 6,\n                    lg: 8,\n                    md: 12,\n                    sm: 12,\n                    xs: 12\n                },\n                activeIndex: 0,\n                lastObj: {},\n                datas: this.configData\n            }\n        },\n        mounted () {},\n        watch: {\n            configData: {\n                handler (nVal, oVal) {\n                    this.datas = nVal\n                },\n                deep: true\n            }\n        },\n        methods: {\n            addBox() {\n                if (this.configData[this.name].list.length == 0) {\n                    this.configData[this.name].list.push(this.lastObj)\n                } else {\n                    let obj = JSON.parse(JSON.stringify(this.configData[this.name].list[this.configData[this.name].list.length - 1]))\n                    this.configData[this.name].list.push(obj)\n                }\n            },\n            // 点击图文封面\n            modalPicTap(title, index) {\n                this.activeIndex = index\n                this.modalPic = true;\n            },\n            // 添加自定义弹窗\n            addCustomDialog(editorId) {\n                window.UE.registerUI('test-dialog', function (editor, uiName) {\n                    let dialog = new window.UE.ui.Dialog({\n                        iframeUrl: '/admin/widget.images/index.html?fodder=dialog',\n                        editor: editor,\n                        name: uiName,\n                        title: '上传图片',\n                        cssRules: 'width:1200px;height:500px;padding:20px;'\n                    });\n                    this.dialog = dialog;\n                    // 参考上面的自定义按钮\n                    var btn = new window.UE.ui.Button({\n                        name: 'dialog-button',\n                        title: '上传图片',\n                        cssRules: `background-image: url(../../../assets/images/icons.png);background-position: -726px -77px;`,\n                        onclick: function () {\n                            // 渲染dialog\n                            dialog.render();\n                            dialog.open();\n                        }\n                    });\n\n                    return btn;\n                }, 37);\n            },\n            // 获取图片信息\n            getPic(pc) {\n                this.$nextTick(() => {\n                    this.configData[this.name].list[this.activeIndex].img = pc.att_dir;\n                    this.modalPic = false;\n                })\n            },\n            // 删除\n            bindDelete(item, index) {\n                if (this.configData[this.name].list.length == 1) {\n                    this.lastObj = this.configData[this.name].list[0]\n                }\n                this.configData[this.name].list.splice(index, 1)\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"stylus\">\n    .icondrag2{\n        font-size: 26px;\n        color: #d8d8d8;\n    }\n    .hot_imgs\n        margin-bottom 20px\n        .title\n            padding 0 0 13px 0\n            color #999\n            font-size 12px\n            border-bottom 1px solid rgba(0, 0, 0, 0.05)\n\n        .list-box\n            .item\n                position relative\n                display flex\n                margin-top 20px\n\n                .move-icon\n                    display flex\n                    align-items center\n                    justify-content center\n                    width 30px\n                    height 80px\n                    cursor move\n                    color #D8D8D8\n\n                .img-box\n                    position relative\n                    width 80px\n                    height 80px\n\n                    img\n                        width 100%\n                        height 100%\n\n                .info\n                    flex 1\n                    margin-left 22px\n\n                    .info-item\n                        display flex\n                        align-items center\n                        margin-bottom 10px\n\n                        span\n                            width 40px\n                            font-size 13px\n\n                        .input-box\n                            flex 1\n\n                .delect-btn\n                    position absolute\n                    right: -12px;\n                    top: -12px;\n                    color #999999\n\n                    .iconfont\n                        font-size 28px\n                        color #999\n\n        .add-btn\n            margin-top 10px\n\n    .upload-box\n        display flex\n        align-items center\n        justify-content center\n        width 100%\n        height 100%\n        background #ccc\n\n    .iconfont\n        color #DDDDDD\n        font-size 28px\n</style>\n"],"sourceRoot":"src/components/diyComponents"}]}