{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js!/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/kefu/mobile/goods/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/kefu/mobile/goods/list.vue","mtime":1610680940000},{"path":"/Users/hujun/Downloads/永益科技后端/.babelrc","mtime":1610587842000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgU29ja2V0IH0gZnJvbSAnQC9saWJzL3NvY2tldCc7CmltcG9ydCB7IHByb2R1Y3RDYXJ0LCBwcm9kdWN0SG90LCBwcm9kdWN0VmlzaXQgfSBmcm9tICdAL2FwaS9rZWZ1LmpzJzsKaW1wb3J0IHsgc2VydmljZUluZm8gfSBmcm9tICdAL2FwaS9rZWZ1X21vYmlsZSc7CmltcG9ydCBlbXB0eSBmcm9tICIuLi8uLi9jb21wb25lbnRzL2VtcHR5IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdwcm9kdWN0X2luZm8nLAogIGNvbXBvbmVudHM6IHsKICAgIGVtcHR5OiBlbXB0eQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9wczogewogICAgICAgIGJhcjogewogICAgICAgICAgYmFja2dyb3VuZDogJyMzOTMyMzInLAogICAgICAgICAgb3BhY2l0eTogJy41JywKICAgICAgICAgIHNpemU6ICcycHgnCiAgICAgICAgfQogICAgICB9LAogICAgICBzZWFyY2hUeHQ6ICcnLAogICAgICB0YWJDdXI6IDAsCiAgICAgIHRhYkxpc3Q6IFt7CiAgICAgICAga2V5OiAwLAogICAgICAgIHRpdGxlOiAn6LSt5LmwJywKICAgICAgICBhcGk6ICdwcm9kdWN0Q2FydCcKICAgICAgfSwgewogICAgICAgIGtleTogMSwKICAgICAgICB0aXRsZTogJ+i2s+i/uScsCiAgICAgICAgYXBpOiAncHJvZHVjdEhvdCcKICAgICAgfSwgewogICAgICAgIGtleTogMiwKICAgICAgICB0aXRsZTogJ+eDremUgCcsCiAgICAgICAgYXBpOiAncHJvZHVjdFZpc2l0JwogICAgICB9XSwKICAgICAgdG9VaWQ6ICcnLAogICAgICBsaXN0OiBbXQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICB0YWJDdXI6IGZ1bmN0aW9uIHRhYkN1cihuVmFsLCBvVmFsKSB7CiAgICAgIHRoaXMubGlzdCA9IFtdOwogICAgICBpZiAoblZhbCA9PSAwKSByZXR1cm4gdGhpcy5nZXRCdXlMaXN0KCk7CiAgICAgIGlmIChuVmFsID09IDEpIHJldHVybiB0aGlzLmdldFZpc2l0KCk7CiAgICAgIGlmIChuVmFsID09IDIpIHJldHVybiB0aGlzLmdldFByb2R1Y3RIb3QoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBzZXJ2aWNlSW5mbygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUgPSAiIi5jb25jYXQocmVzLmRhdGEuc2l0ZV9uYW1lLCAiIC0gXHU1NTQ2XHU1NEMxXHU1MjE3XHU4ODY4Iik7CiAgICB9KTsKICAgIHRoaXMudG9VaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS50b1VpZDsKICAgIHRoaXMuZ2V0QnV5TGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6LSt5Lmw6K6w5b2VCiAgICBnZXRCdXlMaXN0OiBmdW5jdGlvbiBnZXRCdXlMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcHJvZHVjdENhcnQodGhpcy50b1VpZCwgewogICAgICAgIHN0b3JlX25hbWU6IHRoaXMuc2VhcmNoVHh0CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmxpc3QgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g54Ot6ZSA5ZWG5ZOBCiAgICBnZXRQcm9kdWN0SG90OiBmdW5jdGlvbiBnZXRQcm9kdWN0SG90KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHByb2R1Y3RIb3QodGhpcy50b1VpZCwgewogICAgICAgIHN0b3JlX25hbWU6IHRoaXMuc2VhcmNoVHh0CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5saXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOi2s+i/uQogICAgZ2V0VmlzaXQ6IGZ1bmN0aW9uIGdldFZpc2l0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHByb2R1Y3RWaXNpdCh0aGlzLnRvVWlkLCB7CiAgICAgICAgc3RvcmVfbmFtZTogdGhpcy5zZWFyY2hUeHQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLmxpc3QgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5o6o6YCBCiAgICBiaW5nR29vZHM6IGZ1bmN0aW9uIGJpbmdHb29kcyhpdGVtKSB7CiAgICAgIHZhciBvYmogPSB7CiAgICAgICAgdHlwZTogJ2NoYXQnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIG1zbjogaXRlbS5pZCwKICAgICAgICAgIHR5cGU6IDUsCiAgICAgICAgICB0b191aWQ6IHRoaXMudG9VaWQKICAgICAgICB9CiAgICAgIH07CiAgICAgIFNvY2tldC50aGVuKGZ1bmN0aW9uICh3cykgewogICAgICAgIHdzLnNlbmQob2JqKTsKICAgICAgfSk7IC8vIHRoaXMuYnVzLiRlbWl0KCdzZWxlY3RHb29kcycsaXRlbSkKCiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAogICAgLy8g6aG26YOo6YCJ6aG55Y2h5YiH5o2iCiAgICBiaW5kVGFiOiBmdW5jdGlvbiBiaW5kVGFiKGl0ZW0pIHsKICAgICAgdGhpcy50YWJDdXIgPSBpdGVtLmtleTsKICAgIH0sCiAgICAvLyDmkJzntKIKICAgIGJpbmRTZWFyY2g6IGZ1bmN0aW9uIGJpbmRTZWFyY2goKSB7CiAgICAgIGlmICh0aGlzLnRhYkN1ciA9PSAwKSByZXR1cm4gdGhpcy5nZXRCdXlMaXN0KCk7CiAgICAgIGlmICh0aGlzLnRhYkN1ciA9PSAxKSByZXR1cm4gdGhpcy5nZXRWaXNpdCgpOwogICAgICBpZiAodGhpcy50YWJDdXIgPT0gMikgcmV0dXJuIHRoaXMuZ2V0UHJvZHVjdEhvdCgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"product_info\">\n        <div class=\"head\">\n            <div class=\"tab-box\">\n                <div class=\"tab-item\" :class=\"{on:index==tabCur}\" v-for=\"(item,index) in tabList\" :key=\"index\" @click=\"bindTab(item)\">{{item.title}}</div>\n            </div>\n            <div class=\"search-box\">\n                <Input type=\"text\" placeholder=\"搜索商品名称/ID\" v-model=\"searchTxt\" style=\"border-radius: .39rem; background: #F5F6F9\" :search=\"true\" @on-search=\"bindSearch\" />\n            </div>\n        </div>\n        <div class=\"scroll-box\" v-if=\"list.length>0\">\n            <vue-scroll :ops=\"ops\">\n                <div class=\"goods-item\" v-for=\"(item,index) in list\" :key=\"index\">\n                    <img :src=\"item.image\" mode=\"\" />\n                    <div class=\"info\">\n                        <div class=\"title line2 mb15\">{{item.store_name}}</div>\n                        <div class=\"num\">\n                            <span class=\"mr15\">库存 {{item.stock}}</span>\n                            <span>销量 {{item.sales}}</span>\n                        </div>\n                    </div>\n                    <div class=\"right\">\n                        <div class=\"price\">￥{{item.price}}</div>\n                        <div class=\"btn\" @click=\"bingGoods(item)\">推送</div>\n                    </div>\n                </div>\n                <div class=\"slot-load\" slot=\"load-deactive\"></div>\n                <div class=\"slot-load\" slot=\"load-active\">下滑加载更多</div>\n            </vue-scroll>\n        </div>\n        <empty v-else msg=\"暂无商品信息\"></empty>\n    </div>\n</template>\n\n<script>\n    import {Socket} from '@/libs/socket';\n    import { productCart,productHot,productVisit } from '@/api/kefu.js'\n    import { serviceInfo } from '@/api/kefu_mobile'\n    import empty from \"../../components/empty\";\n    export default{\n        name:'product_info',\n        components:{\n            empty\n        },\n        data(){\n            return{\n                ops:{\n                    bar:{\n                        background:'#393232',\n                        opacity:'.5',\n                        size:'2px'\n                    }\n                },\n                searchTxt:'',\n                tabCur:0,\n                tabList:[\n                    {\n                        key:0,\n                        title:'购买',\n                        api:'productCart'\n                    },\n                    {\n                        key:1,\n                        title:'足迹',\n                        api:'productHot'\n                    },\n                    {\n                        key:2,\n                        title:'热销',\n                        api:'productVisit'\n                    }\n                ],\n                toUid:'',\n                list:[]\n            }\n        },\n        watch:{\n            tabCur(nVal,oVal){\n                this.list = []\n                if(nVal == 0) return this.getBuyList()\n                if(nVal == 1) return this.getVisit()\n                if(nVal == 2) return this.getProductHot()\n            }\n        },\n        created() {\n            serviceInfo().then(res => {\n                window.document.title = `${res.data.site_name} - 商品列表`\n            })\n            this.toUid = this.$route.query.toUid\n            this.getBuyList()\n        },\n        methods:{\n            // 购买记录\n            getBuyList(){\n                productCart(this.toUid,{\n                    store_name:this.searchTxt\n                }).then(res=>{\n                    this.list = res.data\n                })\n            },\n            // 热销商品\n            getProductHot(){\n                productHot(this.toUid,{\n                    store_name:this.searchTxt\n                }).then(res=>{\n                    this.list = res.data\n                })\n            },\n            // 足迹\n            getVisit(){\n                productVisit(this.toUid,{\n                    store_name:this.searchTxt\n                }).then(res=>{\n                    this.list = res.data\n                })\n            },\n            // 推送\n            bingGoods(item){\n                let obj = {\n                    type: 'chat',\n                    data: {\n                        msn:item.id,\n                        type:5,\n                        to_uid: this.toUid\n                    }\n                }\n                Socket.then(ws => {\n                    ws.send(obj)\n                });\n                // this.bus.$emit('selectGoods',item)\n                this.$router.go(-1)\n            },\n            // 顶部选项卡切换\n            bindTab(item){\n                this.tabCur = item.key\n            },\n            // 搜索\n            bindSearch(){\n                if(this.tabCur == 0) return this.getBuyList()\n                if(this.tabCur == 1) return this.getVisit()\n                if(this.tabCur == 2) return this.getProductHot()\n            }\n        }\n    }\n</script>\n<style>\n    page{\n        height: 100%;\n    }\n</style>\n<style lang=\"stylus\" scoped>\n    .product_info{\n        display: flex;\n        flex-direction: column;\n        height: 100vh;\n        .head{\n            background: #fff;\n            .tab-box{\n                display: flex;\n                align-items: center;\n                justify-content: space-between;\n                height: .8rem;\n                padding: 0 1.46rem;\n                .tab-item{\n                    height: .8rem;\n                    line-height: .8rem;\n                    padding: 0 .15rem;\n                    font-size: .28rem;\n                    color: #282828;\n                    &.on{\n                        border-bottom: 1px solid #3875EA;\n                    }\n                }\n            }\n            .search-box{\n                display: flex;\n                align-items: center;\n                height: 1.28rem;\n                padding: 0 .3rem;\n                input{\n                    display: block;\n                    width: 100%;\n                    height: .68rem;\n                    padding-left: .7rem;\n                    background: #F5F6F9;\n                    border-radius: .39rem;\n                    box-sizing: border-box;\n                    /*background-image: url(\"../static/search.png\");*/\n                }\n            }\n        }\n        .scroll-box{\n            flex: 1;\n            overflow: hidden;\n            .goods-item{\n                display: flex;\n                padding: .3rem;\n                margin-top: .15rem;\n                background-color: #fff;\n                img{\n                    width: 1.7rem;\n                    height: 1.7rem;\n                    border-radius: 0.06rem;\n                }\n                .info{\n                    width: 3.26rem;\n                    margin-left: .22rem;\n                    .title{\n                        font-size: .28rem;\n                        color: #282828;\n                    }\n                    .num{\n                        margin-top: .1rem;\n                        font-size: .24rem;\n                        color: #9F9F9F;\n                    }\n                }\n                .right{\n                    flex: 1;\n                    display: flex;\n                    flex-direction: column;\n                    justify-content: space-between;\n                    margin-left: .36rem;\n                    .price{\n                        color: #F74C31;\n                    }\n                    .btn{\n                        width: 100%;\n                        height: .6rem;\n                        line-height: .6rem;\n                        text-align: center;\n                        color: #fff;\n                        background: #3875EA;\n                        border-radius: 0.06rem;\n                    }\n                }\n            }\n        }\n    }\n</style>\n"],"sourceRoot":"src/pages/kefu/mobile/goods"}]}