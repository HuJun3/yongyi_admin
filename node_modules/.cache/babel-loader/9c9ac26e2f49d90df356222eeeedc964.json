{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js!/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/pages/kefu/pc/components/chatList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/pages/kefu/pc/components/chatList.vue","mtime":1610680940000},{"path":"/Users/hujun/Downloads/永益科技后端/.babelrc","mtime":1610587842000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IFNvY2tldCB9IGZyb20gJ0AvbGlicy9zb2NrZXQnOwppbXBvcnQgZGF5anMgZnJvbSAnZGF5anMnOwppbXBvcnQgeyByZWNvcmQgfSBmcm9tICdAL2FwaS9rZWZ1JzsKaW1wb3J0IHsgSGFwcHlTY3JvbGwgfSBmcm9tICd2dWUtaGFwcHktc2Nyb2xsJzsKaW1wb3J0IGVtcHR5IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvZW1wdHkiOwppbXBvcnQgeyBmb3JFYWNoIH0gZnJvbSAiLi4vLi4vLi4vLi4vbGlicy90b29scyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiY2hhdExpc3QiLAogIHByb3BzOiB7CiAgICB1c2VyT25saW5lOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgbmV3UmVjb3JlZDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIHNlYXJjaERhdGE6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgSGFwcHlTY3JvbGw6IEhhcHB5U2Nyb2xsLAogICAgZW1wdHk6IGVtcHR5CiAgfSwKICB3YXRjaDogewogICAgdXNlck9ubGluZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5WYWwsIG9WYWwpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICBpZiAoblZhbC5oYXNPd25Qcm9wZXJ0eSgndG9fdWlkJykpIHsKICAgICAgICAgIHRoaXMudXNlckxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWwsIGluZGV4KSB7CiAgICAgICAgICAgIGlmIChlbC50b191aWQgPT0gblZhbC50b191aWQpIHsKICAgICAgICAgICAgICBlbC5vbmxpbmUgPSBuVmFsLm9ubGluZTsKCiAgICAgICAgICAgICAgaWYgKG5WYWwub25saW5lID09IDEpIHsKICAgICAgICAgICAgICAgIF90aGlzLiROb3RpY2UuaW5mbyh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5LiK57q/6YCa55+lJywKICAgICAgICAgICAgICAgICAgZGVzYzogIiIuY29uY2F0KGVsLm5pY2tuYW1lLCAiXHU0RTBBXHU3RUJGIikKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgc2VhcmNoRGF0YTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5WYWwsIG9WYWwpIHsKICAgICAgICBpZiAoblZhbCAhPSBvVmFsKSB7CiAgICAgICAgICB0aGlzLm5pY2tuYW1lID0gblZhbDsKICAgICAgICAgIHRoaXMucGFnZSA9IDE7CiAgICAgICAgICB0aGlzLmlzU2Nyb2xsID0gdHJ1ZTsKICAgICAgICAgIHRoaXMudXNlckxpc3QgPSBbXTsKICAgICAgICAgIHRoaXMuaXNTZWFyY2ggPSB0cnVlOwogICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaGRUYWJDdXI6IDAsCiAgICAgIGhkVGFiOiBbewogICAgICAgIGtleTogMCwKICAgICAgICB0aXRsZTogJ+eUqOaIt+WIl+ihqCcKICAgICAgfSwgewogICAgICAgIGtleTogMSwKICAgICAgICB0aXRsZTogJ+a4uOWuouWIl+ihqCcKICAgICAgfV0sCiAgICAgIHVzZXJMaXN0OiBbXSwKICAgICAgY3VySWQ6ICcnLAogICAgICBwYWdlOiAxLAogICAgICBsaW1pdDogMTUsCiAgICAgIGlzU2Nyb2xsOiB0cnVlLAogICAgICBuaWNrbmFtZTogJycsCiAgICAgIGlzU2VhcmNoOiBmYWxzZSwKICAgICAgb3BzOiB7CiAgICAgICAgdnVlc2Nyb2xsOiB7CiAgICAgICAgICBtb2RlOiAnbmF0aXZlJywKICAgICAgICAgIGVuYWJsZTogZmFsc2UsCiAgICAgICAgICB0aXBzOiB7CiAgICAgICAgICAgIGRlYWN0aXZlOiAnUHVzaCB0byBMb2FkJywKICAgICAgICAgICAgYWN0aXZlOiAnUmVsZWFzZSB0byBMb2FkJywKICAgICAgICAgICAgc3RhcnQ6ICdMb2FkaW5nLi4uJywKICAgICAgICAgICAgYmVmb3JlRGVhY3RpdmU6ICdMb2FkIFN1Y2Nlc3NmdWxseSEnCiAgICAgICAgICB9LAogICAgICAgICAgYXV0bzogZmFsc2UsCiAgICAgICAgICBhdXRvTG9hZERpc3RhbmNlOiAwLAogICAgICAgICAgcHVsbFJlZnJlc2g6IHsKICAgICAgICAgICAgZW5hYmxlOiBmYWxzZQogICAgICAgICAgfSwKICAgICAgICAgIHB1c2hMb2FkOiB7CiAgICAgICAgICAgIGVuYWJsZTogdHJ1ZSwKICAgICAgICAgICAgYXV0bzogdHJ1ZSwKICAgICAgICAgICAgYXV0b0xvYWREaXN0YW5jZTogMTAKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGJhcjogewogICAgICAgICAgYmFja2dyb3VuZDogJyMzOTMyMzInLAogICAgICAgICAgb3BhY2l0eTogJy41JywKICAgICAgICAgIHNpemU6ICc1cHgnCiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgZmlsdGVyczogewogICAgdG9EYXk6IGZ1bmN0aW9uIHRvRGF5KHZhbHVlKSB7CiAgICAgIGlmICghdmFsdWUpIHJldHVybiAnJzsKICAgICAgcmV0dXJuIGRheWpzLnVuaXgodmFsdWUpLmZvcm1hdCgnTeaciETml6UgSEg6bW0nKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICBTb2NrZXQudGhlbihmdW5jdGlvbiAod3MpIHsKICAgICAgLy/nlKjmiLfovazmjqUKICAgICAgd3MuJG9uKCd0cmFuc2ZlcicsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgdmFyIHN0YXR1cyA9IGZhbHNlOwogICAgICAgIHRoYXQudXNlckxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWwsIGluZGV4LCBhcnIpIHsKICAgICAgICAgIGlmIChkYXRhLnJlY29yZWQuaWQgPT0gZWwuaWQpIHsKICAgICAgICAgICAgc3RhdHVzID0gdHJ1ZTsKCiAgICAgICAgICAgIGlmIChkYXRhLnJlY29yZWQuaXNfdG91cmlzdCA9PSB0aGF0LmhkVGFiQ3VyKSB7CiAgICAgICAgICAgICAgdmFyIG9sZFZhbCA9IGRhdGEucmVjb3JlZDsKICAgICAgICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTsKCiAgICAgICAgICAgICAgaWYgKGluZGV4ID09IDApIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kZW1pdCgnc2V0RGF0YUlkJywgb2xkVmFsKTsKCiAgICAgICAgICAgICAgICBvbGRWYWwubXNzYWdlX251bSA9IDA7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBhcnIudW5zaGlmdChvbGRWYWwpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczIuJE5vdGljZS5pbmZvKHsKICAgICAgICAgICAgICB0aXRsZTogJ+aCqOacieS4gOadoei9rOaOpea2iOaBr++8gScKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGlmICghc3RhdHVzKSB7CiAgICAgICAgICBpZiAoZGF0YS5yZWNvcmVkLmlzX3RvdXJpc3QgPT0gX3RoaXMyLmhkVGFiQ3VyKSBfdGhpczIudXNlckxpc3QudW5zaGlmdChkYXRhLnJlY29yZWQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHdzLiRvbignbXNzYWdlX251bScsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgaWYgKGRhdGEucmVjb3JlZC5pZCkgewogICAgICAgICAgdmFyIHN0YXR1cyA9IGZhbHNlOwogICAgICAgICAgdGhhdC51c2VyTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlbCwgaW5kZXgsIGFycikgewogICAgICAgICAgICBpZiAoZGF0YS5yZWNvcmVkLmlkID09IGVsLmlkKSB7CiAgICAgICAgICAgICAgc3RhdHVzID0gdHJ1ZTsKCiAgICAgICAgICAgICAgaWYgKGRhdGEucmVjb3JlZC5pc190b3VyaXN0ID09IHRoYXQuaGRUYWJDdXIpIHsKICAgICAgICAgICAgICAgIHZhciBvbGRWYWwgPSBkYXRhLnJlY29yZWQ7CiAgICAgICAgICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgICAgIGFyci51bnNoaWZ0KG9sZFZhbCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoIXN0YXR1cykgewogICAgICAgICAgICBpZiAoZGF0YS5yZWNvcmVkLmlzX3RvdXJpc3QgPT0gX3RoaXMyLmhkVGFiQ3VyKSBfdGhpczIudXNlckxpc3QudW5zaGlmdChkYXRhLnJlY29yZWQpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGRhdGEucmVjb3JlZC5pc190b3VyaXN0ICE9IF90aGlzMi5oZFRhYkN1ciAmJiBkYXRhLnJlY29yZWQuaWQpIHsKICAgICAgICAgIF90aGlzMi4kTm90aWNlLmluZm8oewogICAgICAgICAgICB0aXRsZTogX3RoaXMyLmhkVGFiQ3VyID8gJ+eUqOaIt+WPkeadpea2iOaBr+WVpu+8gScgOiAn5ri45a6i5Y+R5p2l5raI5oGv5ZWm77yBJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogICAgdGhpcy5idXMuJG9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpczIubmlja25hbWUgPSBkYXRhOwogICAgfSk7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5YiH5o2iCiAgICBjaGFuZ2VUYWI6IGZ1bmN0aW9uIGNoYW5nZVRhYihpdGVtKSB7CiAgICAgIGlmICh0aGlzLmhkVGFiQ3VyID09IGl0ZW0ua2V5KSByZXR1cm47CiAgICAgIHRoaXMuaGRUYWJDdXIgPSBpdGVtLmtleTsKICAgICAgdGhpcy5pc1Njcm9sbCA9IHRydWU7CiAgICAgIHRoaXMucGFnZSA9IDE7CiAgICAgIHRoaXMudXNlckxpc3QgPSBbXTsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlVHlwZScsIGl0ZW0ua2V5KTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuaXNTY3JvbGwpIHJldHVybjsKICAgICAgcmVjb3JkKHsKICAgICAgICBuaWNrbmFtZTogdGhpcy5uaWNrbmFtZSwKICAgICAgICBwYWdlOiB0aGlzLnBhZ2UsCiAgICAgICAgbGltaXQ6IHRoaXMubGltaXQsCiAgICAgICAgaXNfdG91cmlzdDogdGhpcy5oZFRhYkN1cgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgcmVzLmRhdGFbMF0ubXNzYWdlX251bSA9IDA7CiAgICAgICAgICBfdGhpczMuaXNTY3JvbGwgPSByZXMuZGF0YS5sZW5ndGggPj0gX3RoaXMzLmxpbWl0OwogICAgICAgICAgX3RoaXMzLnVzZXJMaXN0ID0gX3RoaXMzLnVzZXJMaXN0LmNvbmNhdChyZXMuZGF0YSk7CgogICAgICAgICAgaWYgKF90aGlzMy5wYWdlID09IDEgJiYgcmVzLmRhdGEubGVuZ3RoID4gMCAmJiAhX3RoaXMzLmlzU2VhcmNoKSB7CiAgICAgICAgICAgIF90aGlzMy5jdXJJZCA9IHJlcy5kYXRhWzBdLmlkOwoKICAgICAgICAgICAgX3RoaXMzLiRlbWl0KCdzZXREYXRhSWQnLCByZXMuZGF0YVswXSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMzLnBhZ2UrKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLiRlbWl0KCdzZXREYXRhSWQnLCAwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNoYXJ0UmVhY2hCb3R0b206IGZ1bmN0aW9uIGNoYXJ0UmVhY2hCb3R0b20oKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOmAieaLqeeUqOaItwogICAgc2VsZWN0VXNlcjogZnVuY3Rpb24gc2VsZWN0VXNlcihpdGVtKSB7CiAgICAgIGlmICh0aGlzLmN1cklkID09IGl0ZW0uaWQpIHJldHVybjsKICAgICAgaXRlbS5tc3NhZ2VfbnVtID0gMDsKICAgICAgdGhpcy5jdXJJZCA9IGl0ZW0uaWQ7CiAgICAgIHRoaXMuJGVtaXQoJ3NldERhdGFJZCcsIGl0ZW0pOwogICAgfSwKICAgIGhhbmRsZVNjcm9sbDogZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKHZlcnRpY2FsLCBob3Jpem9udGFsLCBuYXRpdmVFdmVudCkgewogICAgICBpZiAodmVydGljYWwucHJvY2VzcyA9PSAxKSB7CiAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["chatList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"chatList\">\n        <div class=\"tab-head\">\n            <div class=\"item\" :class=\"{active:item.key == hdTabCur}\" v-for=\"(item, index) in hdTab\" :key=\"index\" @click=\"changeTab(item)\">{{item.title}}</div>\n        </div>\n        <div class=\"scroll-box\">\n            <vue-scroll :ops=\"ops\" @handle-scroll=\"handleScroll\" v-if=\"userList.length>0\"\n            >\n                <div class=\"chat-item\" v-for=\"(item,index) in userList\" :key=\"index\" :class=\"{active:curId == item.id}\" @click=\"selectUser(item)\">\n                    <div class=\"avatar\">\n                        <img v-lazy=\"item.avatar\" alt=\"\">\n                        <div class=\"status\" :class=\"{off:item.online == 0}\"></div>\n                    </div>\n                    <div class=\"user-info\">\n                        <div class=\"hd\">\n                            <span class=\"name line1\">{{item.nickname}}</span>\n                            <template v-if=\"item.type == 2\">\n                                <span class=\"label\">小程序</span>\n                            </template>\n                            <template v-if=\"item.type == 3\">\n                                <span class=\"label H5\">H5</span>\n                            </template>\n                            <template v-if=\"item.type == 1\">\n                                <span class=\"label wechat\">公众号</span>\n                            </template>\n                            <template v-if=\"item.type == 0\">\n                                <span class=\"label pc\">PC端</span>\n                            </template>\n                        </div>\n                        <div class=\"bd line1\">\n                            <template v-if=\"item.message_type <=2\">{{item.message}}</template>\n                            <template v-if=\"item.message_type ==3\">[图片]</template>\n                            <template v-if=\"item.message_type ==5\">[商品]</template>\n                            <template v-if=\"item.message_type ==6\">[订单]</template>\n                        </div>\n                    </div>\n                    <div class=\"right-box\">\n                        <div class=\"time\">{{item.update_time | toDay}}</div>\n                        <div class=\"num\">\n                            <Badge :count=\"item.mssage_num\">\n                                <a href=\"#\" class=\"demo-badge\"></a>\n                            </Badge>\n                        </div>\n                    </div>\n                </div>\n            </vue-scroll>\n            <empty v-else msg=\"暂无用户列表\" status=\"1\"></empty>\n        </div>\n\n\n\n\n    </div>\n</template>\n\n<script>\n    import {Socket} from '@/libs/socket';\n    import dayjs from 'dayjs'\n    import { record } from '@/api/kefu'\n    import { HappyScroll } from 'vue-happy-scroll'\n    import empty from \"../../components/empty\";\n    import {forEach} from \"../../../../libs/tools\";\n    export default {\n        name: \"chatList\",\n        props:{\n            userOnline:{\n                type:Object,\n                default:function () {\n                    return {}\n                }\n            },\n            newRecored:{\n                type:Object,\n                default:function () {\n                    return {}\n                }\n            },\n            searchData:{\n                type:String,\n                default:''\n            }\n        },\n        components:{\n            HappyScroll,\n            empty\n        },\n        watch:{\n            userOnline:{\n                handler(nVal,oVal){\n                    if(nVal.hasOwnProperty('to_uid')){\n                        this.userList.forEach((el,index)=>{\n                            if(el.to_uid == nVal.to_uid){\n                                el.online = nVal.online\n                                if(nVal.online == 1){\n                                    this.$Notice.info({\n                                        title: '上线通知',\n                                        desc: `${el.nickname}上线`\n                                    });\n                                }\n\n                            }\n                        })\n                    }\n                },\n                deep:true\n            },\n            searchData:{\n                handler(nVal,oVal){\n                    if(nVal !=oVal){\n                        this.nickname = nVal\n                        this.page = 1\n                        this.isScroll = true\n                        this.userList = []\n                        this.isSearch = true\n                        this.getList()\n                    }\n                },\n                deep:true\n            }\n        },\n        data(){\n            return {\n                hdTabCur:0,\n                hdTab:[\n                    {\n                        key:0,\n                        title:'用户列表'\n                    },\n                    {\n                        key:1,\n                        title:'游客列表'\n                    }\n                ],\n                userList:[],\n                curId:'',\n                page:1,\n                limit:15,\n                isScroll:true,\n                nickname:'',\n                isSearch:false,\n                ops:{\n                    vuescroll:{\n                        mode: 'native',\n                        enable: false,\n                        tips: {\n                            deactive: 'Push to Load',\n                            active: 'Release to Load',\n                            start: 'Loading...',\n                            beforeDeactive: 'Load Successfully!'\n                        },\n                        auto: false,\n                        autoLoadDistance: 0,\n                        pullRefresh: {\n                            enable: false\n                        },\n                        pushLoad: {\n                            enable: true,\n                            auto: true,\n                            autoLoadDistance: 10\n                        }\n                    },\n                    bar:{\n                        background:'#393232',\n                        opacity:'.5',\n                        size:'5px'\n                    }\n                },\n            }\n        },\n        filters: {\n            toDay: function (value) {\n                if (!value) return ''\n                return  dayjs.unix(value).format('M月D日 HH:mm')\n\n            }\n        },\n        mounted() {\n            let that = this\n            Socket.then(ws=>{\n                //用户转接\n                ws.$on('transfer', data => {\n                    let status = false\n                    that.userList.forEach((el,index,arr)=>{\n                        if(data.recored.id == el.id){\n                            status = true\n                            if(data.recored.is_tourist == that.hdTabCur){\n                                let oldVal = data.recored\n                                arr.splice(index,1)\n\n                                if(index == 0){\n                                    this.$emit('setDataId',oldVal)\n                                    oldVal.mssage_num = 0\n                                }\n                                arr.unshift(oldVal)\n                            }\n                            this.$Notice.info({\n                                title: '您有一条转接消息！',\n                            });\n                        }\n                    })\n                    if(!status){\n                        if(data.recored.is_tourist == this.hdTabCur)\n                            this.userList.unshift(data.recored)\n                    }\n                })\n                ws.$on('mssage_num', data => {\n                    if(data.recored.id){\n                        let status = false\n                        that.userList.forEach((el,index,arr)=>{\n                            if(data.recored.id == el.id){\n                                status = true\n                                if(data.recored.is_tourist == that.hdTabCur){\n                                    let oldVal = data.recored\n                                    arr.splice(index,1)\n                                    arr.unshift(oldVal)\n                                }\n                            }\n                        })\n                        if(!status){\n                            if(data.recored.is_tourist == this.hdTabCur)\n                                this.userList.unshift(data.recored)\n                        }\n                    }\n                    if(data.recored.is_tourist != this.hdTabCur && data.recored.id){\n                        this.$Notice.info({\n                            title: this.hdTabCur?'用户发来消息啦！':'游客发来消息啦！',\n                        });\n                    }\n                })\n            });\n            this.bus.$on('change', data => {\n                this.nickname = data\n            })\n            this.getList()\n\n        },\n        methods:{\n            //切换\n            changeTab(item){\n                if(this.hdTabCur == item.key) return\n                this.hdTabCur = item.key\n                this.isScroll = true\n                this.page = 1\n                this.userList = []\n                this.$emit('changeType',item.key)\n                this.getList()\n            },\n            getList(){\n                if(!this.isScroll) return\n                record({\n                    nickname:this.nickname,\n                    page:this.page,\n                    limit:this.limit,\n                    is_tourist:this.hdTabCur\n                }).then( res => {\n                    if(res.data.length>0){\n                        res.data[0].mssage_num = 0\n                        this.isScroll = res.data.length>=this.limit\n\n                        this.userList = this.userList.concat(res.data)\n\n                        if (this.page == 1 && res.data.length>0 &&!this.isSearch ) {\n                            this.curId = res.data[0].id\n                            this.$emit('setDataId',res.data[0])\n                        }\n                        this.page++\n                    }else{\n                        this.$emit('setDataId',0)\n                    }\n\n                })\n            },\n            chartReachBottom(){\n                this.getList()\n            },\n            // 选择用户\n            selectUser(item){\n                if(this.curId == item.id) return\n                item.mssage_num = 0\n                this.curId = item.id\n                this.$emit('setDataId',item)\n            },\n            handleScroll(vertical, horizontal, nativeEvent) {\n                if(vertical.process == 1){\n                    this.getList()\n                }\n            }\n        }\n    }\n</script>\n\n<style lang=\"stylus\" scoped>\n.chatList\n    display flex\n    flex-direction column\n    width 320px\n    height 742px\n    border-right 1px solid #ECECEC\n    .tab-head\n        display flex\n        align-items center\n        justify-content space-between\n        height 50px\n        flex-shrink 0\n        padding 0 52px\n        font-size 14px\n        color #000000\n        .item\n            position relative\n            cursor pointer\n            &:after\n                display none\n                content ' '\n                position absolute\n                left 50%\n                bottom -15px\n                transform translateX(-50%)\n                height 2px\n                width 100%\n                background #1890FF\n            &.active\n                color #1890FF\n                &:after\n                    display block\n\n    .scroll-box\n        flex 1\n        height 500px\n        overflow hidden\n    .chat-item\n        display flex\n        align-items center\n        justify-content space-between\n        padding 12px 10px\n        height 74px\n        box-sizing border-box\n        border-left 3px solid transparent\n        cursor pointer\n        &.active\n            background #EFF0F1\n            border-left 3px solid #1890FF\n        .avatar\n            position relative\n            width 40px\n            height 40px\n            img\n                display block\n                width 100%\n                height 100%\n                border-radius 50%\n            .status\n                position absolute\n                right 3px\n                bottom 0\n                width 8px\n                height 8px\n                background #48D452\n                border 1px solid #fff\n                border-radius 50%\n                &.off\n                    background #999999\n        .user-info\n            width 155px\n            margin-left 12px\n            margin-top: 5px;\n            font-size 16px\n            .hd\n                display flex\n                align-items center\n                color: rgba(0, 0, 0, 0.65);\n                .name\n                    max-width 67%\n                .label\n                    margin-left 5px\n                    color #3875EA\n                    font-size 12px\n                    background #D8E5FF\n                    border-radius 2px\n                    padding 1px 5px\n                    &.H5\n                        background #FAF1D0\n                        color #DC9A04\n                    &.wechat\n                        background: rgba(64, 194, 73, 0.16);\n                        color #40C249\n                    &.pc\n                        background: rgba(100, 64, 194, 0.16);;\n                        color #6440C2\n            .bd\n                margin-top 3px\n                font-size 12px\n                color #8E959E\n        .right-box\n            position relative\n            flex 1\n            display flex\n            flex-direction column\n            align-items flex-end\n            color #8E959E\n            .num\n                margin-right 12px\n.chart-scroll\n    margin-top -10px\n</style>\n\n"],"sourceRoot":"src/pages/kefu/pc/components"}]}