{"remainingRequest":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js!/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hujun/Downloads/永益科技后端/src/components/main/components/header-notice/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hujun/Downloads/永益科技后端/src/components/main/components/header-notice/index.vue","mtime":1610587844000},{"path":"/Users/hujun/Downloads/永益科技后端/.babelrc","mtime":1610587842000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hujun/Downloads/永益科技后端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIG5ld09yZGVyQXVkaW9MaW5rID0gbmV3IEF1ZGlvKHJlcXVpcmUoJ0AvYXNzZXRzL3ZpZGVvL25ld09yZGVyQXVkaW9MaW5rLm1wMycpKTsKaW1wb3J0IHsgam5vdGljZVJlcXVlc3QgfSBmcm9tICdAL2FwaS9jb21tb24nOwppbXBvcnQgeyBhZG1pblNvY2tldCB9IGZyb20gJ0AvbGlicy9zb2NrZXQnOwppbXBvcnQgeyBnZXRDb29raWVzLCByZW1vdmVDb29raWVzLCBzZXRDb29raWVzIH0gZnJvbSAnQC9saWJzL3V0aWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1VzZXInLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZWVkTGlzdDogW10sCiAgICAgIG5ld09yZGVyQXVkaW9MaW5rOiBudWxsCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5nZXROb3RpY3QoKTsKICAgIHRoaXMubmV3T3JkZXJBdWRpb0xpbmsgPSBuZXdPcmRlckF1ZGlvTGluazsKICAgIGFkbWluU29ja2V0LnRoZW4oZnVuY3Rpb24gKHdzKSB7CiAgICAgIHdzLnNlbmQoewogICAgICAgIHR5cGU6ICdsb2dpbicsCiAgICAgICAgZGF0YTogZ2V0Q29va2llcygndG9rZW4nKQogICAgICB9KTsKICAgICAgdmFyIHRoYXQgPSBfdGhpczsKICAgICAgdGhhdC4kb24oJ0FETUlOX05FV19QVVNIJywgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICB0aGF0LmdldE5vdGljdCgpOwogICAgICB9KTsKICAgICAgdGhhdC4kb24oJ05FV19PUkRFUicsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgdGhhdC4kTm90aWNlLmluZm8oewogICAgICAgICAgdGl0bGU6ICfmlrDorqLljZUnLAogICAgICAgICAgZHVyYXRpb246IDgsCiAgICAgICAgICBkZXNjOiAn5oKo5pyJ5LiA5Liq5paw55qE6K6i5Y2VKCcgKyBkYXRhLm9yZGVyX2lkICsgJyks6K+35rOo5oSP5p+l55yLJwogICAgICAgIH0pOwogICAgICAgIGlmICh0aGlzLm5ld09yZGVyQXVkaW9MaW5rKSB0aGlzLm5ld09yZGVyQXVkaW9MaW5rLnBsYXkoKTsKICAgICAgICB0aGF0Lm1lc3NhZ2VMaXN0LnB1c2goewogICAgICAgICAgdGl0bGU6ICfmlrDorqLljZXmj5DphpInLAogICAgICAgICAgaWNvbjogJ21kLWJ1bGInLAogICAgICAgICAgaWNvbkNvbG9yOiAnIzg3ZDA2OCcsCiAgICAgICAgICB0aW1lOiAwLAogICAgICAgICAgcmVhZDogMAogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhhdC4kb24oJ05FV19SRUZVTkRfT1JERVInLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHRoYXQuJE5vdGljZS53YXJuaW5nKHsKICAgICAgICAgIHRpdGxlOiAn6YCA5qy+6K6i5Y2V5o+Q6YaSJywKICAgICAgICAgIGR1cmF0aW9uOiA4LAogICAgICAgICAgZGVzYzogJ+aCqOacieS4gOS4quiuouWNlSgnICsgZGF0YS5vcmRlcl9pZCArICcp55Sz6K+36YCA5qy+LOivt+azqOaEj+afpeeciycKICAgICAgICB9KTsKICAgICAgICBpZiAod2luZG93Lm5ld09yZGVyQXVkaW9MaW5rKSB0aGlzLm5ld09yZGVyQXVkaW9MaW5rLnBsYXkoKTsKICAgICAgICB0aGF0Lm1lc3NhZ2VMaXN0LnB1c2goewogICAgICAgICAgdGl0bGU6ICfpgIDmrL7orqLljZXmj5DphpInLAogICAgICAgICAgaWNvbjogJ21kLWluZm9ybWF0aW9uJywKICAgICAgICAgIGljb25Db2xvcjogJyNmZTVjNTcnLAogICAgICAgICAgdGltZTogMCwKICAgICAgICAgIHJlYWQ6IDAKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoYXQuJG9uKCdXSVRIRFJBVycsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgdGhhdC4kTm90aWNlLndhcm5pbmcoewogICAgICAgICAgdGl0bGU6ICfmj5DnjrDmj5DphpInLAogICAgICAgICAgZHVyYXRpb246IDgsCiAgICAgICAgICBkZXNjOiAn5pyJ55So5oi355Sz6K+35o+Q546wKCcgKyBkYXRhLmlkICsgJyks6K+35rOo5oSP5p+l55yLJwogICAgICAgIH0pOwogICAgICAgIHRoYXQubWVzc2FnZUxpc3QucHVzaCh7CiAgICAgICAgICB0aXRsZTogJ+mAgOasvuiuouWNleaPkOmGkicsCiAgICAgICAgICBpY29uOiAnbWQtcGVvcGxlJywKICAgICAgICAgIGljb25Db2xvcjogJyNmMDYyOTInLAogICAgICAgICAgdGltZTogMCwKICAgICAgICAgIHJlYWQ6IDAKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoYXQuJG9uKCdTVE9SRV9TVE9DSycsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgdGhhdC4kTm90aWNlLndhcm5pbmcoewogICAgICAgICAgdGl0bGU6ICflupPlrZjpooToraYnLAogICAgICAgICAgZHVyYXRpb246IDgsCiAgICAgICAgICBkZXNjOiAnKCcgKyBkYXRhLmlkICsgJynllYblk4HlupPlrZjkuI3otrMs6K+35rOo5oSP5p+l55yLJwogICAgICAgIH0pOwogICAgICAgIHRoYXQubWVzc2FnZUxpc3QucHVzaCh7CiAgICAgICAgICB0aXRsZTogJ+W6k+WtmOmihOitpicsCiAgICAgICAgICBpY29uOiAnbWQtaW5mb3JtYXRpb24nLAogICAgICAgICAgaWNvbkNvbG9yOiAnI2ZlNWM1NycsCiAgICAgICAgICB0aW1lOiAwLAogICAgICAgICAgcmVhZDogMAogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhhdC4kb24oJ1BBWV9TTVNfU1VDQ0VTUycsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgdGhhdC4kTm90aWNlLmluZm8oewogICAgICAgICAgdGl0bGU6ICfnn63kv6HlhYXlgLzmiJDlip8nLAogICAgICAgICAgZHVyYXRpb246IDgsCiAgICAgICAgICBkZXNjOiAn5oGt5Zac5oKo5YWF5YC8JyArIGRhdGEucHJpY2UgKyAn5YWD77yM6I635b6XJyArIGRhdGEubnVtYmVyICsgJ+adoeefreS/oScKICAgICAgICB9KTsKICAgICAgICB0aGF0Lm1lc3NhZ2VMaXN0LnB1c2goewogICAgICAgICAgdGl0bGU6ICfnn63kv6HlhYXlgLzmiJDlip8nLAogICAgICAgICAgaWNvbjogJ21kLWJ1bGInLAogICAgICAgICAgaWNvbkNvbG9yOiAnIzg3ZDA2OCcsCiAgICAgICAgICB0aW1lOiAwLAogICAgICAgICAgcmVhZDogMAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Tm90aWN0OiBmdW5jdGlvbiBnZXROb3RpY3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgam5vdGljZVJlcXVlc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIubmVlZExpc3QgPSByZXMuZGF0YSB8fCBbXTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIGp1bXBVcmw6IGZ1bmN0aW9uIGp1bXBVcmwodXJsKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiB1cmwKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"header-notice\">\n    <Dropdown @on-click=\"jumpUrl\">\n      <div>\n        <Badge dot :count=\"needList.length?needList.length:0\">\n          <Icon type=\"ios-notifications-outline\" size=\"26\"></Icon>\n        </Badge>\n      </div>\n      <DropdownMenu slot=\"list\">\n        <DropdownItem :name=\"item.url\" v-for=\"(item,index) in needList\" :key=\"index\"><Icon :type=\"item.icon\" :style=\"'background-color:'+item.iconColor\" class=\"iconImg\" />{{item.title}}</DropdownItem>\n      </DropdownMenu>\n    </Dropdown>\n  </div>\n</template>\n<style lang=\"less\">\n  .header-notice{\n    margin-right: 30px;\n  }\n  .header-notice .ivu-dropdown-item{\n    font-size: 14px!important;\n    font-weight: 400;\n    line-height: 22px;\n    color: #515a6e;\n  }\n  .header-notice .ivu-dropdown-item~.ivu-dropdown-item{\n    border-top: 1px solid #e8eaec;\n  }\n  .header-notice .iconImg{\n    width: 32px;\n    height: 32px;\n    line-height: 32px;\n    border-radius: 50%;\n    color: #fff;\n    font-size: 18px;\n    margin-right: 10px;\n    vertical-align: middle;\n  }\n  .header-notice .ivu-dropdown{\n    height: 30px;\n    line-height: 30px;\n  }\n  .header-notice .ivu-dropdown .ivu-select-dropdown{\n    margin-top: 22px;\n  }\n  .header-notice .ivu-badge-dot{\n    z-index: 0!important;\n  }\n</style>\n<script>\n    let newOrderAudioLink = new Audio(require('@/assets/video/newOrderAudioLink.mp3'));\n    import { jnoticeRequest } from '@/api/common'\n    import {adminSocket} from '@/libs/socket';\n    import { getCookies, removeCookies,setCookies } from '@/libs/util'\n    export default {\n        name: 'User',\n        data () {\n            return {\n                needList: [],\n              newOrderAudioLink:null\n            }\n        },\n        mounted () {\n          this.getNotict()\n          this.newOrderAudioLink = newOrderAudioLink;\n          adminSocket.then(ws=>{\n            ws.send({\n              type: 'login',\n              data: getCookies('token')\n            })\n            let that = this;\n            that.$on('ADMIN_NEW_PUSH', function (data) {\n              that.getNotict();\n            })\n\n            that.$on('NEW_ORDER', function (data) {\n              console.log(data);\n              that.$Notice.info({\n                title: '新订单',\n                duration: 8,\n                desc: '您有一个新的订单(' + data.order_id + '),请注意查看'\n              });\n              if (this.newOrderAudioLink) this.newOrderAudioLink.play();\n              that.messageList.push({\n                title: '新订单提醒',\n                icon: 'md-bulb',\n                iconColor: '#87d068',\n                time: 0,\n                read: 0\n              });\n            });\n            that.$on('NEW_REFUND_ORDER', function (data) {\n              that.$Notice.warning({\n                title: '退款订单提醒',\n                duration: 8,\n                desc: '您有一个订单(' + data.order_id + ')申请退款,请注意查看'\n              });\n              if (window.newOrderAudioLink) this.newOrderAudioLink.play();\n              that.messageList.push({\n                title: '退款订单提醒',\n                icon: 'md-information',\n                iconColor: '#fe5c57',\n                time: 0,\n                read: 0\n              });\n            });\n            that.$on('WITHDRAW', function (data) {\n              that.$Notice.warning({\n                title: '提现提醒',\n                duration: 8,\n                desc: '有用户申请提现(' + data.id + '),请注意查看'\n              });\n              that.messageList.push({\n                title: '退款订单提醒',\n                icon: 'md-people',\n                iconColor: '#f06292',\n                time: 0,\n                read: 0\n              });\n            });\n            that.$on('STORE_STOCK', function (data) {\n              that.$Notice.warning({\n                title: '库存预警',\n                duration: 8,\n                desc: '(' + data.id + ')商品库存不足,请注意查看'\n              })\n              that.messageList.push({\n                title: '库存预警',\n                icon: 'md-information',\n                iconColor: '#fe5c57',\n                time: 0,\n                read: 0\n              });\n            });\n            that.$on('PAY_SMS_SUCCESS', function (data) {\n              that.$Notice.info({\n                title: '短信充值成功',\n                duration: 8,\n                desc: '恭喜您充值' + data.price + '元，获得' + data.number + '条短信'\n              });\n              that.messageList.push({\n                title: '短信充值成功',\n                icon: 'md-bulb',\n                iconColor: '#87d068',\n                time: 0,\n                read: 0\n              });\n            });\n          })\n        },\n        methods: {\n            getNotict () {\n                jnoticeRequest().then(res => {\n                    this.needList = res.data || []\n                }).catch(() => {})\n            },\n            jumpUrl (url) {\n                this.$router.push({ path: url })\n            }\n        }\n    }\n</script>\n"],"sourceRoot":"src/components/main/components/header-notice"}]}